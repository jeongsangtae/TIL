# 거래 명세서 프로젝트 설계

### 거래 명세서 프로젝트 계기

- 계기
  - 학교 선배의 불편 사항으로 관심이 생겨 거래 명세서를 관리하는 웹 사이트를 한번 만들어볼까하는 생각에 천천히 함께 만들어보자고 하여 내용 구상을 구상하게 됨
  - 거래 명세서를 통해서 세금 계산서를 끊어 주는데 이 과정에서 업체와 업체 사이에서 실수로 확인을 하고 안하고 이런 문제가 발생하기 때문에 그러한 문제 발생을 방지하고자 홈페이지에서 엑셀, pdf 파일을 받아서 DB에 저장하고 또, 리스트를 확인할 수 있게 해주는 웹 사이트를 생각하고 기획하게 되었다. (장기 프로젝트로 개발하게 될 예정)

### 거래 명세서 프로젝트 제작 툴 (Frond-end, Back-end, DB)

- 제작 툴 선택 과정
  - 워드 프레스 + php + mysql 또는 python + mysql 얘기가 나왔는데 워드 프레스와 PHP로 개발하는 건 처음이라서 한다면 공부를 하면서 진행을 해야하고, python으로 개발하는 건 예전에 해본 경험은 있지만 다른 라이브러리를 사용해서 개발을 해야하고 또, python을 한지 좀 되었기 때문에 어차피 공부하면서 개발을 해야한다는 얘기가 나와서 결국 python이 좀 더 서로에게 도움이 될 거 같다는 결론이 나와서 python + mysql로 개발을 하기로 얘기가 되었다.
- 최종 선택
  - python으로 백엔드를 구성하고 mysql로 db를 구성, 프론트엔드에서는 python의 django 또는 flask로 해도 되지만 제약도 좀 많고, UI 부분에서 유연성도 부족하기 때문에 자유롭게 UI 구성을 할 수 있도록 React, JS로 결정을 하게 되었다.
  - FE : React
  - BE : Python
  - DB : MySQL

### 거래 명세서 UI 설계

- UI 설계
  - 페이지 설계 구조
    - 회원가입 페이지
      - 회원가입 완료후 바로 로그인 페이지로 이동
      - 회원가입이 되어있는 상태라면 바로 로그인 페이지로 이동하는 버튼 추가
    - 로그인 페이지
      - 로그인시 메인 페이지로 이동
      - 로그인할 아이디가 없다면 회원가입 페이지로 이동하는 버튼 추가
    - 파일 업로드 페이지 (메인 페이지로 예상)
      - 파일 업로드 버튼 클릭시 비로그인 상태라면 회원가입 페이지로 이동
      - 거래 명세서 업로드
    - 리스트업된 페이지
      - 로그인한 계정이 저장한 데이터를 한눈에 보이도록 구성
    - 거래 명세서 확인/미확인 하는 페이지
      - 거래 명세서 조회
        - 전체 목록 조회 (업체별로 조회할 수 있도록 해야함)
        - 승인 대기 목록 조회
  - 페이지는 위처럼 5개의 페이지로 일단은 생각을 해두었고, 사이드 바를 통해서 따로 메뉴가 뜨도록해서 페이지를 이동하는 방식을 생각하고 있다.

<br />

### 거래 명세서 DB 설계

- DB 설계
  - 회원가입한 계정 테이블 (회원 정보가 저장된 테이블)
    - ID (PK)
    - 비밀번호 (비밀번호는 해싱해서 저장)
    - 회사명
    - 사용자 이름
  - 로그인 세션 정보가 저장되는 테이블 (로그인 했을 때)
    - 현재 로그인된 ID 저장 1번의 회원가입 ID (FK)
    - UUID를 사용해 고유한 식별자로 저장 (PK)
    - 로그인 순서대로 자동 증가하는 정수값을 할당 (PK)
    - 만료 기한 저장
  - 파일 업로드 된 내용 저장하는 테이블
    - 2번의 로그인 세션 정보 테이블의 고유ID(2-2) 연결 (FK)
    - 업로드된 파일을 순차적으로 저장해서 그 번호를 저장(PK)
    - 파일 이름 저장
  - 거래 명세서를 확인하는 테이블
    - 2번의 로그인 세션 정보 테이블의 고유ID(2-2) 연결 (FK)
    - 3번의 업로드된 파일의 번호를 자동 저장 (FK)
    - 4-1에 FK가 하나씩 늘어날 때마다 자동 증가하는 정수값 할당 (PK)
    - 저장된 파일을 조회했는지 확인 (사용자)
    - 파일을 조회 안했다면 false
    - 파일을 조회 했다면 true
    - 저장된 파일을 조회했는지 확인 (관리자)
    - 파일을 조회 안했다면 false
    - 파일을 조회 했다면 true
