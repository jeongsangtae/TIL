# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 사용자 프로필 채팅 메시지 전송 시 다이렉트 채팅방 이동하는 로직 추가 테스트
  - 사용자 프로필에서 다이렉트 채팅 메시지 전송 시에 해당 사용자와 관련된 다이렉트 채팅방으로 이동하는 로직을 추가해 테스트
  - 프론트엔드
    - chatStore
      - userProfileDirectSendMessage 액션 타입 수정
        - `Promise<void>`가 아닌 `Promise<string>`로 수정
      - userProfileDirectSendMessage 액션 수정
        - 콘솔 로그를 추가해 넘어오는 데이터 확인
        - 넘어온 데이터에서 방 번호 정보를 반환하도록 구성
          - `return resData.newMessage.roomId`
    - DirectChatPanel
      - useDirectChatStore에서 불러온 directChatForm 액션 내용 삭제
    - UserProfileChatInput
      - useNavigate Hook을 불러와 사용할 수 있도록 구성
      - sendMessageHandler 함수 수정
        - 비동기 함수로 수정하고 비동기 함수 관련 타입 정의
        - roomId 변수 추가
          - userProfileDirectSendMessage 액션에 이전처럼 targetUser, message.trim(), userInfo를 전달하도록 구성
          - 해당 내용들을 전달하고 방 번호를 반환받아 저장
          - 이전에 구성한 userProfileDirectSendMessage 액션에 전달하는 내용 주석 처리
      - navigate를 추가해 메시지 전송 후 "/me/roomId" 경로로 이동하도록 구성
  - 사용자 프로필에서 다이렉트 메시지 전송 시에 해당 사용자와 다이렉트 채팅을 주고 받는 채팅방으로 이동하는 로직을 추가해 확인한 결과, 큰 문제없이 작동되어 메시지 저장후 채팅방으로 이동해 바로 이전에 보냈던 메시지가 보여지는 것을 확인할 수 있었다.
    - 다이렉트 채팅방 목록, 그룹 채팅방 내의 사용자 목록, 사용자 정보가 보여지는 아바타 내용에서 테두리 두께 설정 확인 필요
    - 로그인, 회원가입 페이지 배경에 사용되는 여러 이미지를 더 추가해 테스트해봐야 함
    - 해야 할 일에 정리된 내용 처리 필요
    - 다이렉트 채팅방 순서가 변경될 때 부드럽게 변경되는 기능
    - 그룹 채팅방 위치를 자유롭게 변경하는 기능
    - 그룹 채팅방 우클릭 시에 보여지는 컨텍스트 메뉴 CSS 수정 필요 (위치, UI 등)
    - 다크 모드 및 라이트 모드 관련 내용
    - 화면 투명도 관련 내용
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/d22a9ac979402c7d7140e020cd95b4fc90804980)

# 오늘 느낀 점

- 사용자 프로필에서 메시지를 전송하면 해당 사용자와 관련된 다이렉트 채팅방으로 이동하는 로직은 구성하지 않고 메시지 전송 시에 전송했다는 알림창만 뜨도록 하려고 했으나 막상 구성해 테스트해본 결과, 큰 문제없이 작동되는 것을 확인했기 때문에 일단 현재 구성한 상태로 유지할 생각이다. 추가로 그룹 채팅방 위치를 자유롭게 변경하는 기능 관련해 찾아본 정보가 있는데, 해당 내용을 정리하려고 했으나 어차피 정리해도 큰 의미가 있진 않을 것으로 생각되어 바로 내용을 구성해 테스트해볼 생각이며, 아바타 온라인 점 내용과 컨텍스트 메뉴 관련 CSS도 바로 수정해 좀 더 자연스러운 UI로 보여지도록 구성할 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

- 다크 모드 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
