# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 그룹 채팅방 패널 내의 공지사항 관련 조건부 수정 및 그룹 채팅방 내의 공지사항 삭제 관련 내용 추가
  - 공지사항 내용을 제출하려고 할 때, 글자 수를 확인해 제출 버튼이 활성화되는데 이 때 0글자일 때도 제출 버튼이 활성화되도록 관련 조건부를 수정하고, 그룹 채팅방 패널 내의 공지사항 내용에서 삭제 버튼이 보여지며 해당 버튼 클릭 시에 삭제 확인을 위한 모달창이 띄워지도록 구성
  - 프론트엔드
    - modalStore
      - ModalStore 타입 정의 수정
        - activeModal 항목에 "groupChatAnnouncementDeleteConfirm" 값을 추가
        - toggleModal 항목의 type 내용에 "groupChatAnnouncementDeleteConfirm" 값을 추가
    - GroupChatPanel
      - lucide react에서 Trash2, SquarePen 아이콘을 불러오도록 구성
      - groupChatAnnouncementDeleteHandler 함수 추가
        - toggleModal 액션에 `"groupChatAnnouncementDeleteConfirm", "PATCH", {groupChatId}` 내용을 전달하도록 구성
      - JSX 코드 내용 수정
        - 공지사항 내의 아이콘 영역 전체를 감싸는 div 추가
          - group-chat-announcement-icon-wrapper className으로 구성
        - 공지사항 삭제 버튼 및 조건부 추가
          - announcement를 조건부로 사용해 true일 때, 휴지통 모양의 아이콘인 Trash2 아이콘이 보여지도록 구성
            - 공지사항 내용이 있을 경우에만 휴지통 모양의 아이콘이 보여짐
            - 삭제 버튼으로 사용될 아이콘
          - 공지사항 삭제 버튼
            - group-chat-announcement-delete-icon className으로 구성
            - onClick을 추가해 groupChatAnnouncementDeleteHandler 함수가 사용되도록 구성
        - 공지사항 수정 버튼 수정
          - FiEdit react icon 대신에 SquarePen lucid icon이 사용되도록 수정
          - group-chat-announcement-edit-icon className으로 구성
        - 공지사항 삭제 확인창을 띄우는 내용 및 조건부 추가
          - activeModal 상태가 "groupChatAnnouncementDeleteConfirm"일 경우 GroupChatAnnouncementDeleteConfirm 컴포넌트 내용을 보여주도록 구성
          - GroupChatAnnouncementDeleteConfirm 컴포넌트에 onToggle props를 추가해 toggleModal 액션에 "groupChatAnnouncementDeleteConfirm" 내용얼 전달하도록 구성
    - GroupChatAnnouncementForm
      - announcementValid 변수 수정
        - "trimmedAnnouncement.length >= 1" 조건부를 삭제하고 "trimmedAnnouncement.length <= 50" 조건부만 남기도록 수정
        - 0글자일 때도 제출되어 등록된 공지사항이 없음을 알려주도록 구성
    - GroupChatAnnouncementDeleteConfirm
      - useModalStore Zustand에서 modalData 상태를 불러와 사용할 수 있도록 구성
      - useGroupChatStore Zustand에서 groupChatAnnouncementForm 액션을 불러와 사용할 수 있도록 구성
        - groupChatAnnouncementForm 액션은 아직 구성되지 않은 상태
      - confirmHandler 함수 추가
        - groupChatAnnouncementForm 액션에 "", modalData를 전달하도록 구성
          - 해당 액션은 아직 추가하지 않은 상태이기 때문에 주석 처리
        - 수락 버튼 클릭 시에 콘솔창에 삭제 성공 메시지가 띄워지도록 구성
        - onToggle props가 실행되도록 구성
        - 오류 발생 시에 오류 메시지가 콘솔창에 보여지도록 구성
      - JSX 코드 내용 수정
        - Modal 컴포넌트를 래퍼로 구성
          - onToggle props를 통해 onToggle 내용이 전달되도록 구성
          - h2를 추가해 제목 구성
          - p태그를 추가해 확인 메시지 구성
          - 삭제와 취소 버튼을 감싸는 div 추가
          - 삭제 버튼에 onClick을 추가해 confirmHandler 함수가 실행되도록 구성
          - 취소 버튼에 onClick을 추가해 onToggle props 내용이 실행되도록 구성
  - CSS
    - GroupChatPanel
      - group-chat-announcement-icon-wrapper
        - display를 flex로 구성
      - group-chat-announcement-delete-icon
        - width, height를 1.1rem으로 구성
        - margin-rigth를 1rem으로 구성
        - cursor를 pointer로 구성
      - group-chat-announcement-edit-icon
        - width, height를 1rem으로 구성
        - position을 relative로 구성
        - top을 2px로 구성해 삭제 버튼과 높이 맞춤
        - cursor를 pointer로 구성
  - 공지사항 내용이 0글자일 때도 제출될 수 있도록 수정하고, 그룹 채팅방 패널 내의 공지사항 내용에 휴지통 모양의 아이콘이 보여져 클릭 시에 삭제 확인을 위한 메시지 모달창이 띄워지도록 구성하고 확인한 결과, 공지사항 내용이 0글자일 때 제출하면 등록된 공지사항이 없다는 메시지가 띄워지는 것을 확인했고, 공지사항 내의 휴지통 모양 아이콘을 클릭하면 삭제 확인을 위한 모달창이 띄워져 삭제, 취소 버튼이 보여지고 해당 버튼 클릭 시에 모달창이 닫히는 것을 확인할 수 있었다.
    - 공지사항 내용을 삭제하는 휴지통 모양의 아이콘을 추가하고 클릭 시에 확인을 위한 모달창만 보여진 상태에서 삭제는 진행되지 않기 때문에 삭제와 관련된 로직을 추가해야 함
    - 공지사항 내용이 길어질 경우 스크롤이 보여지고 있지만, 전체 내용을 한 번에 보기 어려운 부분이 있으므로 전체 보기나 더보기 같은 버튼을 통해 내용을 한 눈에 볼 수 있는 방법 필요
    - 로그인, 회원가입 페이지 배경을 조금 수정해 좀 더 자연스러운 이미지나 UI가 보여지도록 수정해야 함
    - 채팅 목록에 스크롤이 있을 때와 없을 때 채팅 입력창 위치가 달라지므로 이와 관련된 내용 수정 필요 (하단에 고정되도록 수정 필요)
    - F12를 눌러서 콘솔창을 열었을 때, 어떤 내용은 크기에 맞춰서 줄어들고 어떤 내용은 그냥 콘솔창이 그룹 채팅방 패널을 가리는 문제가 발생하기 때문에 이와 관련해 수정 필요
    - 정리해야 할 내용은 정리하고 채팅 목록과 관련된 스크롤 관련 기능을 수정해봐야 함
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/84949d3de41cfc7c9a601ff2c60ecc2486188e35)

# 오늘 느낀 점

- 공지사항 내용이 0글자일 때 제출 버튼이 활성화되어 해당 내용이 제출될 수 있도록 수정하고 0글자인 상태로 제출하면 등록된 공지사항이 없다는 메시지가 보여지도록 구성해주었다. 그리고 공지사항 출력하는 내용에 휴지통 모양의 아이콘을 추가해 해당 버튼 클릭 시에 공지사항 삭제 확인을 위한 메시지와 버튼들이 보여지고 버튼 클릭 시에 확인 모달창이 닫히도록 구성을 해주었는데, 현재 모달창만 닫히고 공지사항 삭제가 되지 않는 상황이기 때문에 공지사항 삭제와 관련된 로직을 추가해 정상적으로 삭제될 수 있도록 구성해줘야 한다. 추가로 공지사항 출력 부분에서 내용이 길어질 경우 스크롤이 보여지고 있는데 이 때 사용자가 스크롤로 이동하면서 내용을 확인하는 것이 아닌, 한 눈에 전체 공지사항 내용을 확인할 수 있도록 펼치고 접는 버튼을 추가해줄 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 출력되는 채팅 메시지 목록에 스크롤 관련 내용을 추가 수정해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
