# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 게시글 제목, 내용 출력 문제 수정 (split, slice) 및 게시글 세부 내용 제목 태그 수정 및 제목 input에 제한 길이 추가
    - 게시글 제목, 내용에서 줄바꿈없이 길게 입력했을 경우에 ... 내용이 보여지지 않고 그대로 다 보여지는 문제를 해결하기 위해서 출력되는 부분에서 로직을 추가해서 처리해주고, 제목 태그가 깨지는 부분도 함께 해결해주었으며, 제목 입력에 사용되는 input에서 글자 수를 제한해서 적당한 제목 내용을 입력할 수 있도록 구성해주었다.
    - 프론트엔드
      - PostForm
        - 제목과 관련된 input 내용에서 maxLength를 추가해서 제목 글자 수를 제한
      - Post
        - 제목이 전체적으로 다 보여지는 것이 아닌, 미리보기로 한 줄만 보이도록 구성
          - 미리보기를 위한 줄 수 제한
          - 최대 보여지는 글자 수 제한
            - 모바일에서 보여지는 글자 수 제한은 따로 구성
          - 제목 줄바꿈과 길이를 제한하는 내용
            - split에 map을 사용해서 줄 길이와 최대 길이를 비교해서 줄 길이가 더 클 경우 뒤에 내용은 잘라서 ...이 보이도록 구성
            - 반대로, 최대 길이가 더 길다면 그대로 입력한 내용이 보이도록 구성
            - 모바일에서 보여지는 줄 길이 제한은 따로 구성
          - 미리보기로 보여주는 제목 내용
            - 내용을 확인해서 잘라내도록 구성
            - 모바일에 적용되는 내용은 따로 구성
          - 더 많은 줄이 있는 지 확인하는 내용
            - 줄 수를 확인해서 true, false로 반환하도록 구성
            - 모바일에 적용되는 내용은 따로 구성
        - 내용에서 줄 수만으로 끊는 것이 아닌, 글자 수로도 끊기도록 수정
          - 최대 보여지는 글자 수 제한
          - 내용 줄바꿈과 글자 수 길이를 제한하는 내용
            - 기존의 줄바꿈만 확인하는 내용에서 글자 수도 함께 확인하도록 수정
          - 미리보기로 보여주는 내용
            - 기존과 동일하게 구성하고 변수명만 수정
          - 더 많은 줄이 있는 지 확인하는 내용
            - 기존과 동일하게 구성하고 변수명만 수정
        - 제목을 출력하는 JSX 코드에서 수정
          - 데스크탑 환경 유무를 확인해서 데스크탑 환경일 때는 데스크탑 환경 내용이 적용되고, 모바일 환경일 때는 모바일 환경 내용이 적용되도록 구성
    - CSS
      - Post
        - display: -webkit-box, -webkit-box-orient: vertical, -webkit-line-clamp: 1, overflow: hidden, text-overflow: ellipsis를 추가해서 텍스트가 일정 줄 이상일 때 자동으로 ... 내용이 보여지도록 구성
        - 이 코드는 테스트해보고 주석 처리를 해주었는데, 이유는 -webkit-line-clamp 설정에 따라서 입력 줄이 넘어가면 ...으로 보여지는 것은 확인했지만, overflow: hidden 내용으로 인해 텍스트가 짤리는 문제가 발생하기 때문에 주석 처리
      - PostDetails
        - 제목 태그 내용인 title span에 min-width 내용을 추가
        - 모바일 환경에서는 min-width 내용이 조금 다른 수치로 적용되도록 구성
          - 조금 더 낮은 수치로 크기 조절
    - 제목 부분에서 적용시킨 줄바뀜, 글자 수 제한 내용이 정상적으로 적용되는 것을 확인했고, 수정한 내용으로 데스크탑 환경의 제목 태그 내용이 더 이상 망가지지 않는 것을 확인
      - 모바일 환경에서도 똑같이 적용되어서 제목 태그 내용이 망가지지 않는 것을 확인
    - 게시글 세부 페이지에서는 제목 내용이 모두 보여지면서 제목 태그가 망가지는 문제가 발생하는데, 이 문제를 해결하기 위해서 min-width 내용을 추가하고 강제로 크기 유지가 되도록 해서 문제를 해결해주었다.
      - 모바일 환경에서는 조금 작게 보이는 것을 확인
    - 기존의 내용은 줄바꿈에서만 ...을 보여주기 때문에 글자 수 제한도 추가해서 적용시켜줬으나, 내용을 길게 입력하고 줄바꿈을 사용하면 두 가지 내용이 같이 적용되어서 ... 내용이 2번 보이기 때문에 추가 수정이 필요함
      - 추가 수정으로, 초기에 글자 수를 확인해서 ...이 보이도록 해주고, 그 이후에는 2줄이 넘어가면 줄바꿈 이런 여부 상관없이 ... 보이도록 해주는 방향으로 고려중
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/a216f7439eff1ebc7b2650476359d9f821b631a5)

<br />

- 추가 및 해결 해야 할 내용
  - 마지막 기능 추가로, 관리자 권한을 부여하는 내용을 생각하고 있음
    - 가입할 때는 일반 사용자로 가입을 할 수 있고, admin 관리자 계정으로 관리자 페이지에서 관리자 권한을 부여하는 내용을 생각 중
  - 새롭게 발견한 문제
    - 관리자 채팅의 사용자 리스트에서 사용자와 나눈 마지막 메시지 내용을 가져오는데, 이 때 새로고침을 하지 않으면 당장 채팅을 나눠도 실시간으로 마지막 메시지가 갱신되지 않아서 새로운 메시지가 있는 지 확인할 수 없기 때문에 추가하는 것도 고려해야 함
    - 한편으로는, 관리자 채팅이라서 사용자가 겪는 불편함이 아니기 때문에 그냥 놔두는 것도 고려 중
  - 배포하는 과정에서 오류가 생겼던 부분과 해결한 오류에 관한 내용을 정리해줘야 함
    - CORS 오류, Rewrite 관련 내용 등
    - 로컬 스토리지 초기화 오류 해결한 방법에 대한 정리가 필요
  - 설계, 결과 이 부분에 대한 내용을 정리해줘야 하고, 발생했던 에러에 대해 최대한 정리해주는 것도 필요함
    - 파일은 구성해놓은 상태이기 때문에 내용 정리만 차분히하면 됨
    - 설계는 완료
    - 결과 진행중
  - 오류 수정 필요
    - 예전에 확인한 오류인데 까먹고 수정하지 않은 오류로, 채팅에서 다음 라인으로 내려가지 않고 쭉 입력하면 그 라인이 변경되어 입력되더라도 제출하게되면 보이는 부분에서 라인 변경이 되지 않고, 그대로 길게 입력한채로 출력이 되기 때문에 이 부분에 대한 수정이 필요함
      - 이 내용은 수정했지만 추가로 다른 문제가 확인됨
    - 라인으로 넘겨서 작성한 경우가 아니면 아무리 내용이 길어도 ... 내용이 보여지지 않고 그대로 보여지는 것을 확인해서 이에 대해 수정해줘야 함
      - 제목 부분에서는 문제가 없지만, 내용 부분에서 줄바꿈이랑 줄 길이 제한이 함께 적용되기 때문에 이 부분에 대한 수정이 필요함
      - 2줄까지만 보여지고, 그 뒤는 바로 ...으로 보여서 3줄까지는 보이지 않도록 해주는 것을 고려중
    - 제목 내용에서 길게 작성된 경우, 태그가 아래로 내려가기 때문에 이에 대한 수정도 필요
      - 제목 태그 원의 최소 크기를 조절해서 해결

# 오늘 느낀 점

- 게시글 제목이 길게 작성되었을 때 미리보기로 짧게 보여지지 않고 그대로 모두 보여지는 문제로 인해서, 제목 태그가 망가지는 문제와 게시글 내용에서 줄바꿈이 아닌 길게 입력했을 때는 미리보기로 짧게 보이지 않고, ... 내용도 보이지 않기 때문에 수정을 해주었으며, 게시글 세부 페이지에서 제목 태그가 깨지는 문제도 수정을 해주었다. 수정한 내용이 거의 문제는 없지만 게시글 내용 미리보기 부분에서 ...으로 보이는 내용이 줄바꿈과 글자 수 제한으로 인해서 2번 적용되어 보이기 때문에 이 부분에 대한 수정이 필요한 상황이다. 이 문제를 해결하기 위해서는 글자 수 제한 두고, 그 다음 줄 수를 확인해서 ...이 적용되도록 해줘야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
