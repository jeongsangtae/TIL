# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 모바일 환경 채팅 컨테이너 높이 수정 테스트
    - CSS
      - Chats
        - max-height를 100%로 추가
        - 미디어 쿼리 추가해서 420px에서 채팅 컨테이너 높이 수정
          - 높이에 calc를 사용해서 75vh에 50px를 빼서 뷰포트 높이가 줄어들도록 구성
          - 채팅창의 높이가 감소하도록 구성
    - 재배포 후 확인
      - 채팅을 입력창을 클릭하면 자판으로 인해서 채팅창이 위로 올라오게 되면서 화면 밖으로 밀려나는 것을 확인
      - 해당 문제를 해결하기 위해서 높이를 조절하고 뷰포트 높이에 따라 동적으로 크기가 조정되도록 구성
      - 확인해본 결과, 자판이 올라왔을 때 채팅창 크기가 축소하면서 채팅창이 화면 밖으로 밀려나지 않는 것을 확인
      - 하지만, 너무 채팅창 크기가 작아서 수치 조절이 필요함
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/0562db3770cd1e34e4caee43f58bc66f8029419b)

  <br />

  - 모바일 환경 채팅 컨테이너 높이 수정 테스트 (최소 높이, 높이 조절 등 테스트)
    - CSS
      - Chats
        - 첫 번째 수정 테스트
          - min-height 50vh를 미디어 쿼리 내용에 추가했을 때는 아무런 변화가 없었음
        - 두 번째 수정 테스트
          - calc를 사용하지 않고, height를 통해 조절
    - 재배포 후 확인
      - 첫 번째 수정 테스트
        - min-height를 추가했을 때는 아무런 변화가 없었음
        - 해당 내용은 삭제해도 됨
      - 두 번째 수정 테스트
        - calc를 사용하지 않고, height로 조절했을 때는 뷰포트에 맞춰서 동적으로 변화되는 모습없이 여전히 짤리는 모습을 확인했으며, 이 방법으로는 해결할 수 없기에 calc를 사용해서 적절히 조절해야 함
    - [코드 내용 1](https://github.com/jeongsangtae/mini-community-platform/commit/301dff43ce7dfe2fe4b85fa63e3ffc378cf7349d)
    - [코드 내용 2](https://github.com/jeongsangtae/mini-community-platform/commit/af7068c86f2272db904a012939dfb4585292550f)

  <br />

  - 모바일 환경 채팅 컨테이너 높이 수정 테스트 (calc 수정)
    - CSS
      - Chats
        - 첫 번째 수정 테스트
          - 50px가 아닌 25px로 수정
        - 두 번째 수정 테스트
          - 75vh가 아닌 rem으로 설정하고 rem만큼 빼도록 수정
        - 세 번째 수정 테스트
          - rem 수치를 변경해서 테스트
        - 네 번째 수정 테스트
          - rem 수치를 변경해서 테스트
    - 재배포 후 확인
      - 첫 번째 수정 테스트
        - 25px로 줄였을 때, 너무 위쪽에 붙기 때문에 수치 조절을 해줘야 함
      - 두 번째 수정 테스트
        - rem으로 변경했을 때는 이전에 height를 통해서 조절했을 때와 마찬가지로 채팅창이 화면 밖으로 밀려나기 때문에 수치를 조절해서 다시 테스트해봐야 함
      - 세 번째 수정 테스트, 네 번째 수정 테스트
        - rem 수치를 조절해도 뷰포트에 맞춰서 동적으로 변화되는 모습없이 여전히 짤리기 때문에 vh와 px또는 vh와 rem을 사용해서 구성해야 함
    - [코드 내용 1](https://github.com/jeongsangtae/mini-community-platform/commit/ba41f7aa3edabc187d0662716f9902cfad781344)
    - [코드 내용 2](https://github.com/jeongsangtae/mini-community-platform/commit/205500d28f6cf3dc2c7708b9a95b2a835ca7946f)
    - [코드 내용 3](https://github.com/jeongsangtae/mini-community-platform/commit/d35d864043bca09dcec968bb8aba04a1265d3c4b)
    - [코드 내용 4](https://github.com/jeongsangtae/mini-community-platform/commit/068be52847dd05e3d517b9e3499bc2ac43f65c5d)

  <br />

  - 모바일 환경 채팅 컨테이너 높이 수정 테스트 (calc 수정) 및 메인헤더 로고 폰트 수정
    - CSS
      - Chats
        - 첫 번째 수정 테스트
          - 80vh로 수정하고 25px를 빼도록 수정
        - 두 번째 수정 테스트
          - px이 아닌, rem으로 변경해서 테스트
    - 재배포 후 확인
      - 첫 번째 수정 테스트
        - 80vh로 수정했는데, 좀 더 채팅창 크기가 커져서 줄어들었을 때 차이가 있는 것을 확인
      - 두 번째 수정 테스트
        - 1rem을 빼면 메인헤더를 가려버리기 때문에 수치 조절이 필요
    - [코드 내용 1](https://github.com/jeongsangtae/mini-community-platform/commit/4c34c8e977ddc20ba250624256439cd6471343da)
    - [코드 내용 2](https://github.com/jeongsangtae/mini-community-platform/commit/4e36f519ece83f166488f1deba86a6e91a9b957f)

  <br />

  - 모바일 환경 채팅 컨테이너 높이 수정 테스트 (calc 수정) 및 메인헤더 로고 폰트 수정
    - CSS
      - Chats
        - 빼는 수치를 1.25rem으로 수정
      - AdminUserList
        - 사용자 리스트 컨테이너에서 px로 구성된 부분을 rem으로 변경
        - 420px에서 적용되는 미디어 쿼리를 추가하고 height가 조절되도록 Chats에서 적용된 것과 동일하게 구성
      - AdminChats
        - 관리자 채팅 컨테이너에서 PX로 구성된 부분을 rem으로 변경
        - 420px에서 적용되는 미디어 쿼리를 추가하고 height가 조절되도록 Chats에서 적용된 것과 동일하게 구성
      - MainHeader, AdminMainHeader
        - 420px에서 로고 폰트 사이즈가 0.9rem이 적용되도록 수정
    - 재배포 후 확인
      - 메인헤더와 관리자 메인헤더에 구성된 로고가 좀 더 작은 화면에서는 아래로 글자가 밀리기 때문에 폰트 사이즈를 축소해서 밀리지 않도록 구성
        - 좀 더 작은 화면에서 문제가 없는 지 아직 확인해보지 못해서 확인하고 추가 정리해줘야 함
      - 빼는 수치를 1.25rem으로 수정해도 메인헤더를 가려버리기 때문에 추가 수정 필요
      - 사용자 리스트 컨테이너는 채팅 컨테이너와 동일하게 입력창이 열리면 문제없이 축소가 되지만, 관리자 채팅 컨테이너는 입력창이 열리면 축소가 되지 않고 여전히 화면 밖으로 밀려나게 되고, 크기를 맞춰놓은 사용자 리스트 컨테이너보다 작은 크기로 보여지기 때문에 다시 조정이 필요하다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/8145a289ef2ebb406eee0cefa3f8aca63c4c2c67)

  <br />

  - 모바일 환경 채팅 컨테이너 높이 수정 테스트 (calc 수정)
    - CSS
      - Chats, AdminUserList
        - 첫 번째 수정 테스트
          - 1.25rem에서 1.5rem으로 수정
        - 두 번째 수정 테스트
          - 2rem으로 수정
      - AdminChats
        - 첫 번째 수정 테스트
          - 100vh로 수정하고 1.5rem으로 수정
        - 두 번째 수정 테스트
          - 주석 처리하고 테스트
    - 재배포 후 확인
      - 첫 번째 수정 테스트
        - 1.5rem은 메인헤더에 딱 붙어있는 형태라서 2rem으로 수정해서 추가 확인이 필요함
        - 관리자 채팅 컨테이너는 여전히 크기가 맞지 않고, 화면 밖으로 밀리기 때문에 추가 조정이 필요
      - 두 번째 수정 테스트
        - 2rem이 뭔가 메인헤더 아래쪽에 위치하면서 괜찮은 것 같긴한데, 3rem으로 수정해서 확인해보고 좀 더 나은 수치를 사용해야 함
        - 모바일 환경에서 관리자 채팅 컨테이너에 적용시킨 내용을 주석 처리하고 확인해본 결과, 크기가 여전히 조금 맞지 않아서 조금 조절이 필요하고 입력창이 올라왔을 때 여전히 화면 밖으로 밀리기 때문에 어떤 부분이 문제인 지 확인해봐야 함
    - [코드 내용 1](https://github.com/jeongsangtae/mini-community-platform/commit/cb8b8a88300cf61c7863748bc1c9813d6b9b3f8b)
    - [코드 내용 2](https://github.com/jeongsangtae/mini-community-platform/commit/2adc1f84522bb5ab0ff1844a5296b12c6015b313)

<br />

- 추가 및 해결 해야 할 내용
  - 마지막 기능 추가로, 관리자 권한을 부여하는 내용을 생각하고 있음
    - 가입할 때는 일반 사용자로 가입을 할 수 있고, admin 관리자 계정으로 관리자 페이지에서 관리자 권한을 부여하는 내용을 생각 중
  - 새롭게 발견한 문제
    - 관리자 채팅의 사용자 리스트에서 사용자와 나눈 마지막 메시지 내용을 가져오는데, 이 때 새로고침을 하지 않으면 당장 채팅을 나눠도 실시간으로 마지막 메시지가 갱신되지 않아서 새로운 메시지가 있는 지 확인할 수 없기 때문에 추가하는 것도 고려해야 함
    - 한편으로는, 관리자 채팅이라서 사용자가 겪는 불편함이 아니기 때문에 그냥 놔두는 것도 고려 중
  - 배포한 사이트 확인
    - 배포한 사이트에서 로그인하고 일정 시간이 지난 후에 자동으로 로그아웃 되면서 쿠키에 저장된 데이터는 삭제되지만, 로컬 스토리지에 저장된 데이터는 삭제되지 않는 문제가 발생해서 이 부분에 대한 수정이 필요
    - 로컬 스토리지 초기화 오류를 해결한다면 해결한 방법에 대한 정리가 필요
    - UI를 수정해주고 최종 확인이 필요함
      - 모바일 환경에서 채팅 컨테이너 크기와 회원가입 모달 크기 조정이 필요
      - 입력을 위해서 textarea를 클릭하면 입력창이 올라오는데 그 때 자리가 비좁기 때문에 수정 필요
      - 채팅 부분은 1차 수정을 했는데 아직 적절하게 조정하지 못해서 추가 수정이 필요
        - 관리자 채팅 컨테이너는 따로 조정이 필요함
      - 회원가입 모달은 아직 수정하지 못함
    - 채팅이 추가되는 시간이 이상함
    - 모바일 환경에서 채팅 입력 부분에서 띄어쓰기가 너무 크게 적용되어 있음
      - 데스크탑 환경도 띄어쓰기가 조금 크게 적용된 느낌
      - 보여지는 채팅 메시지에서는 문제가 없지만 입력할 때 뭔가 어색함
  - 배포하는 과정에서 오류가 생겼던 부분과 해결한 오류에 관한 내용을 정리해줘야 함
    - CORS 오류, Rewrite 관련 내용 등

# 오늘 느낀 점

- 데스크탑 환경의 UI는 괜찮은데, 모바일 환경에서 확인해보니 조금 어색한 부분을 발견해서 수정해줘야 한다. 첫 번째로 내 스마트폰에서는 문제가 없었지만 더 작은 가로 화면을 가진 스마트폰에서는 로고 끝 글자가 아래로 내려오기 때문에 내용을 수정해주었는데, 아직 확인을 못해봐서 확인하고 추가 작업을 해줄 생각이다. 두 번째로 채팅 컨테이너 기본 크기는 문제가 없지만, 입력하기 위해서 클릭하면 입력 자판이 올라오면서 채팅 컨테이너가 화면 밖으로 밀려나기 때문에 이에 대해 크기 조정을 해줬는데 2% 부족한 느낌이라서 좀 더 수정을 해줘야 한다. 추가로 관리자 페이지의 사용자 리스트 컨테이너는 문제가 없지만 관리자 채팅 컨테이너 크기 조정이 이상하게 되기 때문에 이 부분에 대해 추가 수정이 필요하다. 세 번째는 회원가입 모달도 채팅 컨테이너처럼 입력창을 클릭하면 입력 자판이 올라와서 보기 불편한 UI가 되기 때문에 이에 대한 수정이 필요하다. 추가로 채팅 관련 내용에서 채팅이 추가되는 시간이 이상하게 저장되고 있고, 채팅 입력창에서 띄어쓰기를 하면 너무 공간이 크게 벌어지기 때문에 수정해줘야 한다. 이미 제출된 내용은 입력할 때처럼 공간이 크게 벌어지지 않기 때문에 입력하는 부분에서만 수정해주면 될 것 같다. 이렇게 몇 가지 수정할 내용들이 있어서, 여러번 수정을 거쳐서 적절한 UI로 다시 수정을 해줘야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
