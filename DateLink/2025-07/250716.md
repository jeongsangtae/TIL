# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 친구 요청 목록 받음/보냄 구분해 출력 및 대기중 친구 목록 관련 내용 구조 수정
  - 친구 요청 목록을 받은 요청과 보낸 요청으로 구분해 저장하고, 친구 요청 대기중 목록과 관련된 구조를 수정해 구분한 데이터를 전달하고 받은 요청과 보낸 요청이 나뉘어 출력되도록 구성
  - 프론트엔드
    - Friends
      - sendFriendRequests 변수 추가
        - 친구 요청 목록에 검색 기능을 추가한 내용에 map 함수를 사용하도록 구성
        - sendRequest 변수 추가
          - 로그인한 사용자 \_id 정보와 검색한 친구 요청 requester 내용을 비교해 일치하는지 확인
        - sendRequest 변수를 조건부로 사용한 조건문 추가
          - 공통적으로 들어가는 내용
            - id, friendRequestId 항목에 \_id 정보가 들어가도록 구성
            - sendRequest 항목에 sendRequest 변수 내용이 들어가도록 구성
          - sendRequest 변수가 true일 경우
            - nickname 항목에 receiverNickname 내용이 들어가도록 구성
            - avatarColor 항목에 requesterAvatarColor 내용이 들어가도록 구성
          - sendRequest 변수가 false일 경우
            - nickname 항목에 requesterNickname 내용이 들어가도록 구성
            - avatarColor 항목에 requesterAvatarColor 내용이 들어가도록 구성
      - JSX 코드 내용 수정
        - 친구 요청 대기중 목록 관련 내용 수정
          - sendFriendRequests 변수에 map 함수를 사용하도록 구성
          - `!friendRequest.sendRequest`를 조건부로 true면 받음 텍스트가 출력되고, false면 보냄 텍스트가 출력되도록 구성
          - `friendRequest.length`로 요청 갯수가 출력되도록 했으나, 해당 내용은 아직 제대로 보여지지 않음
          - PendingFriends 컴포넌트에 nickname, avatarColor, sendRequest props를 전달하도록 구성
    - PendingFriends
      - PendingFriendsProps 타입 정의 수정
        - friendRequestId 내용은 그대로 유지
        - nickname, avatarColor 내용은 string으로 타입 정의
        - sendRequest 내용은 boolean으로 타입 정의
      - 넘어오는 props 내용은 friendRequestId 그대로 유지하고 nickname, avatarColor, sendRequest로 구성
      - sendRequest 변수 주석 처리
      - JSX 코드 내용 수정
        - 이전에 sendRequest를 조건부로 사용하던 내용 주석 처리
        - 기존에 사용하던 className은 그대로 유지하고, 출력되는 내용에 사용되는 props만 수정
        - sendRequest를 조건부로 구성해 true면 취소 버튼, false면 수락과 거절 버튼이 보여지도록 구성
  - 검색한 친구 요청 목록 내용을 받은 요청/보낸 요청으로 구분해 미리 따로 저장하고, 해당 내용을 대기중 친구 목록 컴포넌트에 전달해 출력되도록 구성하고 확인한 결과, 받은 요청과 보낸 요청 영역이 나뉘어서 출력되는 것을 기대했지만, 영역별로 친구 요청이 나뉘지 않고 친구 요청 내용 위에 받음/보냄 내용이 각각 보여지고 있기 때문에 추가 수정이 필요한 것을 확인할 수 있었다.
    - 친구 요청 하나하나에 받음/보냄 내용이 보여지는 것이 아닌, 받음/보냄 영역을 나눠서 그 안에 속한 친구 요청 내용이 보여지며 해당 영역에 포함된 갯수까지 표시되도록 추가 수정 필요
    - 친구 요청이 있을 경우 홈 버튼에서 친구 요청 수가 문제없이 보여지긴 하지만, 보낸 친구 요청까지 포함해서 보여지기 때문에 보낸 요청과 받은 요청을 나눠서 받은 요청 관련 수만 보여지고, 보낸 요청은 포함되지 않도록 수정이 필요함
    - 친구 버튼과 대기중 내용에서 받은 요청과 보낸 요청을 나눠서 받은 요청 수만 보여지도록 수정 필요
    - 대기중 내용에서 보여지는 친구 요청 수가 일반적인 텍스트가 아닌, 뱃지 형태로 보이도록 수정 필요
    - 대기중 내용이 항상 표시되는 것이 아닌, 친구 요청이 있을 경우에만 대기중 버튼과 뱃지 내용이 보여지도록 수정 필요
    - 친구 추가 관련 내용에 대한 CSS를 추가해야 함
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/1966994a6a6c3b91ed59c135ac194c9b561cb69b)

# 오늘 느낀 점

- 검색한 친구 요청 목록을 나눠서 받음 영역과 보냄 영역에 출력하도록 구성해봤지만, 생각한 구조와 다르게 영역별로 나눠지지 않고 각 내용 위에 받음 또는 보냄 텍스트가 출력되고 있기 때문에 추가로 수정을 해볼 생각이다. 받음/보냄 영역에 나뉘어 제대로 보여지도록 구성하면 여기에 각 영역에 포함된 갯수도 출력해 UX를 향상시켜야 하고, 만약 받은 요청만 있고 보낸 요청이 없다면 보낸 요청 영역 텍스트와 갯수는 보여지지 않고 받은 요청만 보여지도록 구성을 해봐야 하며, 반대의 경우도 똑같이 요청이 있는 경우에만 보여지도록 구성할 생각이다. 친구 요청 목록 버튼에서 전체 친구 요청 수가 보여지는 것이 아닌, 받은 요청과 관련된 수만 보여지도록 수정해야 하고 친구 버튼에서도 전체 친구 요청 수가 아닌 받은 요청과 관련된 수만 보여지도록 수정할 생각이다. 친구 요청 목록에서 요청 수를 보여주는 내용이 현재 일반 텍스트로 보여지고 있는데 이 내용이 뱃지 형태로 보여지도록 CSS를 추가해야 하고, 친구 요청 목록 버튼 자체가 항상 표시되는 것이 아닌 친구 요청이 있을 경우에만 보여지도록 수정해볼 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 서브 사이드바 관련 UI 수정 필요 (친구 버튼 UI만 수정하면 될 것 같음)

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 각 채팅방 내의 채팅 목록에서 커서를 올리면 보여지는 날짜 데이터가 오른쪽이 아닌, 왼쪽에 보여지도록 수정 필요

- 출력되는 채팅 메시지 목록에 스크롤 관련 내용을 추가 수정해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 삭제 시에 다이렉트 채팅방 삭제 확인 로직 필요 (친구 삭제 시에 다이렉트 채팅방을 그대로 남겨놓고 삭제 확인창은 따로 추가하지 않을 예정)

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
