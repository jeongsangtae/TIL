# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 그룹 채팅 폼 입력창, 닉네임 수정 입력창 테두리와 배경색 수정 및 친구 목록 검색 관련 CSS 추가 및 대기중인 친구 목록에 필터 관련 내용 추가
  - 그룹 채팅 폼 입력창과 닉네임 수정 입력창 테두리는 조금 더 선명하게 보이고, 배경색은 투명으로 구성해 모달창 색이 보여지도록 구성하고, 친구 목록 컴포넌트 내의 검색 관련 내용에 CSS를 추가해 UI가 어울리도록 구성 및 친구 요청 대기중인 목록에서도 검색 기능을 사용할 수 있도록 필터 관련된 내용을 추가해 구성
  - 프론트엔드
    - Friends
      - searchFriendRequests 변수 추가
        - 친구 요청 목록에 filter를 사용하도록 구성
        - currentRequester 변수
          - 친구 요청에 저장된 requester와 사용자 \_id를 비교해 일치하는지 확인
          - true/false로 반환
        - nickname 변수
          - currentRequester를 확인해 true일 경우 친구 요청 내용의 receiverNickname를 저장
          - false일 경우 친구 요청 내용의 requesterNickname를 저장
        - email 변수
          - currentRequester를 확인해 true일 경우 친구 요청 내용의 requesterEmail를 저장
          - false일 경우 친구 요청 내용의 requesterNickname를 저장
        - return을 통해 반환하는 내용
          - 닉네임 또는 이메일에 `toLowerCase().includes(searchTerm.toLowerCase())`를 사용해 문자열을 모두 소문자로 바꾸고, 특정 문자열을 포함하는지 확인해 검색한 내용을 찾도록 구성
      - JSX 코드 내용 수정
        - 검색창 내용에 조건부 추가
          - activeTab useState 내용이 "addFriend"가 아닐 경우에만 검색창이 보여지도록 구성
          - 즉, 친구 추가를 제외한 온라인 친구 목록, 전체 친구 목록, 친구 요청 대기중 목록에서만 보여지도록 구성
          - friend-search className 추가
        - 친구 요청 대기중 목록 관련 수정
          - friendRequests 내용에 map 함수를 사용하는 것이 아닌, 필터링된 내용인 searchFriendRequests 내용에 map 함수가 사용되도록 수정
  - CSS
    - EditUserProfileForm
      - group-chat-form-input
        - 테두리 선 색을 rgba(133, 133, 133, 0.5)로 구성
        - 배경은 투명으로 구성해 모달창 배경색이 사용되도록 구성
    - GroupChatForm
      - nickname-edit-input
        - 테두리 선 색을 rgba(133, 133, 133, 0.5)로 구성
        - 배경은 투명으로 구성해 모달창 배경색이 사용되도록 구성
    - Friends
      - friend-search
        - 돋보기, 닫기 아이콘이 내부에 보여지도록 position을 relative로 구성
        - 정렬을 위해 display, align-items 추가
        - padding은 0.5rem으로 구성
        - border는 1px solid rgba(133, 133, 133, 0.5)로 구성
        - margin 위아래는 1rem, 좌우는 0으로 구성
        - margin-top에 0.5rem으로 구성해 덮어씌우도록 구성
      - friend-search:focus-within
        - input에 포커스가 가면 부모 div에도 스타일을 줄 수 있도록 focus-within를 추가해 구성
        - div는 포커스를 직접 받을 수 없는 요소이기 때문에, input 같은 내부에 포커스 가능한 요소가 포커스되면 부모 요소에 자동으로 스타일이 적용되도록 구성
        - outline은 none, 색은 하늘색 계열로 구성
      - friende-search-input
        - padding-right를 1.5rem으로 구성
        - width는 100%로 구성
        - 배경색은 투명색으로 구성하고, border는 1px solid 그리고 색은 투명색으로 구성
          - border는 그냥 none으로 구성해도 될 것 같음
        - 폰트 크기는 0.95rem, 텍스트 색은 흰색으로 구성
      - friend-search-input:focus
        - input에 커서가 생기면 바깥선이 보이지 않도록 outline을 none으로 구성
      - friend-search-input:focus::placeholder
        - input에 커서가 생기면 placeholder 내용이 옅게 보이도록 opacity를 0.5로 구성
      - friend-search-delete-icon
        - position을 absolute로 구성
        - 입력창과 조금 떨어져보이도록 right를 0.5rem으로 구성
        - 색은 회색 계열로 구성
        - 아이콘 크기는 1.15rem으로 구성
        - 커서 추가
        - 호버되었을 때 텍스트는 흰색으로 구성
      - friend-search-icon
        - position을 absolute로 구성
        - 입력창과 조금 떨어져보이도록 right를 0.5rem으로 구성
        - 색은 회색 계열로 구성
        - 아이콘 크기는 1.25rem으로 구성
        - 커서를 올리면 별다른 효과가 없도록 pointer-events는 none으로 구성
  - 그룹 채팅 폼 입력창과 닉네임 수정 입력창 테두리 그리고 배경을 수정하고, 친구 목록 컴포넌트 내의 검색 관련 기능에 CSS를 추가해 기본 UI가 아닌 깔끔하게 변한 UI가 보여지도록 구성했으며, 친구 요청 목록에 fliter를 사용해 분류하고 검색 기능을 사용할 수 있도록 구성하고 확인한 결과, 그룹 채팅 폼 입력창과 닉네임 수정 입력창 테두리 그리고 배경색이 좀 더 자연스러워지고, 친구 목록 컴포넌트 내의 검색창 내용 또한 이전 UI와 다르게 깔끔하게 보여지는 것을 확인했고, 친구 요청 목록에서 정상적으로 작동하지 않던 검색 관련 기능이 문제없이 작동되는 것을 확인할 수 있었다.
    - 아바타가 사용되는 곳에서 사용자 온라인, 오프라인 여부를 표시할 수 있는지 확인하고 처리해야 함
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/d738a00239941df9485488f3f570c0699b62638d)

# 오늘 느낀 점

- 그룹 채팅 폼 입력창과 닉네임 수정 입력창 그리고 여러 검색창 UI가 통일성 있게 보여지도록 수정을 해주었고, 친구 목록 컴포넌트 내의 검색창 관련 CSS를 추가해 기본 UI가 아닌 깔끔한 UI가 보여지도록 구성했는데 전체적으로 만족스럽게 구성이 된 것 같고, 친구 요청 목록에서 검색 관련 기능이 정상적으로 작동하지 않던 문제를 해결하기 위해 새롭게 필터링하는 내용을 추가해 테스트한 결과, 친구 요청 목록에서도 사용자 닉네임 또는 이메일 입력 시에 필터링되어 해당 친구 요청만 보여지는 것을 확인했다. 이제 아바타가 사용되는 곳에서 사용자 온라인/오프라인 여부를 표시하도록 구성해야 하는데 아마 이 내용은 온라인 상태의 사용자 정보를 불러와 사용자 \_id를 추출하고, 친구 목록에서 친구 \_id도 추출해 온라인 상태의 사용자 정보 \_id에 포함되어 있는지 확인한 다음 만약 있을 경우 true라는 값을 전달해 온라인 여부를 표시하는 구조로 기억하고 있는데, 아직 이전에 구성했던 내용을 자세히 살펴보지 않았기 때문에 이전에 구성한 내용을 살펴보고 그와 유사하게 구성하면 아바타가 사용되는 곳에서 온라인/오프라인 여부를 표시하는 것에 문제가 없을 것으로 생각이 되며, 한 가지 걱정으로는 그룹 채팅방 내의 사용자 목록에서도 온라인/오프라인 표시를 해볼 생각인데, 이 내용에서는 모두가 친구 사용자로 되어있지 않기 때문에 기존 구조와 다를 것이고 그로 인해 로직이 조금 복잡해질 거나 아니면 구성하기 힘들 것으로 생각되긴 하지만 그래도 최대한 방법을 찾아서 구현을 해볼 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 서브 사이드바 관련 UI 수정 필요 (친구 버튼 UI만 수정하면 될 것 같음)

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중

- 친구 버튼, 친구 초대 버튼 등 여러 버튼들이 텍스트가 아닌 아이콘으로 보여지도록 수정 필요

- 각 채팅방 내의 채팅 목록에서 커서를 올리면 보여지는 날짜 데이터가 오른쪽이 아닌, 왼쪽에 보여지도록 수정 필요

- 출력되는 채팅 메시지 목록에 스크롤 관련 내용을 추가 수정해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 삭제 시에 다이렉트 채팅방 삭제 확인 로직 필요 (친구 삭제 시에 다이렉트 채팅방을 그대로 남겨놓고 삭제 확인창은 따로 추가하지 않을 예정)

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
