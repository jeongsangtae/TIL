# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 아바타 온라인 유무 점 관련 확장 클래스 추가 및 다이렉트 채팅방, 다이렉트 채팅방 패널에 아바타 컴포넌트 추가 및 아바타, 다이렉트 채팅방 패널 CSS 수정 및 여러 내용 수정
  - 다이렉트 채팅방 패널에서 아바타 컴포넌트에 아바타 온라인 유무 관련 점 클래스를 전달하고, 아바타 컴포넌트에서 해당 내용을 확장해 사용할 수 있도록 구성 그리고 다이렉트 채팅방과 패널에 아바타 컴포넌트를 추가해 재사용 가능한 내용만 사용하고, 다이렉트 채팅방 패널 CSS와 아바타 CSS를 수정해 확장한 클래스 내용과 UI가 무너지지 않도록 구성
  - 프론트엔드
    - DirectChatMainContent
      - friendToggleHandler 함수 이름을 toggleHandler로 수정
      - JSX 코드 내용 수정
        - DirectChatSidebar 컴포넌트에 전달하는 onFriendToggle props를 onToggle props로 변경하고 toggleHandler 함수를 전달하도록 수정
    - DirectChatSidebar
      - DirectChatSidebarProps 타입 정의 수정
        - onFriendToggle 대신 onToggle로 수정
      - onFriendToggle props 대신 onToggle props를 전달받도록 수정
      - JSX 코드 내용 수정
        - 친구 관련 버튼에 사용되는 onClick을 onToggle props로 변경
    - DirectChat
      - Avatar 컴포넌트를 불러와 사용할 수 있도록 구성
      - JSX 코드 내용 수정
        - 아바타 영역 수정
          - 이전에 구성된 아바타 관련 내용 주석 처리
          - Avatar 컴포넌트에 여러 props 전달
            - nickname props는 otherUserNickname를 전달
            - avatarImageUrl props는 otherUserAvatarImageUrl을 전달
            - avatarColor props는 otherUserAvatarColor를 전달
            - onlineChecked props는 onlineChecked를 전달
            - showOnlineDot props는 true를 전달
    - DirectChatPanel
      - Avatar 컴포넌트를 불러와 사용할 수 있도록 구성
      - JSX 코드 내용 수정
        - 다이렉트 채팅방 상대방 영역 수정
          - Avatar 컴포넌트를 추가해 여러 props 전달
            - 해당 내용은 추가했으나 과한 props 전달로 주석 처리
        - 함께 아는 친구 영역 수정
          - 이전에 구성된 아바타 관련 내용 주석 처리
          - Avatar 컴포넌트에 여러 props 전달
            - nickname props는 mutualFriendUser.nickname를 전달
            - avatarImageUrl props는 mutualFriendUser.avatarImageUrl을 전달
            - avatarColor props는 mutualFriendUser.avatarColor를 전달
            - onlineChecked props는 mutualFriendUser.onlineChecked를 전달
            - showOnlineDot props는 true를 전달
            - extraClass props는 "mutual-friend-user-avatar"를 전달
            - dotClass props는 "mutual-friend-user-online-check-dot"을 전달
    - Avatar
      - AvatarProps 타입 정의 수정
        - dotClass 항목을 추가하고 string으로 정의
      - dotClass props를 전달받도록 구성
      - JSX 코드 내용 수정
        - 온라인 유뮤 관련 점 className 수정
          - className을 확장해 dotClass props 내용 추가
  - CSS
    - DirectChatPanel
      - avatar-header
        - height를 7.5rem으로 수정
        - object-fit을 cover로 구성
        - flex-shrink를 추가해 0으로 구성
      - direct-chat-other-info-avatar-img-wrapper, direct-chat-other-info-avatar-color
        - top을 -2.25rem으로 구성
      - direct-chat-other-info-avatar-img, direct-chat-other-info-avatar-color
        - top 내용 삭제
    - Avatar
      - mutual-friend-user-avatar
        - width, height를 2.75rem으로 구성
        - 폰트 크기는 1.25rem으로 구성
        - 배경은 흰색으로 구성
      - mutual-friend-user-online-check-dot
        - width, height를 1.25rem으로 수정
        - border를 4px로 구성하고 나머지는 그대로 유지
  - 다이렉트 채팅방과 패널에 아바타 컴포넌트를 추가해 재사용하도록 구성하고, 패널에서는 아바타 관련 내용 전체에 아바타 컴포넌트를 재사용하는 것이 아닌 일부에만 사용하도록 구성 그리고 온라인 유무 관련 점 확장 클래스를 전달해 해당 내용이 사용될 수 있도록 아바타 컴포넌트를 수정하고, 이전에 망가진 UI와 확장을 위해 전달받은 클래스가 적용되도록 CSS 내용을 수정해 확인한 결과, 다이렉트 채팅방 패널에서 아바타 이미지 관련 내용 UI가 망가진 상태가 아닌 아바타 색 내용과 동일하게 보이는 것을 확인했고, 다이렉트 채팅방이나 패널에서 함께 아는 친구 아바타가 모두 이전과 동일하게 보이는 것을 확인할 수 있었다.
    - 그룹 채팅방 관련 내용에서 보여지는 아바타 또한 재사용 컴포넌트를 사용하도록 수정 필요
    - 아바타 컴포넌트 재사용 관련 내용을 모두 처리한 뒤 주석 처리한 내용들을 모두 삭제해 정리해야 함
    - 아바타 이미지 URL에서 잘못된 URL을 입력했을 때 기본 아바타 색과 닉네임 첫글자가 보여지고 있지만, 제출했을 경우 망가진 기본 이미지 형태로 보이므로 수정 필요
    - 로그인, 회원가입 페이지 배경에 사용되는 여러 이미지를 더 추가해 테스트해봐야 함
    - 해야 할 일에 정리된 내용 처리 필요
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/6180cd9441fa6f776ef2f81d55b9bb6ea8dc3b47)

# 오늘 느낀 점

- 다이렉트 채팅방에서 사용하는 아바타 관련 내용은 아바타 컴포넌트를 재사용하도록 수정하고, 다이렉트 채팅방 패널에서는 일부 내용만 재사용하도록 수정을 해주었는데 그 이유는 무리하게 재사용하려고 구성한 결과, 전체 컴포넌트가 아닌 하나의 컴포넌트에서만 전달하는 props가 많아져 불필요하다고 생각되었으며, 구조도 이상하게 꼬이는 문제가 발생해 일부 내용에서만 재사용하도록 구성을 해주었다. 그리고 온라인 유무 관련 점 확장 클래스도 전달을 했는데 이 내용은 다른 내용에서 재사용할 수도 있기 때문에 전달을 했으며, 전달한 여러 확장 클래스에 맞게 CSS를 수정해 이전과 동일한 UI로 보여주도록 구성해주었다. 그룹 채팅방 관련 내용에 구성된 아바타 내용만 수정을 하면 아바타 컴포넌트로 재사용하는 부분은 얼추 끝이 난다고 생각이 되며, 전체적으로 내용을 확인한 뒤 문제가 없다면 주석 처리되어 사용되지 않는 이전 내용을 모두 삭제해 정리할 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
