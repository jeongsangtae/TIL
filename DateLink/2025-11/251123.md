# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 다이렉트 채팅방 패널 내의 함께 참여한 그룹 채팅방, 함께 아는 친구 토글 관련 에러 수정 및 사용자 프로필, 사용자 프로필 모달 추가 및 타입 정의 수정
  - 다이렉트 채팅방 패널 내의 함께 참여한 그룹 채팅방, 함께 아는 친구 목록 토글 관련된 내용에서 생각한 것과 다르게 작동하는 부분을 수정하고 그룹 채팅방 내의 사용자 목록에서 사용자를 클릭하면 보여질 사용자 프로필, 사용자 프로필 모달 컴포넌트를 추가
  - 프론트엔드
    - DirectChatDetails
      - JSX 코드 내용 수정
        - DirectChatPanel 컴포넌트에 전달하는 chatInfo props에 userId 항목을 추가하고 otherUser?.\_id로 구성
    - DirectChatPanel
      - 다른 다이렉트 채팅방이나 그룹 채팅방으로 이동할 때 작동되는 useEffect 수정
        - 의존성 배열로 구성된 chatInfo를 chatInfo.userId로 수정
        - 다른 사용자가 로그인 또는 로그아웃할 때 패널 내의 2개 항목이 자동으로 닫히지 않도록 의존성 배열을 수정
        - 기존에 다른 채팅방으로 이동하는 것만이 아닌, 로그인과 로그아웃에도 패널 내의 2개 항목 모두 열린 상태에서 닫히는 문제가 발생했기 때문에 수정
    - UserProfile
      - 내용은 따로 추가하지 않은 상태로 어떤 내용을 추가할 지 주석 추가
      - 그룹 채팅방 내의 사용자 목록 또는 패널에서 사용자 클릭 시에 보여질 내용
      - 온라인 유무를 포함한 사용자 아바타, 친구 관계 여부, 닉네임, 같이 아는 친구 수, 같이 참여한 채팅방 수, 다이렉트 채팅 메시지를 보내는 입력창으로 구성될 예정
    - UserProfileModal
      - 내용은 따로 추가하지 않은 상태로 어떤 내용을 추가할 지 주석 추가
      - 그룹 채팅방 내의 사용자 목록 또는 패널에서 사용자를 클릭하고 열린 UserProfile에서 닉네임, 아바타, 같이 아는 친구 수, 같이 참여한 채팅방 수 등 내용을 클릭하면 좀 더 세부적으로 모달 형태로 보여질 내용
      - 온라인 유무를 포함한 사용자 아바타, 친구 관계 여부, 닉네임, 해당 사용자와 관련된 다이렉트 채팅방으로 이동하는 버튼, 같이 아는 친구 수와 목록, 같이 참여한 채팅방 수와 목록, 해당 사용자에 대한 참고할 메도 등 내용을 구성할 예정
    - types
      - ChatInfo 타입 정의 수정
        - userId 항목을 추가하고 옵셔널 타입으로 지정
        - userId 항목은 string으로 타입 정의
  - 다이렉트 채팅방 패널 내의 함께 참여한 그룹 채팅방과 함께 아는 친구 목록이 펼쳐진 상태로 다른 사용자가 로그인 또는 로그아웃을 하게 될 경우, 자동으로 해당 목록들이 닫히는 오류가 발생해 이와 관련해 수정하고, 그룹 채팅방 내의 사용자 목록과 패널에서 사용자 클릭 시에 열리게 될 내용을 추가해 확인한 결과, 수정된 useEffect 의존성 배열로 인해 다른 사용자가 로그인 또는 로그아웃해도 해당 목록들이 닫히지 않으며 다른 채팅방으로 이동해야 닫히는 것을 확인했고, 사용자 프로필과 프로필 모달에 별도의 내용은 추가하지 않았지만 어떤 내용을 구성할 지 주석을 추가해 틀을 잡아놓은 것을 확인할 수 있었다.
    - 그룹 채팅방 내의 사용자 목록과 패널에서 사용자 클릭 시에 사용자 프로필이 보여지도록 구성 필요
    - 사용자 프로필에서 내용 클릭 시에 모달창으로 세부 내용이 보여지도록 구성 필요
    - 로그인, 회원가입 페이지 배경에 사용되는 여러 이미지를 더 추가해 테스트해봐야 함
    - 해야 할 일에 정리된 내용 처리 필요
    - 다이렉트 채팅방 순서가 변경될 때 부드럽게 변경되는 기능
    - 그룹 채팅방 위치를 자유롭게 변경하는 기능
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/60ea1f5001f18f016c363c843986ac6c0c902620)

# 오늘 느낀 점

- 다이렉트 채팅방 패널 내의 함께 참여한 채팅방과 함께 아는 친구 목록 토글 관련 내용을 수정하면서 이제는 다른 사용자가 로그인 또는 로그아웃해도 해당 목록들이 닫히지 않아 UX가 향상된 것을 확인했고, 그룹 채팅방 내의 사용자 목록과 패널에서 보여지는 사용자를 클릭하면 보여질 사용자 프로필과 모달 컴포넌트를 추가했지만 내용은 구성하지 않은 상태라서 이와 관련된 내용을 추가해줄 생각이다. 어떤 내용을 추가할 지는 주석을 추가해 작성해놓은 상태고, 내용을 구성하면서 필요한 내용이 있다면 더 추가할 생각이다. 그리고 다크 모드도 추가를 해야 할 것 같은데, 기본이 어두운 색이라서 밝은 색 계열의 내용을 추가할 지 아니면 그냥 어두운 색을 기본으로 놔두고 나중에 추가할 지 이 부분은 좀 더 고민해볼 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

- 다크 모드 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
