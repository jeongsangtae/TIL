# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- loader 함수 주석 추가 및 그룹 채팅방 목록 컴포넌트 내부에 fetch 함수 추가
  - 그룹 채팅방 페이지와 라우터에서 loader 함수 관련 내용을 주석 처리한 후에 그룹 채팅방 목록 컴포넌트 내부에서 fetch 함수를 추가해 데이터를 가져오도록 변경하고, 사이드 바 컴포넌트에서 그룹 채팅방 목록 컴포넌트를 추가해 주었다.
  - 프론트엔드
    - routes, GroupChatPage
      - loader 함수 관련 내용 주석 처리
    - SideBar
      - 그룹 채팅방 목록 컴포넌트를 추가
    - GroupChats
      - 그룹 채팅방 목록을 저장하는 useState 추가
      - 로딩 상태를 관리하는 useState 추가
      - 마운트되면 채팅방 목록이 보이도록 하기 위해 useEffect를 추가하고, 그 안에 loader 함수로 구성했던 fetch 함수 내용을 가져와 구성
      - 로딩 중에 관련된 내용 추가
      - 그룹 채팅방 목록이 있는지 확인하고 없다면 없다는 메시지를 출력하도록 구성하고, 존재한다면 그룹 채팅방 목록을 보여주도록 구성
  - 사이드바 컴포넌트에서 그룹 채팅방 목록 컴포넌트 내용을 출력하려고 하면 loader 함수로 구성된 fetch 함수 내용을 불러오지 못해 map 함수 관련 에러가 발생하기 때문에, 그룹 채팅방 목록 페이지에서 구성된 loader 함수 내용을 주석 처리하고, 그룹 채팅방 목록 컴포넌트 내부에서 fetch 함수를 구성해 테스트한 결과, map 함수 관련 에러가 발생하지 않고 문제없이 출력되는 것을 확인할 수 있었다.
    - fetch 함수를 컴포넌트 내부에서 구성하고 다른 컴포넌트에서 출력하면 문제없이 출력이 되기 때문에, loader 함수로 구성하지 않고 컴포넌트 내부에서 fetch 함수를 구성해 데이터를 출력하는 방식으로 진행해야 할 것 같음
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/3631122851719337dd0364be81f14fbcf132ea01)

<br />

- Float Chat 프로젝트 설계 내용 수정 (UI 구조 및 라우터, 페이지, 컴포넌트 )
  - 프로젝트 UI 구조 그리고 라우터, 페이지, 컴포넌트 구조에 대해 새롭게 정리한 내용을 설계 내용에 추가
  - [코드 내용](https://github.com/jeongsangtae/TIL/commit/30e65c01650cf52f50ab137cf38aa17a38f87e24)

<br />

- 친구 목록 페이지 삭제 및 Outlet 컴포넌트 위치 변경 및 라우터 내용 수정
  - 친구 목록 페이지는 더 이상 필요하지 않고, 컴포넌트로 사용되기 때문에 친구 목록 페이지 관련 컴포넌트를 삭제하고, 라우터 내용에서도 친구 목록 페이지 관련 내용을 삭제해 준 후에 index에 들어가는 element 내용을 다이렉트 메시지 페이지 내용으로 변경해 주었으며, 루트 레이아웃에서 Outlet 컴포넌트 위치를 변경해 다이렉트 메시지 내용이 그룹 채팅방 목록 위로 보여지도록 구성해 주었다.
  - 프론트엔드
    - FriendPage
      - 삭제
    - routes
      - FriendPage 관련 내용을 삭제하고, index에 들어가는 element 내용은 다이렉트 메시지 페이지 내용이 들어가도록 변경
    - RootLayout
      - Outlet 컴포넌트 위치를 옮겨서 다이렉트 메시지 내용이 먼저 보여지고, 그 다음 사이드바 컴포넌트가 보여지면서 그룹 채팅방 목록이 아래로 위치하도록 변경
    - DirectChats
      - 친구 목록 컴포넌트가 다이렉트 메시지 내용에 포함되도록 구성
  - 프로젝트 설계 내용에 새롭게 추가한 내용처럼 구조를 만들기 위해 라우터 내용을 수정하고, 루트 레이아웃에서 Outlet 위치도 변경하고, 친구 목록 페이지도 삭제해 준 후에 친구 목록 컴포넌트가 다이렉트 메시지 내부로 들어가도록 수정한 후에 변경된 내용을 확인해 본 결과, 다이렉트 메시지 내용이 제일 상단에 보여지고 그 다음 친구 목록 내용이 보여지고 마지막으로 그룹 채팅방 목록이 보여지는 것을 확인할 수 있었다.
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/e2fb013d7dd1618474740d4b05cf891132492afa)

# 오늘 느낀 점

- loader 함수로 구성된 내용을 주석 처리하고 컴포넌트 내부에서 fetch 함수를 구성해 다른 컴포넌트에서 보여주도록 하는 방식은 문제없이 동작하기 때문에 이 구조로 진행을 해야 할 것 같다. 그리고 그룹 채팅방 목록 컴포넌트 내부에서 구성한 fetch 함수 내용과 map 함수에서 사용한 내용에 타입 정의가 추가되지 않은 것 같아서 추가를 해 줘야 하고, 로딩 관련해서 텍스트로 보여주는 것이 아닌, 로딩 스피너가 보여지도록 관련 내용을 구성해 줘야 할 것 같다. 회원가입 관련해서 고민했던 내용이 있는데, 지금 그 내용을 구성하기에는 조금 어렵다고 생각되기 때문에 일단은 입력한 내용을 DB에 저장해 인증하는 방식으로 구현하고, 다른 기능들을 구현한 후에 회원가입 관련된 내용을 변경할 생각이다. 우선, 앞에서 말한 빠진 타입 정의 내용을 추가하고 로딩 스피너 내용도 추가한 후에, 회원가입과 로그인 기능부터 작업을 진행해 사용할 수 있도록 구성을 해 줄 생각이고, 로그인 관련된 내용은 Zustand를 사용해 전역적으로 관리하고 사용할 수 있도록 구성할 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 구성하는 방법에 대한 정보 필요

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
