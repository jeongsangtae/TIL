# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 실시간 통신 애플리케이션 프로젝트 새로운 구조 구성
  - 참고한 앱 구조
    - 디스코드 앱과 유사한 구조를 생각하고 구상
  - 구조 설명
    - 사이드 바
      - 고정된 위치에서 다이렉트 메시지, 그룹 채팅 목록을 보여줘야 함
      - ex) 다이렉트 메시지 아이콘 버튼, 그룹 채팅방 목록 아이콘 버튼, 그룹 채팅방 생성 아이콘 버튼
    - 컨텐츠 영역
      - 사이드바 오른쪽 영역은 사이드바 선택 항목에 따라 동적으로 변경
      - ex) 다이렉트 메시지 내용 클릭 시 친구 목록, 다이렉트 메시지 내용을 보여줘야 함
      - ex2) 그룹 채팅 선택 시 해당 채팅방 내용 표시
    - 메인 헤더
      - 공유되는 메인 헤더는 불필요하며, 특정 채팅방에 들어갔을 때, 채팅방 이름이나 정보를 표시하는 상단 헤더가 필요함
      - 메인 헤더가 아닌, 페이지별 컨텐츠 헤더가 필요
  - 전체 UI 구조
    - 사이드 바
      - 다이렉트 메시지
      - 그룹 채팅방 목록
        - 그룹 채팅방
        - 그룹 채팅방 추가 버튼
    - 사이드 바와 컨텐츠 영역 중간 내용
      - 다이렉트 메시지
        - 친구 목록
        - 다이렉트 메시지 목록
          - 다이렉트 메시지
      - 그룹 채팅방
        - 그룹 채팅방 이름
        - 그룹 채팅방 초대 링크 생성 버튼
        - 그룹 채팅방 참여자 목록
    - 컨텐츠 영역
      - 친구 목록
        - 온라인
          - 친구 검색란
          - 온라인 친구 목록
        - 모두
          - 친구 검색란
          - 전체 친구 목록
        - 대기 중
          - 친구 신청한 목록
        - 친구 추가하기
          - 모달로 렌더링할 지, 컴포넌트로 렌더링할 지 아직 고려중
      - 다이렉트 메시지, 그룹 채팅방
        - 친구와 나눈 채팅 목록
          - 내용 왼쪽에 아이콘
            - 아이콘에 이미지를 추가할 지, 배경이 랜덤으로 색이 지정되도록 할 지 생각 중
            - 기본적인 아이콘을 제공하고 배경이 랜덤색으로 지정되도록 해 주고, 이미지를 추가할 수 있게 하는 것도 고려 중
          - 닉네임, 메시지 보낸 날짜
            - 메시지 보낸 날짜는 년.월.일.오전 0:00
          - 채팅 내용
        - 메시지 중간에 날짜가 변경되면, 변경된 날짜를 한 줄로 표시
        - 이 두 내용은 동일한 컴포넌트를 재사용해도 될 것 같다는 생각
    - 헤더 영역
      - 친구 목록
        - 친구 아이콘 및 텍스트
        - 온라인 (접속한 친구 목록)
        - 모두 (전체 친구 목록)
        - 대기중 (친구 신청 목록)
        - 친구 추가하기 버튼
      - 다이렉트 메시지
        - 대화하는 친구 닉네임
      - 그룹 채팅방
        - 디스코드 앱에서는 "#일반" 이라는 내용이 보여지는데, 나는 없애는 것도 고려 중이고, 아니면 추후 웹 확장을 위해 비슷하게 내용이 보여지는 것을 생각 중
    - 모달
      - 그룹 채팅방 생성 모달
        - 모달 설명
        - 서버 이름 입력란
        - 취소, 만들기 버튼
      - 그룹 채팅방 초대 링크 모달
        - 모달 설명
        - 친구 검색란
        - 친구 목록
        - 초대 링크, 복사 버튼
      - 로그인 모달
        - 모달 설명
        - 이메일
        - 비밀번호
      - 회원가입 모달
        - 모달 설명
        - 이메일
        - 닉네임
        - 비밀번호
        - 비밀번호 확인
        - 취소, 만들기 버튼
      - 회원가입 인증 모달
        - 모달 설명
        - 이메일에서 확인한 초대 링크
      - 친구 추가하기 모달
        - 모달 설명
        - 닉네임 + #0000 또는 이메일 검색, 요청 보내기 버튼
        - 이 내용은 모달이 아닌, 친구 추가하기 버튼 클릭 시 다른 컴포넌트 내용이 렌더링되는 것도 고려 중
  - 라우터 및 페이지, 컴포넌트 구조
    - 루트 레이아웃
      - 사이드 바 컴포넌트
        - 다이렉트 메시지 컴포넌트 (친구, 다이렉트 메시지가 보여지는 페이지로 이동)
        - 그룹 채팅방 목록 컴포넌트
          - 그룹 채팅방 컴포넌트
          - 그룹 채팅방 추가 버튼 컴포넌트
    - 다이렉트 메시지 페이지
      - 중간 영역
        - 친구 목록 컴포넌트
        - 다이렉트 메시지 목록 컴포넌트
          - 다이렉트 메시지 컴포넌트
      - 콘텐츠 영역
        - 친구 목록 컴포넌트
          - 헤더 컴포넌트
            - 온라인, 모두, 대기 중, 친구 추가하기 버튼
          - 콘텐츠 컴포넌트
            - 조건부로 온라인, 모두, 대기 중 항목을 나눠서 출력
            - 헤더 컴포넌트에서 선택한 버튼에 따라 알맞는 링크 컴포넌트 동작 또는 컴포넌트 내용 렌더링
            - 조건에 일치하는 친구 목록 렌더링 (다이렉트 메시지 컴포넌트)
          - 추가로, 친구 목록에 대한 내용
            - 친구 목록은 온라인, 모두, 대기 중을 구분해 다르게 보여지도록 분할 예정
            - 온라인, 모두, 대기 중 내용은 별도의 컴포넌트를 나누는 것은 생각이 필요
            - 별도의 컴포넌트없이 조건부로 가능할 것으로 예상
            - 또 다른 생각으로 온라인, 모두, 대기 중 클릭에 따라 친구 목록이 다르게 보여져야 하기 때문에 별도의 컴포넌트가 좋을 수도 있다고 생각됨
        - 다이렉트 메시지 컴포넌트
          - 헤더 컴포넌트
            - 대화하는 친구 닉네임
          - 콘텐츠 컴포넌트
            - 메시지 내용
    - 그룹 채팅방 페이지
      - 현재는 그룹 채팅방 목록이 보여지지만, 앞으로는 그룹 채팅방 목록이 사이드 바에서 보여질 예정이기 때문에 해당 페이지에서는 그룹 채팅방에 이동하면 내용이 보여지는 쪽으로 구성을 해 줘야 함
        - 아직 생각이고, 확정은 아님
      - 그룹 채팅방 세부 컴포넌트
        - 중간 영역
          - 서버 이름
          - 초대 링크
          - 채팅방 참여자 목록
        - 콘텐츠 영역
          - 헤더 컴포넌트
            - "#일반" 텍스트 내용
          - 콘텐츠 컴포넌트
            - 메시지 내용
    - 재사용할 수 있는 컴포넌트 (새롭게 생각한 내용만 추가)
      - 헤더 컴포넌트
        - 다이렉트 메시지는 친구 닉네임이 보여지도록 하고, 그룹 채팅방은 일반 텍스트가 보여지도록 조건부로 구성하면 될 것 같음
      - 콘텐츠 컴포넌트
        - 콘텐츠 컴포넌트 내에 채팅 내용을 출력하는 부분이 있다면 이 내용은 재사용할 수 있을 것으로 예상
        - 다이렉트 메시지 또는 그룹 채팅방 \_id 정보를 받아와서 그 \_id에 해당하는 모든 메시지 내용을 출력
      - 모달
        - UI 설계 내용과 중복될 것 같아서 작성하지 않았고, 조금 많은 부분에서 사용될 예정이라서 확실하게 재사용할 수 있을 지 장담할 수 없음
        - 재사용하기 애매하다면 따로따로 구성할 계획

# 오늘 느낀 점

- 실시간 통신 애플리케이션 프로젝트 UI 구조를 추가로 구상하고, 라우터 및 페이지 그리고 컴포넌트 구조를 어떤식으로 구성할 지 많이 생각해 보면서 짜봤는데, 작성한 구조 내용을 바탕으로 다시 프로젝트 내에서 전체적으로 내용 수정을 해 줘야 할 것 같다. 구조를 다시 생각해 보면서 내용을 작성하는데, 이제 좀 그림이 그려지는 것 같고 이전에 구성했던 라우터나 전체적인 구조 내용은 변경이 될 예정이며, 추가로 데이터를 전달 받는 과정도 좀 생각해서 내용 구성할 필요성을 느꼈다. 그리고 저렇게 UI 구조와 라우터, 페이지, 컴포넌트 구조를 구성한 내용은 프로젝트 설계 파일에 추가해서 언제든 다시 볼 수 있도록 해 줄 생각이고, 이전에 설계했던 내용과 합쳐서 다시 정리하는 것이 아닌, 추가 내용으로 따로 정리해 주는 것이 이전에 설계했던 내용과 차이점도 볼 수 있어서 좋다고 생각이 된다. 회원가입 관련해 좀 생각해 봤는데, 이 가입 관련해서 실제 이메일 내용을 입력하면 그 이메일로 초대 메일을 보내고, 초대 메일에 보여지는 코드를 입력하면 가입이 되도록 하는 구조를 생각해 봤는데, 이 내용이 가능할 지 솔직히 장담은 못하지만 꽤 복잡하고 재밌을 것 같다는 생각이 들어서, 최대한 구성해 보는 쪽으로 생각 중이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- 여러 방법을 테스트해 봐야 함
  - 그룹 채팅방 목록 관련 loader 함수 대신 컴포넌트 내부에서 fetch 함수 구성하고 사이드 바 컴포넌트에서 출력
  - 메인헤더 컴포넌트에서 링크 컴포넌트 대신 그룹 채팅방 목록 컴포넌트 가져와 출력

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
