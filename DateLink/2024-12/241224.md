# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 그룹 채팅방 생성 로직 추가
  - 그룹 채팅방 생성 기능을 테스트해 보기 위해, 기본적인 로직 구성을 추가하고 화면에서 관련 내용이 보여지도록 JSX 코드 내용을 구성
  - 프론트엔드
    - CreateGroupChat
      - 배포한 후에 사용될 환경 변수 내용인 apiURL 내용 추가
      - 입력한 제목 내용을 저장할 useState 추가
        - 타입은 string으로 구성
      - 입력한 제목 내용을 감지할 함수 추가
        - event 타입은 `React.ChangEvent<HTMLInpuElement>`로 구성
        - 입력한 제목 내용을 useState로 업데이트
      - 입력한 제목 내용을 포함해 제출될 수 있도록 제출하는 함수 추가
        - event 타입은 `React.FormEvent<HTMLFormElement>`로 구성
        - 비동기 내용을 사용하기 때문에, `Promise<void>` 타입을 추가
        - 기본 동작을 방지하고, 입력한 제목 내용을 객체로 구성
        - fetch 함수를 통해 백엔드와 연결하고, POST method로 구성, 객체로 구성된 입력한 제목 내용을 백엔드로 전달
        - 성공적으로 방 생성 시에 콘솔에 메시지 출력하고 창이 닫히도록 구성
      - JSX 코드 내용
        - form 내용에 onSubmit 속성을 추가해, 제출하는 함수 내용을 사용
        - input에서 내용이 반드시 포함되도록 required를 추가하고, type은 text, id와 name은 title로 구성, onChange 속성을 사용해 입력한 제목 내용을 감지하는 함수 연결
        - button 타입은 submit으로 지정해서 명확하게 구성
  - 구성한 내용을 테스트해 보려고 했으나, 백엔드 내용에서 기본 구성과 DB 구성, 그리고 라우터 설정을 해 놓지 않아서 테스트하지 못했음
    - 백엔드 관련 내용을 구성하고 연결해 봐야 테스트할 수 있음
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/63ce4fda27ac68ff73d0ee794d7885ca0f0a0fe0)

<br />

- 백엔드 서버 로직 추가 및 그룹 채팅방 생성 POST 라우터 추가 및 그룹 채팅방 생성 컴포넌트 수정
  - 프론트엔드에서 구성한 그룹 채팅방 생성 기능이 정상적으로 작동하는지 확인하기 위해, 백엔드 서버 로직을 구성하고 그룹 채팅방 생성과 관련된 POST 라우터를 추가해 연결
  - 백엔드
    - app
      - path, express, dotenv, http 내용을 추가
      - db, groupChatRoutes 내용을 추가
      - app, cors, cookieParser 내용을 추가
      - port를 3000이 아닌, 미리 동적 사용되도록 구성
      - corsURL 또한 동적 사용되도록 구성
      - 프론트엔드 파일 설정을 위해 내용 추가
      - 서버 설정을 위해 내용을 구성하고 socket.io 내용은 일단 주석처리
      - 백엔드 실행을 위해 MongoDB 설정을 추가하고 연결
    - database
      - mongodb, MongoClient 내용을 추가
      - MongoDB 연결을 위한 URI를 추가하고, 미리 동적으로 사용되도록 구성
      - MongoDB에 연결하고 DB 인스턴스 설정하는 함수를 추가
        - "float-chat" DB에 연결될 수 있도록 구성
      - 그 외에 DB 인스턴스, 연결에 문제가 생겼을 때 오류를 발생시키는 내용을 추가하고 DB 연결 함수와 인스턴스 반환 함수를 내보내도록 구성
    - group-chat-routes
      - express, mongodb 내용을 추가하고 db를 연결할 수 있게 import
      - 나중에 \_id 내용을 변환하기 위해 ObjectId 내용을 추가
      - post 라우터를 추가해, "/createGroupChat" 엔드포인트 경로로 설정하고 구성
        - 프론트엔드에서 전달한 title 내용을 받도록 구성
        - 날짜 관련 내용을 추가해, 한국 시간으로 저장되도록 구성
        - 방 생성 시에 프론트엔드에서 넘어온 title 내용과 날짜 시간이 저장되도록 구성
          - 아직 테스트 단계로 추후에 사용자 정보 같은 내용이 더 추가될 예정
        - insertOne을 사용해 groupChats에서 새로운 방이 추가되도록 구성
        - 정상적으로 방 생성이 된 후에 프론트엔드로 해당 방 정보를 전달하도록 구성
        - 에러 발생 시 catch에서 잡아내고, 오류를 출력하도록 구성
  - 프론트엔드
    - CreateGroupChat
      - 입력한 제목 내용을 객체 형태로 전달하는데, 이 때 content라는 이름으로 백엔드에서 확인하도록 했으나, title로 확인하고 사용될 수 있도록 변경
      - 나중에 요청이 CORS를 통해 전송될 때, 오류가 발생하지 않도록 credentials 내용을 미리 추가
        - credentials 내용은 include로 설정
  - 백엔드 서버를 구성하고, 그룹 채팅방 생성과 관련된 POST 라우터를 추가해 연결하고 테스트해 본 결과, 문제없이 입력한 제목 내용이 DB에 저장되는 것을 확인할 수 있었음
    - 현재는 제목 내용과 날짜만 저장되지만, 로그인 기능이 추가된 후에는 사용자 정보도 저장할 예정
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/78071ced88cbb890b780b0b109ee94b9969bd5a3)

# 오늘 느낀 점

- 그룹 채팅방 생성과 관련된 로직을 구성하고 바로 테스트해 보려고 했으나, 백엔드 서버를 구성하지 않은 것이 생각나서 백엔드 서버와 관련 라우터 내용을 추가하고 연결한 결과, 문제없이 연결되어 생성한 그룹 채팅방 내용이 DB에 저장되는 것을 확인했다. UI 구성은 아직 추가하지 않았고, 그룹 채팅방 관련 기능을 모두 추가한 후에 레이아웃과 그룹 채팅방 관련 UI를 추가하는 것이 좋다고 생각이 된다. 우선 DB에 저장된 그룹 채팅방 목록을 가져와서 보여지도록 구성을 할 생각이고, 그 다음 생성한 그룹 채팅방을 삭제하는 것도 함께 구현을 해 줄 생각이다. 초대 기능은 아무래도 링크 같은 초대 코드를 만드려면 조금 생각이 필요하고, 추가로 초대 링크를 통해 그룹 채팅방에 들어가게 되는 과정에 대한 처리가 좀 필요할 것 같아서, 일단 초대 기능은 보류해 놓은 상태로 조회와 삭제 기능 추가 후에 회원가입과 로그인 기능을 추가하고 인증 관련 작업을 한 후에 그 내용들과 연결해 작업을 하는 방향으로 진행을 해야 할 것 같다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
