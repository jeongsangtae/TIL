# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 댓글, 답글 날짜 데이터 출력
    - DB에 저장 되어있는 댓글과 답글의 날짜가 보여지도록 구성을 추가
      - 댓글, 답글을 수정하면 새로운 날짜로 업데이트되는데, 업데이트된 날짜도 실시간으로 반영되어 보여지도록 구성
    - 프론트엔드 구성
      - 이전에 백엔드에서 데이터를 전부 전송하도록 구성해놓았기 때문에 전달 받은 데이터를 prop으로 넘겨서 출력되도록 구성
      - editComment, editReply에서 date 항목을 추가하고, 넘겨받은 데이터의 date 내용을 사용해서 내용을 구성
        - ex) editReply 함수의 내용에 `date: editReply` 항목 추가
    - 댓글 또는 답글의 내용이 수정되었을 때, 실시간으로 content와 date가 업데이트되어 반영되도록 구성해주었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/1e4ea01f3184794eb7db8549fdbd5d88ba95781d)

  <br />

  - 댓글 form에 CSS 추가
    - 댓글 추가와 수정 form이 CSS가 없는 채로 구성이 되어 있기 때문에, 이전 프로젝트에서 사용한 form과 관련된 CSS를 가져와서 현재 구성에 맞게 적용시켰다.
    - CSS 구성
      - form 전체에 display: flex, width 조절, margin 등 내용을 추가
      - textarea에 따로 width, outline, color 등을 추가해서 구성
      - textarea에서 줄 바꿈을 했을 때, 스크롤이 생기기 때문에 스크롤이 생기지 않도록 `-webkit-scrollbar` 내용 추가
      - button에 padding, margin, color 등을 추가해서 구분할 수 있도록 해주고, align-self: flex-end;를 추가해서 오른쪽 끝에 위치하도록 구성
      - 수정과 취소는 따로 div를 추가해서 묶어서 display: flex를 추가해주고 justify-content: flex-end를 추가해서 오른쪽 끝으로 붙여주었다.
        - 그 외에 거의 비슷한 내용으로 구성하고, 수정과 취소 버튼이 함께 있는 곳은 기본적인 내용은 함께 사용하지만 구분할 수 있도록 색을 변경
      - opacity와 관련된 내용은 추가해놓고 아직 사용하지 않은 상태인데, 이건 이제 인증과 관련된 내용을 추가하게 되면 인증 상태에 따라 적용이 되도록 해줄 생각이다.
    - form CSS는 어느정도 구성이 되었기 때문에 이전보다 보기 편해졌고, 댓글의 내용이 출력되는 부분 CSS를 추가해서 구분이 되도록 해줘야 한다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/0fd783281e239c51500946eb349f930a88876633)

  <br />

  - 답글 form에 CSS 추가
    - 댓글의 내용과 같음, CSS 이름만 변경해서 구성
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/f162b7ca7db146179c7d0ed694cc8f55826d21be)

<br />

- 추가 및 해결 해야 할 내용
  - 회원가입 form에서 잘못된 입력을 제출 했을 때, session에 데이터가 저장되는데, 기존의 session 데이터에서 업데이트되는 방식이 아닌 매번 제출할 때마다 새로운 session이 추가되고 있기 때문에 백엔드 코드에서 수정이 필요하다.
    - 계속 원인을 찾아보려고 이것저것 시도해보았지만 아직 어떤 코드가 정확히 원인인지 찾지 못해서 하나씩 천천히 테스트가 필요함
    - 일단 이걸 테스트 해보기전에 먼저 정상적으로 세션 만료가 되는지 확인해보았는데 정상적으로 세션 만료가 되기 때문에, 로그인을 먼저 구성해보고 정상적으로 로그인이 되는지 확인을 해보고 안된다면, session에 저장되는 부분을 다시 확인해봐야 할 것 같다는 생각
  - 로그인 후에, 새로고침 시 로그아웃 되어버리는 상황도 수정을 해야 함
    - 현재 로그인 한 후에, useEffect를 통해서 데이터를 확인하고 토큰이 유효하다면 정상적으로 로그인 유지는 되지만, 새로고침 시 깜빡거리면서 메인헤더가 변경되는 것이 보이기 때문에 이 부분을 수정할 수 있으면 수정할 생각이다.
  - 로그인을 유지하고 있을 때, token이 만료 시간에 가까워지면 자동으로 갱신되는 로직을 추가 해야 함
    - 대충 구성만 되어 있는 상태로, 좀 더 자세한 코드와 테스트가 필요함
  - 댓글, 답글 CSS 추가해서 구분하기 쉽도록 해줄 필요
    - 댓글과 답글이 추가된 날짜를 가져와서 보여주도록 구성 필요 (완료)
    - 댓글, 답글 form은 CSS 구성을 추가해서 좀 더 구분하기 쉽도록 변경 (완료)
    - 댓글, 답글이 출력되는 부분 CSS 추가 필요
    - 댓글, 답글에서 사용되는 수정 및 삭제 버튼 CSS도 추가해야 함
  - 게시글 관련 form CSS 추가 필요
    - 댓글, 답글 form CSS는 추가하고 정작 게시글 form은 CSS를 추가하지 않아서, CSS 내용을 추가해줘야 한다.

# 오늘 느낀 점

- 오랜만에 CSS 구성을 하는데 역시나 쉽지 않은 작업이었던 것 같다. 이전에 만든 프로젝트의 CSS 내용을 가져와서 사용했지만 현재의 구성에 맞춰서 여러 내용을 변경해줘야 했고, 맞는 내용을 찾는데 조금 헷갈렷던 것 같다. form은 이전보다 보기 편해졌기 때문에 댓글, 답글의 내용이 출력되는 부분을 수정해주면 이전보다 구분이 확실하게 될 것 같다는 생각이 든다. 그리고 댓글, 답글에서 사용되는 버튼들도 좀 수정해서 구분하기 쉽도록 해줘야 하고, 댓글과 답글 form은 수정을 해줬지만 정작 게시글 form은 CSS를 기본만 추가해놓은 상태이기 때문에 게시글 form에도 CSS를 추가로 구성해줘야 한다. 그리고 이제 로그인 토큰을 추가한 내용을 활용해서, 인증과 관련된 내용을 추가하고 로그인 했을 때와 하지 않았을 때를 구분해서 게시글, 댓글, 답글 기능이 다르게 작동되도록 내용을 추가해줘야 한다. 추가로 출력되는 부분에서도 차이를 주고 구분할 수 있게 내용을 추가해야 하는데, 로그인 시 토큰이 추가되고 메인 헤더가 변경되도록 구성은 해줬지만 해당 토큰을 활용해서 게시글, 댓글 등 여러가지 기능 사용 유무에 대한 처리를 해주지 않아서 이 부분들에 대한 구성도 추가해줘야 한다. 즉 현재는 로그인하지 않아도 모든 기능을 사용할 수 있기 때문에, 로그인 하지 않은 사용자는 읽기만 가능하도록 인증 관련 내용을 추가해줄 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
