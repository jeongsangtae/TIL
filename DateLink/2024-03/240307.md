# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 게시글 form CSS 수정 및 댓글, 답글 출력 CSS 수정
    - 게시글 form CSS를 제대로 구성하지 않아서, 보기 불편한 부분을 수정해주고 댓글과 답글 출력 되는 부분도 수정을 해주면서 좀 더 보기 편하도록 구성해주었다.
    - 프론트엔드 구성
      - 이름 옆에 수정과 삭제 버튼이 위치하도록 변경
      - 그 다음 내용이 구성되고, 그 아래에 데이터를 저장한 시간과 답글을 쓸 수 있는 버튼이 위치하도록 구성 변경
      - 댓글, 답글 모두 동일하게 구성
    - CSS 구성
      - 게시글 form CSS
        - 제목, 작성자, 내용의 간격을 좀 띄워서 구분해주고 배경색과 동일한 컬러를 구성해서 어느 위치인지 보이지 않기 때문에 border를 추가해서 구분해주었다.
        - textarea에서 resize를 none으로 구성해서 크기 조절이 불가능하도록 해주고, 기본적인 크기를 조절해서 구분해주었다.
      - 댓글, 답글 출력 CSS
        - list 스타일을 없애주고, 작성자 이름과 수정, 삭제 버튼을 space-between으로 양 끝에 위치하도록 구성해주었다.
        - 작성자 이름은 강조되어 구분될 수 있도록 해주고, 버튼의 크기와 색 등을 조정
        - 버튼에 커서가 올라갔을 때도 추가해주고, 데이터가 저장된 날짜의 위치를 내용 아래에 위치해주고 내용보다 크기가 작도록 조절을 해주었다.
    - 맨 위에는 작성자 이름, 수정 버튼, 삭제 버튼으로 구성되어 있고, 그 다음 내용, 마지막으로 저장된 날짜와 답글쓰기 버튼이 위치하도록 구성을 변경해주고 CSS를 구성해서 좀 더 보기 편한 UI가 되었다.
      - 게시글 form도 CSS를 변경해서 UI가 좀 더 보기 편하게 구성되었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/318f5d8e5df8d8c26df9e572e9f6fe7d9f2d3473)

  <br />

  - 게시글, 댓글, 답글 CSS 수정 및 댓글과 답글의 수정과 삭제 버튼에 icon을 추가
    - CSS 구성에서 좀 부족한 내용을 발견해서 추가 수정을 해주고, 댓글과 답글 수정 및 삭제 버튼을 `&#9998;`과 같은 문자로 된 icon을 사용해서 구성해주었다.
      - 게시글 수정과 삭제 버튼은 일반 텍스트로 표기하고, 댓글과 답글의 수정 및 삭제 버튼만 icon으로 변경해주었다.
      - 별도의 이미지나 font를 사용하지 않고, 텍스트 문자를 사용해서 icon으로 구성
    - 프론트엔드 구성
      - 댓글과 답글의 수정 및 삭제 버튼을 텍스트 문자 icon으로 변경해서 구성
      - 수정은 연필 모양의 icon으로 구성
      - 삭제는 X 표시 모양의 icon으로 구성
      - 그 외에 버튼의 위치가 변경이 필요한 부분은 옮겨서 위치 조정을 해줌
    - CSS 구성
      - icon에 배경색을 없애주고, 수정과 삭제 icon 높이가 어색하게 맞지 않아서 높이를 margin을 통해서 조절
      - 날짜의 크기가 내용과 비슷해보이기 떄문에 크기를 수정
      - 게시글 세부 페이지에서 수정과 삭제 버튼에 기본적인 색, 크기, 위치 등 CSS를 추가
      - 게시글 수정은 a태그, 삭제는 버튼으로 구성되어서 높이 크기가 다르게 되어 있기 때문에 수정과 삭제의 크기가 일치하도록 하기 위해서 a 태그에 따로 크기 조절 관련 CSS를 추가
    - 수정과 삭제 버튼이 icon으로 바뀌면서 구분이 더 쉬워진 것 같고, 전체적으로 CSS 내용을 더 추가해주면서 이전보다 훨씬 보기 편해지고 구분이 확실하게 되었는데, 추가로 필요한 CSS는 나중에 다시 작업을 해줄 생각이다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/b452f7856551fa15e09a6118851740176a21ceaa)

<br />

- 추가 및 해결 해야 할 내용
  - 회원가입 form에서 잘못된 입력을 제출 했을 때, session에 데이터가 저장되는데, 기존의 session 데이터에서 업데이트되는 방식이 아닌 매번 제출할 때마다 새로운 session이 추가되고 있기 때문에 백엔드 코드에서 수정이 필요하다.
    - 계속 원인을 찾아보려고 이것저것 시도해보았지만 아직 어떤 코드가 정확히 원인인지 찾지 못해서 하나씩 천천히 테스트가 필요함
    - 일단 이걸 테스트 해보기전에 먼저 정상적으로 세션 만료가 되는지 확인해보았는데 정상적으로 세션 만료가 되기 때문에, 로그인을 먼저 구성해보고 정상적으로 로그인이 되는지 확인을 해보고 안된다면, session에 저장되는 부분을 다시 확인해봐야 할 것 같다는 생각
  - 로그인 후에, 새로고침 시 로그아웃 되어버리는 상황도 수정을 해야 함
    - 현재 로그인 한 후에, useEffect를 통해서 데이터를 확인하고 토큰이 유효하다면 정상적으로 로그인 유지는 되지만, 새로고침 시 깜빡거리면서 메인헤더가 변경되는 것이 보이기 때문에 이 부분을 수정할 수 있으면 수정할 생각이다.
  - 로그인을 유지하고 있을 때, token이 만료 시간에 가까워지면 자동으로 갱신되는 로직을 추가 해야 함
    - 대충 구성만 되어 있는 상태로, 좀 더 자세한 코드와 테스트가 필요함
  - 로그인 시 주어지는 토큰을 확인하고, 해당 토큰을 통해 인증하고 게시글, 댓글, 답글 관련 기능을 활성화해주는 코드를 구성해야 함
    - 현재 생각한 방법으로는 res.locals를 사용해서, 전체적으로 인증을 확인할 수 있는지 테스트가 필요하다.
    - 전체적으로 저 인증을 확인할 수 있게 해주는 것이 1차 목표로, 애플리케이션 전체에서 인증을 확인할 수 있게 된다면 쉽게 구성이 될 것으로 예상된다.
    - 세션과 연동이 가능한 부분이 있는지도 테스트가 필요함
    - 일단 너무 어렵게 생각하는 것보다는 로그인 유무로 메인 헤더가 변경되기 때문에 이 내용을 가지고 테스트해보면서 하나씩 확인하면서 구성하면 될 것으로 예상됨

# 오늘 느낀 점

- CSS를 빠르게 마무리하고 인증과 관련된 작업을 하는 것이 목표였는데 중간에 icon의 높이가 맞지 않는 부분을 수정하는 것과 게시글 세부 페이지의 수정, 삭제 버튼 높이 크기가 맞지 않는 것을 수정해주는데 시간을 많이 사용해서 인증과 관련된 내용은 하나도 작업을 해보지 못했다. 그래도 이제 기본적인 CSS는 구성이 되었기 때문에 추가로 필요한 CSS 내용은 나중에 마무리할 때 추가 작업을 해줄 생각이고, 인증과 관련된 작업을 구성해서 게시글 페이지에서 게시글 내용만 확인할 수 있고, 게시글 작성 및 댓글, 답글은 작성하지 못하도록 구성을 해줘야 한다. 현재 로그인을 했을 때 토큰이 발급되는데 이 내용을 가지고 인증과 관련된 작업을 구성해보는 방향으로 진행해야 할 것 같다는 생각이 든다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
