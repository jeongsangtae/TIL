# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 조건부 렌더링 변경
    - 조건부 렌더링 코드 부분을 간결하게 만들어주기 위해서 pageMove 변수를 추가해서 들어오는 내용에 따라 해당 내용이 렌더링되도록 해주었다.
    - pageMove 변수에 매개변수를 통해서 값이 전달되고 해당 값을 통해서 렌더링되기 때문에 JSX 코드에서는 이전보다 훨씬 간결하고 짧은 코드가 되었다.
    - span 요소로 구성되어있던 부분은 삭제를 해주었는데, 이유는 굳이 class를 통해서 disabled 해주는 것보다 차라리 DOM에서 없어지고 다시 생겨나는 것이 코드를 간결하게 해준다고 생각되어 삭제해주었다.
    - JSX 코드에서는 조건에 따라 렌더링 되는 코드만 추가하고, 조건은 JSX 코드 밖에서 구성했기 때문에 JSX 코드는 이전보다 훨씬 간결해졌고, 추가로 span의 내용을 삭제함으로써 코드가 훨씬 간결해졌다.
    - 조건에서도 변수를 사용해 좀 더 코드를 가독성 좋게 바꿔보았는데, 현재는 만족스럽긴 하지만 이후에 더 좋은 방법을 찾게되면 추가로 수정해줄 생각이다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/754197852ee09270c515eff914aa5b092c1f11e5)

  <br />

  - signup 모달을 통해 입력한 데이터 저장하기 위한 백엔드 구성
    - form을 통해 입력한 내용을 DB에 저장하도록 구성
      - 비밀번호는 해싱되어서 저장되도록 구성
    - signup 페이지에서 입력한 내용이 제대로 전달되도록 하기 위해서 SignupPage에서 action 함수를 추가해서 구성
    - 라우트 페이지에서 SignupPage의 action 함수를 import해서 추가하고 사용
    - 여기서 작업한 내용은 일단 form을 통해서 입력한 데이터가 제대로 DB에 저장되는지 확인하기 위한 작업이다.
      - 그러나 아직 제대로 저장이 되지 않는 상황 오류가 발생해서 고쳐야 함
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/98f44bb8d5aa0e266d941b737a71de2942490048)

  <br />

  - Form 컴포넌트로 변경 및 로직 수정
    - 입력한 데이터가 DB에 제대로 저장되지 않아서 입력한 내용이 제대로 들어가고 있는지 확인하기 위해 console에 데이터가 넘어오는지 확인하는 로직 추가
    - Signup 컴포넌트에서 form으로 되어있던 부분을 Form 컴포넌트로 수정하고 method를 post로 설정해서 데이터가 제대로 전달되도록 수정
    - closeHandler를 통해서 이전 페이지로 이동하도록 해준 버튼이 조금 문제가 있어서 일단 게시글 페이지로 이동하도록 수정
      - 가입을 위한 내용을 입력하고 제출하면 창이 사라지지 않은 채로, 또 다시 내용을 입력하고 제출, 이 과정을 반복한 후에 취소 버튼을 누르면 이전에 입력했던 내용으로 되돌아가는 상황이 발생해서 취소 버튼을 클릭 시 게시글 페이지로 이동하도록 수정
    - form에서 입력한 내용이 제대로 DB에 저장되지 않아서 오류를 확인해보니, fetch 함수에서 singup이라고 오타로 입력해놓아서 제대로 전달이 되지 않았음
      - singup을 signup으로 수정해서 확인해보니 해당 문제는 오류가 발생하지 않지만, 500 에러가 발생하면서 데이터가 저장되지 않아서 추가 확인이 필요
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/06c553f8b952df86f52736039408367342e6fff7)

  <br />

  - 회원가입 내용을 DB에 저장
    - 백엔드에서 사용자 라우트 파일을 구성해놓고, 해당 라우트 파일을 DB에 연결하는 파일에 추가하지 않아서 500 에러가 발생했었다.
    - 사용자와 관련된 내용을 구성한 라우트 파일을 DB와 연결하는 파일에 불러와서 추가해주면서 오류가 해결되고, 정상적으로 DB에 데이터가 저장되는 것을 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/f79af9759016ba28f4877a41a34628a6d2e6359a)

# 오늘 느낀 점

- 회원가입과 관련된 로직을 구성하고 DB에 정상적으로 저장이 되고 있는지 테스트했는데, 정상적으로 저장이 되지 않아서 확인해보니 오타 및 빠진 코드가 있어서 정상적으로 데이터가 저장되지 않는 오류가 발생했었다. 해당 문제는 수정해서 정상적으로 데이터가 저장되는 것을 확인했고 추가로 취소 버튼과 관련된 오류가 발생해서 navigate를 조금 수정해주었다. Form 컴포넌트를 사용하고 있기 때문에 조금 문제가 있는 것 같은데 이 문제는 정보를 찾아보고 추가 수정을 해줄 생각이다. session을 추가해서 가입한 정보를 바탕으로 로그인이 가능하도록 해줘야 하며, 일정 시간 후에 세션이 만료되는 내용도 추가를 해줘야 하고 로그인되었을 때 MainHeader의 내용도 변경되도록 해줘야 한다. 그리고 추가로 회원가입할 때 입력한 내용에 대해 오류 메시지를 보여주는 부분도 추가해야 하며, 제대로된 회원가입 내용을 입력하지 않았을 때 제출되지 않도록 해주는 부분도 추가해야 한다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
