# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 페이지네이션 기능 수정
    - useEffect를 사용해서 fetchData 함수를 실행하고, 현재 페이지에 해당하는 게시글 데이터를 가져오도록 구성
      - fetchData 함수에서 페이지네이션에 맞춰 데이터를 가져온다.
      - page 번호를 사용해서 해당 페이지에 해당하는 게시글 데이터를 서버에서 가져옴
    - 서버에서 해당 페이지에 해당하는 게시글 데이터를 응답으로 보내주고, 이후 받은 데이터로 state를 업데이트한다.
      - 게시글 목록, 전체 페이지 수, 현재 페이지 그룹의 첫 번째 페이지, 현재 페이지 그룹의 마지막 페이지를 업데이트
      - state를 업데이트하면 컴포넌트가 다시 렌더링되고, 업데이트된 상태에 따라 화면에 적절한 게시글과 페이지네이션 버튼이 표시된다.
      - 페이지네이션 버튼을 클릭하면 위 과정이 반복되고 해당 페이지의 게시글 화면에 표시된다.
    - 페이지를 변경하고 URL을 업데이트하는 pageChangeHandler
      - useNavigate를 사용해서 URL을 업데이트한 후에 setPage 함수를 사용해서 현재 페이지를 업데이트
    - URL이 업데이트되면 컴포넌트가 다시 렌더링되고, useEffect Hook이 다시 호출되어 새로운 페이지에 해당하는 게시글 데이터를 가져온다.
      - 가져온 데이터로 posts, totalPages, firstPageGroup, lastPageGroup을 업데이트
    - 게시글과 페이지네이션에 변경 사항을 반영해준다.
      - 업데이트된 posts 데이터로 게시글 내용이 다시 표시된다.
        - 이 코드는 기존의 코드이며, 단지 posts를 useState에 저장해서 활용하는 것으로 변경
      - 업데이트된 totalPages, firstPageGroup, lastPageGroup로 페이지네이션 버튼이 다시 표시된다.
      - 현재 페이지네이션은 조건부 렌더링을 통해서 보여지며, 버튼은 일반 button으로 구성이 되어있는데 이 내용은 변경을 해줄 생각이다.
    - for문 대신에 Array.from을 사용해서 구성
      - for문은 명령형이기 때문에 함수형 프로그래밍을 구성하는 React에서 Array.from을 사용해서 구성
      - 이 Array.from 코드는 조금 이해가 필요하다.
      - 더 간결하게 만들 수 있다고 하지만 아직까지는 for문이 좀 더 쉽게 느껴짐

  <br />
    
  - 페이지네이션 추가 수정할 내용
    - 현재 페이지네이션 기능이 작동하도록 하기 위해 Posts 컴포넌트에서 모든 작업을 추가해서 작업해놓은 상태이기 때문에, 컴포넌트를 분리할 수 있는지 확인이 필요하다.
    - 데이터를 가져오는 부분, URL이 변경되는 부분도 앞에서 구성한대로 라우트와 loader 함수를 통해서 변경되고 가져와야 하지만 현재는 useEffect에서 구성해서 가져오고 변경되도록 하기 때문에 이 부분들도 다른 컴포넌트로 분리가 되는지, 코드를 줄일 수 있는지 추가 확인이 필요하다.
    - 조건부 렌더링도 좀 수정을 할 생각이며, 좀 더 간단하게 구성을 해볼 생각이다.
    - button으로 구성된 페이지네이션을 Link로 변경하는 것도 고려중
    - Array.from을 for문으로 수정하려고 했으나, 차라리 React에서는 Array.from을 사용하고 이해하는 것이 좋다고 생각
    - useEffect에 추가된 fetch 함수를 옮길 수 있는지 확인이 필요

# 오늘 느낀 점

- 정말 많은 구글링, 내가 작성했던 코드, ChatGPT 등 정보를 찾아보고 변경해서 현재 페이지네이션 기능이 작동하기는 하지만 뭔가 머릿속으로 그렸던 코드와 다르게 구성이 되어있기 때문에 이 코드를 좀 더 간결하게 바꾸고 라우트를 사용할 수 있는지 확인해봐야 할 것 같다. 현재는 라우트를 구성해놓고 기본 페이지들만 라우트를 사용하고 다른 기능에서 제대로 활용하지 못하고 있는 것 같아서 페이지네이션 코드와 URL이 업데이트되는 내용에 라우트 활용이 가능한 지 좀 코드를 변경해볼 필요성을 느끼며, 조건부 렌더링 코드도 더 간결하게 변경해볼 생각이다. 이 내용들을 수정하고 난 후에 CSS를 추가할 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
