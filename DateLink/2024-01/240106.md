# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 페이지네이션 기능 추가 수정 내용
    - fetch 함수를 useEffect에서 분리
      - fetch 함수의 내용이 useEffect 안에서 처리되고 있기 때문에 따로 분리해서 가독성을 좀 더 늘려보기 위해서 작업을 진행했는데 재사용성은 높아진 것 같은데 코드를 한눈에 이해하기 쉽다고는 말하기 어려워보인다.
      - 다시 원래대로 useEffect 안에 모아놓는 것도 다시 고려를 해봐야 할 것 같다.
      - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/76c36cf9e2ec2984bd29bee78e01c61796d46eb5)
    - 페이지 이동 버튼을 Pagination 컴포넌트로 분리
      - Pagination 컴포넌트에서 페이지 이동과 관련된 로직만 처리
      - Posts 컴포넌트에서는 게시글 데이터를 보여주는 내용을 처리
      - 원래 구성하고 싶은 방식은 Pagination 컴포넌트에서 페이지네이션과 관련된 모든 useState나 useEffect, fetch 함수 등 내용을 처리하고 데이터를 Posts 컴포넌트로 전달해서 Posts 컴포넌트는 페이지네이션 버튼을 통해서 이동되는 페이지의 게시글만 보여주도록 하는 것이 목표였다.
        - 하지만 페이지네이션에 관련된 코드를 모두 Pagination 컴포넌트에 모아놓을 수는 없다.
        - 좋은 설계이긴 하지만 따로 분리하면 코드의 재사용성과 유지보수성이 향상된다고 한다.
        - Posts 컴포넌트는 페이지의 콘텐츠를 나타내므로, Posts 컴포넌트에서 관리하는 것이 더 적당하다고 판단
      - Pagination 컴포넌트는 페이지 이동과 관련된 로직만을 처리하도록 구성했고, 페이지 번호를 클릭했을 때 어떤 동작을 해야 하는지, 이전 또는 다음 페이지로 이동하는 버튼 등의 동작을 다룬다.
      - Posts 컴포넌트는 Pagination 컴포넌트에서 전달받은 페이지 정보를 이용하여 해당 페이지의 게시물 데이터를 가져와 렌더링하는 역할을 하도록 구성
        - 데이터와 뷰에 대한 로직을 다룬다.
      - 따로 분리하고 구조화해서 각 컴포넌트가 담당하는 역할을 명확하게 해주고, Pagination 컴포넌트 로직을 변경하거나 다른 컴포넌트에서도 같은 페이지네이션을 사용하고 싶을 때, Pagination 컴포넌트를 재사용하기 더 편해졌다.
      - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/047bd6ddf7fa2ded2bba58c7cd70f32ce480fc5d)

  <br />

  - 페이지네이션을 별도의 라우트로 관리하는 것에 대한 내용
    - 페이지네이션을 페이지 내에서 컴포넌트로서 구현할 수도 있고, 별도의 라우트로도 구현할 수는 있다.
    - 나는 여기에서 페이지네이션을 별도의 라우트로 관리를 하려고 했으나, 추천하는 방법은 페이지의 컴포넌트로서 구현하고 별도의 라우트로 구성하지 않는 것이 추천한다고 한다.
    - 컴포넌트로 관리
      - 페이지네이션은 일반적으로 컴포넌트 내부에서 state 및 이벤트 핸들러를 사용하여 관리를 하는데, 이 경우 페이지별로 데이터를 요청하고 렌더링하는 모든 로직이 하나의 컴포넌트에 포함되기 때문에 컴포넌트로 관리하는 것이 더 좋을 수 있다.
      - 장점
        - 페이지네이션 로직이 간단하고 컴포넌트 내부에서 모든 것을 다룰 수 있다.
      - 단점
        - 페이지 이동 시 페이지 전체를 다시 렌더링해야 할 수 있으며, 브라우저의 주소 표시줄이 변경되지 않는다.
          - 주소 내용은 잘못되었다고 생각함
          - 페이지 이동시 URL이 정상적으로 변경되는 것을 확인함
    - 라우트로 관리
      - 페이지네이션을 각 페이지에 대한 별도의 라우트로 구성할 수도 있는데, 이 경우 각 페이지가 독립적으로 로드되고 페이지 변경이 브라우저의 주소 표시줄에 반영된다.
      - 장점
        - 각 페이지가 독립적으로 동작하기 때문에 성능 및 브라우저 기능 측면에서 특정 상황에서 유리할 수 있다.
      - 단점
        - 페이지 이동 시에 전체 페이지가 다시 로드되므로 초기 로딩 속도 측면에서 불리할 수 있다.
    - 라우트로 관리하는 것에 대해 개인적으로 생각한 추가 단점으로는 구성에 조금 불편했다고 생각이 된다. 물론 내가 제대로 구성하지 못해서 그렇게 느낄 수도 있지만 라우트로 구현하려고 했을 때 완성하지도 못했고 어려움도 많아서 시간을 많이 소비했던 것 같다. 그에 비해 컴포넌트로 구현하는 것은 좀 더 쉬웠다고 생각이 된다.
    - 결론은 페이지네이션이 주로 데이터를 효율적으로 표시하고 관리하기 위한 것이므로, 일반적으로 컴포넌트 내 페이지네이션을 사용하는 것이 흔한 선택이라고 함

  <br />

  - 페이지네이션 기능 추가로 수정이 필요한 내용
    - 라우트로 추가해놓은 페이지네이션 내용을 삭제하고 테스트 해보아야 함
      - 라우트 구성을 삭제하고 컴포넌트로 관리하도록 변경할 생각
    - 페이지네이션 버튼의 조건부 렌더링 코드를 좀 더 간결하게 줄일 수 있는지 확인 필요
      - 코드 간소화 필요
    - button을 Link 컴포넌트로 바꿀 필요가 있는지 확인 필요
      - 페이지네이션에서 라우트를 사용하지 않기 때문에 필요 없을 것으로 생각된다.
    - CSS도 추가를 해줘야 함

# 오늘 느낀 점

- fetch 함수를 분리해놓은 내용을 다시 합치는 쪽으로도 생각을 해보고 있다. 오히려 분리하기 전이 코드가 더 간결하고 보기 편했다고 생각이 되기 때문에, 합치는 쪽으로 생각을 하고 있는데 분리한 코드를 보면 fetch 함수 코드 따로 state 업데이트하는 코드 따로, useEffect 따로 분리되어 있어서 단계별로 좀 더 명확히 알 수 있는 것 같기도 하기 때문에 고민을 좀 해봐야 할 것 같다.

- 페이지네이션 기능을 컴포넌트로 분리해서 페이지네이션 컴포넌트에서는 페이지 이동과 관련된 로직 처리만 하고 데이터는 게시글 컴포넌트에서 출력하도록 구성했는데 이 방법으로 마무리를 할 생각이다. 여기서 코드를 조금 수정해서 조건부 렌더링과 같은 코드나 fetch 함수 코드를 간결하게 할 수 있도록 수정할 생각이고 CSS도 추가해서 보기 편하도록 변경해줄 생각이다. button은 굳이 Link 컴포넌트로 수정할 필요가 없을 것 같은데 이유는 페이지네이션에서 라우트를 사용하지 않기 때문에 변경할 필요가 없다고 생각된다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
