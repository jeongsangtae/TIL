# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 관리자 게시글 페이지 경로, 관리자 게시글 페이지네이션 경로 수정 및 관리자 게시글 get router 추가
    - 관리자 게시글 get router를 백엔드에 추가하면서, 그에 따라서 관리자 게시글 페이지 경로와 관리자 게시글 페이지네이션 경로를 수정
    - 백엔드 구성
      - 게시글 get router에서 사용하던 코드를 가져와서 구성
      - get router 경로는 변경해서 사용
    - 프론트엔드 구성
      - 관리자 게시글 페이지 fetch 함수 경로를 "/admin/posts"로 변경
      - 관리자 게시글 페이지네이션 fetch 함수 경로를 "/admin/posts?page=${pageNumber}"로 변경
      - 관리자 게시글 페이지와 관리자 사용자 페이지의 이름이 Layout으로 구성되어 있기 때문에 이 부분을 수정해서 Page로 변경
        - 내용도 Layout으로 되어 있어서 Page로 변경
    - 테스트 결과, 관리자 게시글 페이지에서도 일반 게시글 페이지의 목록처럼 모든 게시글이 보여지는 것을 확인할 수 있었다.
      - 이전에는 일반 게시글 페이지의 fetch 함수 내용을 그대로 사용해서 보여주는 방식이었지만, 이제는 같은 내용이 보여지지만 관리자 게시글 페이지에서 구성된 fetch 함수 내용은 경로가 다르게 구성된 것을 확인할 수 있다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/07fd0604787e347c51055317d90cfde758539515)

  <br />

  - 관리자 메인 콘텐츠, 메인 헤더 수정 및 관리자 게시글 세부 페이지 추가, 관리자 메인 콘텐츠 CSS 변경 및 관리자 게시글 세부 페이지 라우터 추가
    - 관리자 메인 콘텐츠 내용에 CSS를 추가하고, 기본적인 텍스트를 추가해서 홈 화면을 변경해주고, 게시글에서 댓글을 함께 삭제할 수 있도록 구성해주기 위해서 메인 헤더의 댓글 부분을 삭제하고, 관리자 게시글 페이지에서 게시글 클릭 시 사용자 게시글 페이지로 redirect 하는 것이 아닌, 관리자 게시글 페이지로 redirect 해주기 위해서 관리자 게시글 세부 페이지를 추가해주고, 관리자 게시글 세부 페이지 라우터도 추가해주었다.
    - 프론트엔드 구성
      - AdminMainContent.jsx
        - MainContent 컴포넌트 내용을 가져와서 사용하고, 소제목 텍스트를 변경
      - AdminMainHeader.jsx
        - 댓글 부분의 버튼을 주석 처리
        - 게시글 부분에서 댓글을 함께 삭제할 수 있도록 해주기 위해서 일단 주석 처리
      - AdminPostDetailsPage.jsx
        - PostDetailsPage 컴포넌트의 내용을 가져와서 구성해주고, loader 함수와 action 함수의 fetch 함수 경로에 "/admin"을 추가해서 구성
        - redirect 경로도 "/admin"을 추가해서 구성
        - AdminPostDetails 컴포넌트 내용이 보여지도록 import하고 사용
      - AdminPostDetails.jsx
        - 게시글 세부 페이지의 내용을 가져와서 구성
        - 아직 세부적으로 변경은 하지 않고, 테스트하면서 추가 수정할 계획
    - CSS 구성
      - AdminMainContent CSS에 MainContent CSS 내용을 가져와서 사용
    - 테스트 결과, 아직 Post 컴포넌트의 내용을 가져와서 구성하지 않았기 때문에 관리자 게시글 세부 페이지로 이동되지 않고, 게시글 세부 페이지로 이동되는데 관리자 내용에 Post 컴포넌트의 내용을 가져와서 fetch 함수 경로 내용을 수정해주고 백엔드에 필요한 내용을 구성해주면 문제없이 보여질 것으로 생각된다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/007b179ed2e882c0fa4c7428a0dc99179b657f17)

<br />

- 추가 및 해결 해야 할 내용
  - 커스텀 Hook에 대한 고려
    - Context API를 사용하는 것은 좋지만, 이 내용을 사용하려는 파일에서 하나하나 추가해서 사용하기 때문에 커스텀 Hook을 구성해서 재사용할 수 있도록 해줄 필요가 있음
  - 백엔드의 user-router.js에서 accessToken, login/success, profile router에서 모두 accessToken 함수 내용을 재사용하고 있는데, 굳이 3개의 router로 나눌 필요가 있는 지 확인해보고 필요가 없다면 하나로 줄여줘야 함
    - 명확하게 하기 위해서 일단은 하나로 합치지 않고, 그대로 나눠서 사용하도록 유지
    - 내용이 엄청 많은 코드로 구성된 것이 아니기 때문에 현재로서는 크게 문제 없다고 생각되어 그대로 유지
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함

# 오늘 느낀 점

- 관리자 게시글 페이지에서 게시글 클릭 시, 게시글 세부 페이지로 이동되고 그 페이지에서 게시글 삭제와 댓글을 함께 삭제하는 방향으로 생각하고 구성을 하고 있는데, 이렇게 구성하다보니 결국 기존의 사용자 게시판에서 구성했던 내용을 그대로 가져와서 사용하고 있는데, 굳이 이렇게 구성할 것이 아니라, 그냥 관리자로 로그인하면 모든 게시글과 댓글에 대한 삭제 권한을 부여하고 사용자 페이지에서 삭제하면 되는 것 아닌가 하는 생각도 들었는데, 좀 더 생각해보니 사용자 계정도 삭제할 수 있어야 하기 때문에 따로 관리자 페이지를 구성해서 사용하는 것이 맞다고 생각이 되어, 그대로 진행을 할 생각이다. 그리고 게시글과 댓글을 따로 삭제하는 페이지를 구성해서 작업하려고 했으나, 이 것보다는 그냥 게시글 페이지에서 게시글 클릭 시, 게시글 세부 페이지에 들어가서 어떤 내용인지 확인하고 삭제할 수 있게 해주고 거기서 댓글만 따로 삭제할 부분이 보인다면 삭제할 수 있도록 해주는 것이 맞다고 생각이 되어서 게시글 세부 페이지에서 게시글 또는 댓글을 삭제할 수 있도록 구성해줄 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
