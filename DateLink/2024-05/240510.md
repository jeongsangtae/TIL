# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 답글 밑줄 실시간으로 반영되도록 수정
    - 댓글에 답글을 추가했을 때, 밑줄이 실시간으로 추가되지 않고 새로고침했을 때 추가되기 때문에 이 문제를 수정해주기 위해서 Comment 컴포넌트가 아닌, Replies 컴포넌트에서 구성하도록 수정
    - 프론트엔드 구성
      - Comment.jsx
        - repliesCount, totalReplies useState 삭제
        - repliesLengthHandler 함수 내부의 setRepliesCount 내용 삭제
        - 사용하지 않는 주석 처리된 코드 삭제
        - repliesCount 내용을 확인해서, 밑줄이 생기도록 하는 코드 삭제
      - Replies.jsx
        - replies useState의 길이를 확인해서 존재할 때, 밑줄이 추가되도록 구성
    - CSS 구성
      - Repliese.css
        - 밑줄과 관련된 CSS 구성을 추가하고, 다크 모드 색도 추가
    - 테스트 결과, 답글을 추가했을 때 바로 댓글과 답글 사이의 밑줄이 실시간으로 생기는 것을 확인할 수 있었고, 답글을 삭제하면 밑줄도 함께 삭제되는 것을 확인할 수 있었다.
      - 답글을 추가했을 때, 댓글과 답글 사이의 밑줄이 실시간으로 생기도록 하기 위해서 Comment 컴포넌트에서 useEffect를 사용해보고, 조건부 렌더링도 추가해서 테스트해보고, 여러 방법을 사용했었는데 전부 제대로 적용되지 않아서, Replies 컴포넌트에서 길이를 확인해서 밑줄이 추가되도록 해주니 문제를 해결할 수 있었다.
      - Replies 컴포넌트에서 답글이 추가될 때 밑줄이 함께 추가되도록 하면 UI가 망가질 것 같다는 내 생각과 달리 UI에서도 문제가 없었고, 답글이 삭제되었을 때 밑줄이 남아있는 문제도 함께 해결되었기 때문에 훨씬 간단하고 좋은 해결책이었던 것 같다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/16b0e3eb6143fa052b740046d52ba499f7ed5bbc)

  <br />

  - 댓글 추가 부분 CSS 수정
    - 댓글을 입력하는 부분 내용이 전체적인 UI 수정하기 전 상태였기 때문에, 다크 모드를 추가해서 라이트 모드와 다크 모드 내용을 분리해주고 CSS도 변경해주었다.
    - 프론트엔드 구성
      - CreateComment.jsx
        - 다크 모드 className 추가
    - CSS 구성
      - CreateComment.css
        - 전체적인 댓글 form의 border 색 변경
          - form의 다크 모드 border 색 추가
        - textarea 배경을 투명, 글씨색은 검정으로 구성
          - 다크 모드에서 글씨색은 흰색으로 구성
        - 버튼의 색은 검정, 배경은 투명, transition 추가, border를 추가하고 색 구성
          - hover 되었을 때 배경색이 바뀌도록 구성
          - 다크 모드일때 색은 흰색, border 색은 밑줄과 동일한 색으로 구성
          - 다크 모드에서 hover 되었을 때, 배경이 검은색 계열로 변하도록 구성
    - 테스트 결과, 댓글 form의 전체적인 UI가 훨씬 개선되었는데, 여기서 버튼의 UI를 추가로 수정해줄지 좀 고민을 해봐야 한다.
      - 댓글의 밑줄이나, 댓글의 form border가 전체적으로 밝은 회색으로 구성이 되어있기 때문에 이에 따라서 버튼도 비슷한 색으로 구성이 되어야 할 것 같다는 생각이 들기도 하고, 게시글에 구성된 수정과 삭제 버튼은 검은색 계열로 구성이 되어있기 때문에 이 버튼들과 통일성을 줘야 하는지 고민중이라서 조금 생각이 필요하다.
      - 다크 모드에서는 문제가 없지만 라이트 모드에서 조금 신경쓰여서, 수정이 필요한데 라이트 모드의 게시글 내용에서 밑줄색이 검정색으로 되어 있기 때문에 이 내용을 수정해줘야 하는지도 고민을 해봐야 한다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/d1965ca2d04cabfd5101f68bf720051f4f4b842a)

<br />

- 추가 및 해결 해야 할 내용
  - 커스텀 Hook에 대한 고려
    - Context API를 사용하는 것은 좋지만, 이 내용을 사용하려는 파일에서 하나하나 추가해서 사용하기 때문에 커스텀 Hook을 구성해서 재사용할 수 있도록 해줄 필요가 있음
  - 백엔드의 user-router.js에서 accessToken, login/success, profile router에서 모두 accessToken 함수 내용을 재사용하고 있는데, 굳이 3개의 router로 나눌 필요가 있는 지 확인해보고 필요가 없다면 하나로 줄여줘야 함
    - 명확하게 하기 위해서 일단은 하나로 합치지 않고, 그대로 나눠서 사용하도록 유지
    - 내용이 엄청 많은 코드로 구성된 것이 아니기 때문에 현재로서는 크게 문제 없다고 생각되어 그대로 유지
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함

# 오늘 느낀 점

- 답글이 추가되었을 때, 댓글과 답글 사이에 밑줄이 실시간으로 생기지 않고 새로고침해야 생기는 문제가 발생했는데, 이 문제를 해결해주기 위해서 useEffect, 조건부 렌더링 등 여러 방법을 테스트해봐도 해결하지 못해서 차라리 Replies 컴포넌트에서 답글 길이를 확인해서 존재하는 지 확인하고, 존재한다면 밑줄이 추가되도록 구성해줬는데 이 구성으로 문제를 해결할 수 있어서 정말 다행이었다고 생각이 된다. Replies 컴포넌트에서 구성하면 UI가 망가질 것 같다는 생각에 테스트해보지 않았던게 좀 아쉽다는 생각이 들었지만, 그래도 결과적으로 문제를 해결했으니 다행이라는 생각이 들고, 여기서 추가로 댓글 총 갯수를 나타내는 부분에서 댓글이 추가되었을 때는 실시간 반영이 되지만, 답글이 추가되었을 때는 실시간 반영이 되지 않기 때문에 이 부분에 대해서 수정해보기 위해서 여러가지 방법을 테스트해봤지만 아직 해결하지 못해서 마지막 방법으로 백엔드를 수정해서 댓글에 답글이 추가되면 갯수가 누적되는 count 내용을 추가해서, 그 내용을 사용하는 방향도 생각 중인데 이러면 너무 코드가 복잡해지고 굳이 필요한가라는 생각도 들어서 조금 고민이 필요한 상황이다. 그리고 댓글 form의 UI도 변경해서 이전보다 훨씬 나아지긴 했지만 버튼 부분의 색은 확실하게 정하지 못했기 때문에, 게시글 세부 페이지, 게시글 목록의 밑줄 부분 색에 대해 먼저 확실하게 정하고 그에 맞춰서 색을 구성해줘야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
