# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - Main, Post, User, Auth 파일 위치 변경 및 관리자 댓글과 관련된 프론트엔드, 백엔드, CSS 내용 추가
    - 메인 헤더, 메인 콘텐츠, 게시글, 게시글 세부 페이지, 사용자 등 폴더를 추가해서 해당 폴더에 맞게 따로 분리해주고, 관리자 댓글과 관련된 내용을 추가해서 게시글 세부 페이지에서 댓글 내용이 보여지게 구성
    - 백엔드 구성
      - 댓글과 관련된 get router를 추가하고, 댓글이 보여지도록 구성
    - 프론트엔드 구성
      - Main 내용과 관련된 폴더를 추가하고, 해당 폴더에 홈 화면과 메인헤더 내용 구성
      - Posts 내용과 관련된 폴더를 추가하고, 해당 폴더에 게시글, 게시글 목록, 게시글 세부 페이지 내용 구성
      - Users, Auth 각각 폴더를 추가하고, 해당 폴더에 사용될 AdminUsers와 관리자 권한과 관련된 내용 구성
      - 파일 위치 변경에 따른 경로 수정
      - 기존의 댓글에서 사용하던 내용을 가져오고, 답글 부분은 주석 처리
        - 수정과 추가하는 부분은 사용하지 않기 때문에 삭제
    - CSS 구성
      - AdminComment, AdminComments에 기존의 댓글에서 사용하는 CSS 내용을 가져와서 구성
    - 테스트 결과, 게시글 세부 페이지 이동 시 문제없이 관리자 URL이 포함되는 것을 확인했고, 댓글도 게시글 세부 페이지에서 정상적으로 보여지는 것을 확인했다.
      - 댓글 부분이 정상적으로 보여지기 때문에 이제 답글 부분도 보여지도록 구성을 해주고, 모든 내용이 보여지도록 구성되면 삭제와 관련된 내용이 정상적으로 작동하도록 구성을 해줘야 한다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/4870a3264eb830c812c1a90eba9c7ac238b58bac)

  <br />

  - 관리자 답글 부분 프론트엔드, CSS 구성 추가 및 관리자 답글과 관련된 get router 추가 및 관리자 댓글 컴포넌트 수정
    - 답글 부분의 내용을 가져와서, 관리자 답글 부분 내용을 구성해주고 CSS도 구성해서 보여지게 하고 답글과 관련된 백엔드 내용도 추가해서 구성, 댓글 부분에서 답글 부분을 정상적으로 import하게 내용 수정
    - 백엔드 구성
      - 답글을 보여주게 해주는 get router를 추가
      - 답글 get router에서 사용하는 ObjectId 내용을 정상적으로 활성화 해주기 위해서 ObjectId import, mongodb import
    - 프론트엔드 구성
      - 댓글 부분에서 AdminReplies 컴포넌트를 import하고, Replies에서 AdminReplies로 변경
      - 답글과 관련된 AdminReplies, AdminReply 컴포넌트 추가
        - 댓글과 마찬가지로 추가, 수정과 같은 내용은 삭제하고 구성
    - CSS 구성
      - 기존의 답글에서 구성된 내용을 가져와서 구성
    - 테스트 결과, 중간에 분명 답글에서도 게시글, 댓글과 같은 방식으로 구성하고 fetch 함수 경로도 문제없이 구성해주고, useRouteLoaderData도 문제없이 구성했는데 오류가 발생해서 확인해보니, 백엔드에서 ObjectId와 관련된 내용을 import 하지 않고 사용해서 오류가 발생했었는데 이 ObjectId와 mongodb 관련된 내용을 import하고 실행하니 문제없이 답글의 내용도 보여지는 것을 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/1036edcfa7cc873e4802da149fd238fc274418d0)

<br />

- 추가 및 해결 해야 할 내용
  - 커스텀 Hook에 대한 고려
    - Context API를 사용하는 것은 좋지만, 이 내용을 사용하려는 파일에서 하나하나 추가해서 사용하기 때문에 커스텀 Hook을 구성해서 재사용할 수 있도록 해줄 필요가 있음
  - 백엔드의 user-router.js에서 accessToken, login/success, profile router에서 모두 accessToken 함수 내용을 재사용하고 있는데, 굳이 3개의 router로 나눌 필요가 있는 지 확인해보고 필요가 없다면 하나로 줄여줘야 함
    - 명확하게 하기 위해서 일단은 하나로 합치지 않고, 그대로 나눠서 사용하도록 유지
    - 내용이 엄청 많은 코드로 구성된 것이 아니기 때문에 현재로서는 크게 문제 없다고 생각되어 그대로 유지
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함

# 오늘 느낀 점

- 관리자 게시글 세부 페이지에서 게시글, 댓글, 답글의 내용이 문제없이 보여지는 것을 확인했기 때문에, 여기서 삭제 버튼이 먼저 관리자 페이지에서 보여지도록 해줘야 하고, 그 삭제 버튼을 클릭했을 때 정상적으로 작동하는지 확인해줘야 한다. 그리고 관리자 페이지에서 삭제되는 것을 확인하고 사용자 페이지에서도 정상적으로 삭제가 되었는지 확인해줘야 하고, DB에 데이터도 정상적으로 삭제가 되었는지 확인을 해줘야 한다. 그리고 사용자 계정 삭제에 대해 좀 생각해봐야 하는데, 우선 DB에서 어떻게 전체 사용자 데이터를 가져올 것인지 생각해봐야 하고, 가져온 사용자 데이터에서 어떤 내용들이 보여지도록 해주고 단순하게 바로 삭제 버튼으로 사용자 계정이 삭제되도록 해줄 것인지 생각을 해봐야 한다. 그리고 삭제한 사용자가 작성한 게시글, 댓글, 답글 같은 내용은 그대로 남겨놓을 것인지 함께 삭제가 되도록 할 것인지 이 부분도 생각을 해봐야 한다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
