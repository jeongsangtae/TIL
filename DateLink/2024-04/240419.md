# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 테마 모드를 변경하는 input 체크박스가 새로고침 시, 초기화되기 때문에 이 부분을 수정
    - 이전에 input 체크박스에 defaultChecked를 추가해서 수정했다고 생각했는데, 여전히 새로고침 시, 체크박스가 초기화되는 문제를 발견해서 이 부분을 고쳐주었다.
    - 프론트엔드 구성
      - input에 구성된 onClick 대신에, onChange로 변경
      - 테마모드 내용을 저장하는 useState 초기 값에서 로컬 스토리지에 저장된 테마모드 내용을 가져오고, 만약 없는 경우 라이트 모드로 설정하도록 구성
        - 이 코드로 인해, 컴포넌트가 처음 렌더링될 때 호출되며, 초기에 라이트 모드를 설정하거나, 로컬 스토리지에 저장된 테마 모드를 가져와서 설정한다.
        - 로컬 스토리지에 저장된 테마 모드를 바로 전달해서 해당 내용이 사용되게 됨
      - useEffect를 통해서, 로컬 스토리지에 저장된 테마 모드 내용을 가져와서 업데이트하고, 없는 경우 라이트 모드로 구성하는 부분을 주석처리
        - 이 내용과 useState에 구성된 초기 값 구성이 매우 유사하지만, 이 내용으로 구성하면 처음에 초기 값인 라이트 모드가 전달되면서 라이트 모드가 defaultChecked 값으로 들어가며, 다크 모드를 유지할 수 없게 되기 때문에 useState 내용을 사용
        - 라이트 모드 내용이 전달되고 뒤늦게 다크 모드가 전달되긴 하지만, 이미 라이트 모드 값이 렌더링될 때 defaultChecked로 인해 라이트 모드 값이 사용되고, 그 뒤에는 무시되기 때문에 새로고침 시에 유지될 수가 없음
        - 굳이 이 코드가 없어도 작동하는데 문제가 없기 때문에 주석처리
    - 테스트 결과, 이제는 다크 모드로 전환하고 새로고침을 시도해도, input의 체크박스가 초기화되지 않고 그대로 다크 모드에서 유지되는 것을 확인할 수 있었다.
      - checked를 사용해도 되긴 하지만, checked를 사용하면 "Warning: A component is changing~~" 이러한 에러가 뜨기 때문에, defaultChecked로 구성
      - checked는 컴포넌트가 다시 렌더링될 때마다 해당 값을 반영하지만, 이미 그 작업은 Context API에서 구성이 되어있기 때문에 굳이 checked를 사용해서 에러를 수정할 필요가 없음
      - 추가로, 새로고침이나 브라우저를 닫고 다시 열어도 그대로 유지되는 것을 확인할 수 있었고, input 체크 박스를 변경해도 계속 유지가 되기 때문에 처음 렌더링될 때만 사용되는 defaultChecked면 충분히 작동한다고 생각된다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/1559fcdd09eb9571206b39b214aff102f36acaee)

  <br />

  - 회원가입 모달 수정 및 로그인, 모달 CSS 수정
    - 로그인 모달에서 구성한 내용을 회원가입 모달에서도 구성해주고, 그 외에 로그인 CSS를 수정해주고, 모달 CSS의 백드롭 부분 색이 라이트 모드와 다크 모드에서 최대한 비슷하게 보이도록 백드롭 CSS 내용을 수정
    - 프론트엔드 구성
      - Login.jsx
        - 회원가입과 로그인 링크 className을 그냥 통일되도록, link로만 사용하게 변경
      - Signup.jsx
        - react-icons 추가
        - 로그인 모달과 동일하게 구조 변경
          - 아이콘을 추가하고 label을 삭제
          - 취소 버튼을 삭제하고, 가입 버튼만 남겨놓도록 구성
          - 로그인 모달로 이동하는 링크는 div를 추가해서 래퍼로 감싸주도록 구성
        - 이름 부분의 아이콘을 일단 "FaUser"를 추가해주었는데, 이 부분은 다른 아이콘으로 변경해줘야 함
    - CSS 구성
      - Login.css
        - 어제 자동완성 기능과 관련된 내용을 테스트하기 위해서 추가해놓고 삭제하지 않아서, 해당 내용을 삭제
      - Modal.css
        - 모달 부분에서 이전에 사용하던 border와 box-shadow 내용 삭제
        - z-index 값을 5로 수정
          - 메인헤더, 백드롭, 모달의 순서를 z-index로 설정
        - 백드롭의 배경색을 진한 회색 빛이 돌도록 해주고, 투명도를 수정
      - Signup.css
        - 로그인 모달에서 사용한 CSS 내용을 가져와서 구성
    - 테스트 결과, 회원가입 모달 또한 로그인 모달처럼 UI가 변경된 것을 확인할 수 있었고, 이전보다 훨씬 깔끔해진 UI로 구성이 되었다.
      - 회원가입, 로그인 모달의 클릭하는 버튼에 커서를 올렸을 때 커서를 올린 것을 확인할 수 있도록 hover 내용을 추가해서 구성해줘야 하고, 모달이 그냥 뜨는 것이 아닌 애니메이션도 추가가 되면 좋을 것 같다는 생각이 든다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/671f28c15ece3926b0973c6e3eb970853f93e399)

<br />

- 추가 및 해결 해야 할 내용
  - 커스텀 Hook에 대한 고려
    - Context API를 사용하는 것은 좋지만, 이 내용을 사용하려는 파일에서 하나하나 추가해서 사용하기 때문에 커스텀 Hook을 구성해서 재사용할 수 있도록 해줄 필요가 있음
  - 백엔드의 user-router.js에서 accessToken, login/success, profile router에서 모두 accessToken 함수 내용을 재사용하고 있는데, 굳이 3개의 router로 나눌 필요가 있는 지 확인해보고 필요가 없다면 하나로 줄여줘야 함
    - 명확하게 하기 위해서 일단은 하나로 합치지 않고, 그대로 나눠서 사용하도록 유지
    - 내용이 엄청 많은 코드로 구성된 것이 아니기 때문에 현재로서는 크게 문제 없다고 생각되어 그대로 유지
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함

# 오늘 느낀 점

- 회원가입 모달도 로그인 모달처럼 구성이 되었기 때문에, 여기에 hover 내용을 좀 구성해주고 애니메이션도 추가를 해주면 더 좋을 것 같다는 생각이 든다. 그리고 비로그인 상태의 로그인 버튼이 밖으로 나와 있는 것이 어떤지 생각을 좀 해봐야 하고, 메인헤더와 드롭다운 메뉴에 있는 버튼에 커서를 올렸을 때, 애니메이션이 있긴 하지만 부족한 느낌도 들고 다크 모드일 때는 다른 색으로 애니메이션이 나오도록 수정을 해줘야 할 것 같다. 그리고 게시판 부분의 적당한 CSS 구조 소스를 찾아봐야 할 것 같은데, 어떤 식으로 구성할 지 생각은 했는데 혼자서 구현하기에 조금 어려워 보여서 내용을 좀 찾아봐야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
