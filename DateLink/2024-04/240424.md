# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 조회수 증가시키는 로직 추가
    - 게시글 클릭 시, 조회수가 1씩 상승하도록 해주는 로직을 백엔드에서 구성해주고, 프론트엔드에서 조회수 내용이 보여지도록 구성
    - 백엔드 구성
      - 게시글 추가 시, count 항목도 함께 추가되도록 구성 추가
      - 프론트엔드에 전달하는 게시글 내용에 count 항목도 추가해서 전달
      - "/posts/:postId/count" 엔드포인트를 사용하는 새로운 router 추가
        - 이 라우터에서 게시글 클릭 시, count 값이 1씩 증가되도록 구성
        - postId 값을 가져오고, postId 값과 일치하는 게시글의 count를 1씩 증가하는 코드로 구성
    - 프론트엔드 구성
      - Posts.jsx
        - Post 컴포넌트에서 count 내용을 사용할 수 있도록 count를 prop으로 전달하도록 구성
      - Post.jsx
        - postCountHandler를 추가해서, 백엔드에서 새롭게 추가한 router와 연결
          - fetch 함수 경로로 "/posts/ + num + /count"를 사용
          - 여기서 num은 Posts에서 prop으로 전달받은 post.postId 값
        - Link 컴포넌트에 onClick prop을 추가
          - onClick prop에 postCountHandler를 사용
          - 게시글 세부 페이지에 들어갈 때마다, postCountHandler가 실행되고 조회수가 1씩 증가하게 됨
        - 조회 옆에 "{count}"를 사용해서, 해당 게시글의 조회수가 보이도록 구성
    - 테스트 결과, 게시글 세부 페이지에 들어갔을 때 해당 게시글의 조회 수가 1증가 하는 것을 DB에서 확인할 수 있었고, 다시 게시글 목록으로 돌아오면 게시글 목록에서도 조회 수가 올라가있는 것을 확인할 수 있었다.
      - 여러번 게시글 세부 페이지에 들어가서 확인해본 결과, 문제없이 게시글 세부 페이지 조회 수가 상승하는 것을 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/adc1989f10e381793d3f677a898a6cfd0590d984)

  <br />

  - 총 게시글의 갯수 출력 및 프로필 페이지 내용 수정
    - 게시글 목록에서 존재하는 총 게시글의 갯수를 보여주고, 프로필 페이지 내용을 게시글 목록 페이지와 유사하게 보이도록 구성
    - 프론트엔드 구성
      - Posts.jsx
        - posts 배열에 저장된 총 갯수를 보여주도록 구성
          - posts.length를 통해서 저장된 총 게시글 갯수를 출력할 수 있게 되었다.
      - Profile.jsx
        - 백그라운드 추가
        - board-container 추가
        - sub-menu 추가
          - 여기에는 프로필 페이지, 즉 사용자 본인이 작성한 총 게시글 갯수를 확인할 수 있음
        - 게시글을 구분하는 밑줄 추가
        - content, count prop 내용 추가
          - Post 컴포넌트에서 사용될 수 있게, Profile 컴포넌트에서도 추가
    - CSS 구성
      - Posts.css
        - 사용하지 않는 부분 주석 처리
      - Profile.css
        - background 내용, background 다크 모드 내용 추가
        - board-container 내용 추가
        - heading 다크 모드 내용 추가
        - sub-menu, 다크 모드 내용 추가
        - underline 내용 추가
    - 테스트 결과, 총 게시글 갯수 내용이 정상적으로 출력이 되고 있으며, 프로필 페이지에서도 사용자가 작성한 게시글 목록과 총 게시글 갯수가 정상적으로 보여지게 변경되었다.
      - 게시글 목록이나 프로필 페이지의 게시글 목록에 게시글이 1개도 없다면 게시글이 없다는 텍스트를 추가해주는게 좋을 것 같다는 생각
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/beafb6dc6ebf152771a9ba0bd789720dd1b547c8)

<br />

- 추가 및 해결 해야 할 내용
  - 커스텀 Hook에 대한 고려
    - Context API를 사용하는 것은 좋지만, 이 내용을 사용하려는 파일에서 하나하나 추가해서 사용하기 때문에 커스텀 Hook을 구성해서 재사용할 수 있도록 해줄 필요가 있음
  - 백엔드의 user-router.js에서 accessToken, login/success, profile router에서 모두 accessToken 함수 내용을 재사용하고 있는데, 굳이 3개의 router로 나눌 필요가 있는 지 확인해보고 필요가 없다면 하나로 줄여줘야 함
    - 명확하게 하기 위해서 일단은 하나로 합치지 않고, 그대로 나눠서 사용하도록 유지
    - 내용이 엄청 많은 코드로 구성된 것이 아니기 때문에 현재로서는 크게 문제 없다고 생각되어 그대로 유지
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - 메인헤더에서 선택된 내용 on className이 들어가서 알 수 있도록 구성이 필요함
  - 게시글 목록에서 게시글이 없는 경우, 텍스트로 보여주는 내용 추가 필요

# 오늘 느낀 점

- 게시글 조회수가 정상적으로 상승하는 것을 확인할 수 있었고, 이전에 JS로 구성했을 때는 게시글 세부 페이지에서 새로고침할 때마다 상승했었는데, react로 구성한 내용에서는 게시글 클릭을 통해서 게시글 세부 페이지에 들어왔을 때만 조회수가 상승하기 때문에 더 좋아진 것 같다. 게시글의 총 개수를 보여지는 부분도 문제없이 보여지고 있으며, 프로필 페이지도 정상적으로 수정해주면서 사용자 본인이 작성한 게시글만 보여주며, 다른 에러가 발생하지 않는 것을 확인할 수 있었다. 추가로 테스트해본 결과, 라이트 모드의 글쓰기 버튼 색이 지정되지 않아서 제대로 보이지 않기 떄문에 이 부분을 수정해줘야 하고, 글쓰기 버튼의 크기도 조금 작게 다시 수정해줘야 한다. 프로필 페이지에서의 게시글 목록은 간략하게 보이는 것도 생각을 했는데, 아직 확실하게 내용 구상을 한 상태가 아니기 때문에 우선 메인헤더에서 구성을 먼저 변경해주고 그 다음 생각해볼 예정이다. 그리고 추가로 게시글 목록이나 프로필 페이지의 게시글 목록에서 존재하는 게시글이 없을 때, 게시글이 없다는 텍스트를 보여주면 더 좋을 것 같기 때문에 이와 관련된 내용도 추가를 해줘야 한다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
