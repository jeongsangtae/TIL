# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 역할에 따른 채팅 활성화
    - 사용자 페이지에서는 사용자 계정만 채팅창이 뜨도록 구성을 해주고, 관리자 페이지에서는 관리자 계정만 채팅의 사용자 리스트가 뜨도록 구성을 해주었다.
    - 프론트엔드 구성
      - AdminHeader
        - 로그인 유무를 판단한 후에, Context API에서 userInfo의 role 항목을 확인해서 관리자 로그인 경우에만 채팅 버튼이 뜨도록 구성
        - 조건부의 끝 부분 위치를 AdminUserList 뒤로 옮겨서 채팅 관련 내용이 조건부에 함께 적용되도록 구성
      - MainHeader
        - 로그인 유무를 판단하고, Context API에서 userInfo의 role 항목을 확인해서 사용자 로그인 경우에만 채팅 버튼이 뜨도록 구성
    - 테스트 결과, 사용자 페이지에서는 사용자만 채팅 버튼이 뜨는 것을 확인할 수 있었고, 관리자 페이지에서는 관리자만 채팅 버튼이 뜨는 것을 확인할 수 있었다.
      - 사용자 페이지와 관리자 페이지의 역할을 확실하게 분리해서, 사용자 페이지에서는 사용자 계정만 채팅 버튼이 뜨도록 해주고, 관리자 페이지에서는 관리자 계정만 채팅 버튼이 뜨도록 구성을 해주었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/a244f5cfb7434b9baafa2b8a95b36e888a3d651b)

  <br />

  - 채팅 input을 textarea로 변경해서 여러 줄의 채팅이 입력되도록 변경
    - 채팅 내용 입력하는 곳이 input으로 구성되어 있기 때문에 여러 줄 입력에 제한이 있어서, 여러 줄 입력이 가능한 textarea로 변경해주고 좀 더 채팅 입력창의 크기를 키워주기 위해서 CSS를 구성해주었다.
    - 프론트엔드 구성
      - 채팅 입력창에서 엔터키를 통해서 바로 메시지 제출이 되는지 확인하기 위한 코드를 추가한 후에 테스트해보고 주석 처리
      - input을 textarea로 변경
      - 버튼을 감싸는 div를 추가해서, 버튼 컨테이너가 textarea 아래 공간을 차지하도록 해주고 버튼은 오른쪽에 위치하도록 구성
    - CSS 구성
      - input-container
        - flex-direction에 column을 추가, position, bottom는 주석 처리
      - input-container input의 내용을 input-container textarea로 변경
      - input-container textarea
        - width는 100%, resize는 none, overflow는 hidden으로 구성해서 스크롤을 없애고, height는 auto, min-height는 3rem, max-height는 6rem으로 구성
      - input-container에서 button-container로 분리
      - button-container
        - flex-end로 구성해서 버튼이 오른쪽 끝쪽에 위치하도록 구성
      - button-container button
        - 배경색을 투명이 아닌, textarea와 다른 색으로 구성되도록 색 변경
        - 다크 모드에서도 다른 색으로 구성되도록 변경
        - hover도 다른 색으로 구성
      - opacity
        - 투명도를 0.3에서 0.5로 변경
    - 테스트 결과, 채팅 입력창의 크기가 커지고 버튼이 오른쪽 하단에 위치하는 것을 확인할 수 있었으며, 여러 줄 넘겨서 채팅이 입력되는 것도 확인했으며, 여러 줄 입력하고 제출하면 채팅 버블도 일정량 늘어난 것을 확인할 수 있었다.
      - 채팅 버블이 줄 넘김을 통해서 입력된 내용 그대로 보이는 것이 아닌, 줄의 일정량을 넘기면 줄 넘김이 적용되어서 보여지기 때문에 조금 수정이 필요하다.
      - 채팅 버블에서 라인이 넘어가서 입력된 내용이 그대로 보여지도록 수정이 필요
      - 수정한 채팅 입력창 UI가 만족스럽지 않아서, textarea는 유지하면서 기존의 채팅 입력창 크기를 그대로 사용하는 것도 고려를 해봐야 한다.
      - 다른 방법으로, 기존의 채팅 입력창 크기를 유지하다가 줄 넘김을 통해서 입력한 내용이 있을 때 textarea의 크기가 커지는 것도 고려를 해봐야 함
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/02831e69fa445c3eb8626c894f63057258b28c65)

<br />

- 추가 및 해결 해야 할 내용
  - 채팅과 관련된 내용 구성
    - 채팅창에서 사용되는 함수 이름 변경도 생각을 해봐야 하는데, 좀 더 명확하게 표현할 필요성을 느낌
  - 컴포넌트를 분리해줄만한 곳이 있는지 확인해봐야 함
    - 컴포넌트 분리만이 아닌, 조건부나 이런 내용에서 중복된 부분을 줄이고 코드 가독성을 향상 시켜줘야 함
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - 함수 이름에서 헷갈리는 부분이나, 명확하게 해줘야 할 부분을 찾아서 수정해야 함
  - 전체적으로 코드에 주석을 추가해서 어떤 코드가 어떤 기능을 하는지 알 수 있도록 해줘야 함
  - ul 요소 안의 자식이 li가 아닌, div나 프래그먼트로 사용되는 부분을 수정해야 함
  - 채팅 부분에서 엔터를 눌러서 다음 라인으로 넘어가서 채팅이 입력되도록 해야 함
  - Chats 컴포넌트에서 많은 내용이 모아져 있는 것 같아서 컴포넌트 분리를 고려해야 함
    - 관리자 채팅인 AdminChats도 확인해줘야 함
  - 답글 추가와 수정 컴포넌트를 합치는 것을 다시 생각해봐야 함
    - 이 부분은 결국 분리하는 것으로 결정을 했었는데, 추가로 다시 확인이 필요함
  - 페이지로 구성되어있는데, action 함수가 사용되지 않는 부분을 확인해야 함

# 오늘 느낀 점

- 채팅 버튼이 각 페이지 역할에 맞는 계정 접속이 확인되었을때만 뜨기 때문에 사용자 페이지와 관리자 페이지의 역할을 확실하게 분리해준것 같다는 생각이 들고, 채팅 입력창을 textarea로 변경하면서 여러 줄 입력이 된 것은 좋지만 UI가 만족스럽게 구성되지 않아서 기존의 UI를 다시 사용하는 것도 고려를 하고 있는데, 기존의 UI를 사용하고 줄 넘김으로 내용을 입력하면 1~2줄 밖에 입력한 내용을 확인하지 못하기 때문에, 다른 방법으로 줄 넘김을 통해서 입력할 때 textarea의 크기가 커지는 것도 생각을 하고 있다. 여러 방법을 시도해보고 좀 더 간단하고 UI나 UX를 해치지 않는 선에서 내용 구성을 해줄 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
