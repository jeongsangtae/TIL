# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - AdminChats, 채팅창 열리고 닫히는 애니메이션 수정 (미완성)
    - 사용자 리스트에서 사용자를 선택하고 채팅창이 열리는데, 이 때 애니메이션이 사용자 리스트를 여는 애니메이션이 적용되기 때문에 내용을 수정해서 채팅창에서는 다른 애니메이션이 적용되어 열리도록 수정해주었다.
    - CSS 구성
      - 2가지 애니메이션 구성
        - 첫 번째 테스트
          - 채팅창이 열릴 때, 오른쪽에서 왼쪽으로 이동하며 채팅창이 등장하는 애니메이션 효과를 적용
          - width, height를 삭제하고, translate에서 translateX로 구성을 변경
        - 두 번째 테스트
          - 채팅창이 열릴 때, 아래에서 위로 올라오면서 채팅창이 등장하는 애니메이션 효과를 적용
          - width, height를 삭제하고, translate에서 translateY로 구성을 변경
      - 기존의 사용자 리스트를 여는 애니메이션 효과를 삭제
    - 테스트 결과, 오른쪽에서 왼쪽으로 이동하며 채팅창이 등장하는 효과도 좋지만, 아래에서 위로 올라오는 효과가 더 좋다고 생각되어 이 부분을 다듬어서 더 부드러운 애니메이션 효과를 적용해봐야 하고, 닫기 부분의 애니메이션이 적용되지 않아서 이 부분에서 뭐가 문제인지 파악을 해야 한다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/e5ac63bb3b8051da00782f830befc730790c4bae)

  <br />

  - AdminChats, 채팅창 열리고 닫히는 애니메이션 수정 (완성) 및 채팅창 닫히는 애니메이션이 적용되도록 수정
    - 사용자 리스트에서 사용자를 클릭하면, 채팅창이 아래에서 위로 올라오며 보여지게 되는데 이 부분에서 height를 추가해서 더 부드럽게 채팅창이 올라오면서 늘어나는 효과를 주도록 구성해주고, 채팅창을 닫을 때 애니메이션 효과가 적용되지 않은 부분도 수정해주었으며, 사용자 리스트에서 위 아래가 짤리는 부분도 수정해주었다.
    - 프론트엔드 구성
      - AdminUserList
        - AdminChats 컴포넌트가 조건부에 따라서 열리고 닫히도록 구성되었기 때문에, 조건부를 삭제해서 항상 존재하도록 수정
          - AdminChats 컴포넌트를 항상 렌더링해서, 내부에서 애니메이션을 제어하도록 해주면서 상태 변경에 따라서 CSS 애니메이션이 작동하게 구성
        - 채팅창을 열고 닫는 toggle의 초기값이 false이기 때문에 조건부를 삭제해도 항상 떠있지 않고, 사용자를 클릭해야 toggle 값이 true로 변경되며 채팅창이 열리게 됨
          - 조건부 렌더링이 있는 경우, toggle 값이 false가 되면 채팅창이 즉시 사라지기 떄문에 닫기와 관련된 CSS 애니메이션이 적용될 기회가 없어서 애니메이션 효과가 정상적으로 적용되지 않는 것이었음
    - CSS 구성
      - AdminUserList
        - 사용자 리스트 ul 요소에 margin: 0을 추가해서 위 아래 공간을 삭제
        - ul 요소의 margin:0 때문에 스크롤이 ul 요소의 전체 길이를 차지하기 때문에, 스크롤 배경 트랙 부분에 margin을 위 아래로 추가해서 스크롤이 조금의 공간 여유를 가지고 움직이도록 구성
      - AdminChats
        - 채팅창이 열릴 때 애니메이션
          - height가 0으로 시작해서 30rem까지 증가하도록 구성해서 채팅창이 늘어나며 원래 크기가 되도록 구성
          - translateY가 10%으로 시작해서 0으로 줄어들면서 조금 아래에서 원래 위치로 올라오도록 구성
        - 채팅창이 닫힐 때 애니메이션
          - height가 30rem으로 시작해서 0까지 줄어들도록 구성해서 채팅창이 줄어들며 사라지도록 구성
          - translateY가 0으로 시작해서 10%까지 증가하며 아래로 사라지는 효과를 구성
    - 테스트 결과, 사용자 리스트에서 적용된 애니메이션과 다른 효과를 주면서 사용자 리스트 내부에서 채팅창이 열리고 닫히는 애니메이션 효과를 주게 되었고, 이전보다 훨씬 부드럽고 자연스러운 효과를 준다고 느껴졌다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/4d3e38b0cd317c2e913fe9c5746150ab939caeda)

<br />

- 추가 및 해결 해야 할 내용
  - 채팅과 관련된 내용 구성
    - 사용자 계정이 삭제될 때, 해당 채팅도 함께 사라지도록 구성을 변경해줘야 함
    - 채팅창에서 사용되는 함수 이름 변경도 생각을 해봐야 하는데, 좀 더 명확하게 표현할 필요성을 느낌
    - 관리자 \_id와 이름이 필요한지 확인하고 필요없다면 삭제하는 것도 고려를 해봐야 함
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - ul 요소 안의 자식이 li가 아닌, div나 프래그먼트로 사용되는 부분을 수정해야 함

# 오늘 느낀 점

- 사용자 리스트에서 스크롤 이동시에 위 아래가 짤리는 문제도 해결되었고, 사용자 리스트에서 사용자 클릭 시에 보여지는 애니메이션이 사용자 리스트 내부에서 채팅창이 열리고 닫히는 효과를 보여주면서 좀 더 자연스럽게 구성이 된 것 같다. UI 부분은 다 구성이 된 것 같고, 이제 사용자 계정을 삭제했을 때 채팅 내역도 함께 삭제되도록 해주면 될 것 같고, 관리자 채팅에서 채팅을 입력하고 제출하면 관리자 \_id가 함께 저장이 되고 있는데, 과연 이 부분이 정말로 필요한지 확인해보고 굳이 필요없다면 삭제하는 것도 고려를 해봐야 한다. 그리고 관리자 이름의 내용도 굳이 필요없다는 생각이 들었기 때문에, 관리자 \_id와 이름 데이터를 가져오는 것에 대해서 다시 생각해보고 필요없다면 삭제하는 것을 생각해봐야 한다. 추가로, 갑자기 채팅 부분을 구성한 뒤에 한번씩 에러가 발생해서 사용자 데이터가 날라가는 문제가 보이기 때문에 이 부분에 대한 확인을 해줘야 할 것 같고, 사용자 리스트에서 사용자가 많아지면 스크롤로 하나하나 찾기 힘들기 때문에, 이 때 검색을 통해서 찾을 수 있도록 내용을 구성해볼 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
