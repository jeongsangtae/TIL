# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 버튼들 컨테이너, 새로운 메시지, 밑으로 이동하는 버튼 CSS 수정
    - textarea가 증가하면서 새로운 메시지, 밑으로 이동하는 버튼이 함께 위치가 변경되어야 하는데 이 때, 위치는 해결이 되었는데 새로운 메시지 위치가 조금 이상하게 되어있는 부분이 있어서 조정을 해주었다.
    - CSS 구성
      - buttons-container
        - width를 100%로 구성하고, justify-content를 space-between으로 구성
      - new-message-button
        - bottom을 0.2rem으로 수정하고, 새로운 메시지 버튼이 채팅 컨테이너 중앙에 오도록 transformX 수치를 -42.5%로 변경
      - bottm-button
        - bottom을 0.2rem으로 변경하고, right를 -1%로 변경해서 오른쪽에 더 붙도록 구성
    - 테스트 결과, 새로운 메시지 버튼과 밑으로 이동하는 버튼 모두 textarea 크기가 증가할 때, 제대로 위치 이동이 되며 따라오는 것을 확인할 수 있었고, 새로운 메시지 버튼이 채팅 컨테이너 중앙에 가로로 위치해서 보여지는 것을 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/bbbfcda2e56d741d61eca24a6bbe862ccd8f2389)

  <br />

  - 전송 버튼 위치를 고정시켜서 textarea가 증가할 때 따라서 올라가지 않도록 구성
    - 새로고침했을 때 채팅 컨테이너가 한 번 열리고 닫히는 문제는 제대로 수정하지 못했고, textarea가 증가할 때 전송 버튼 부분도 함께 늘어나며 UI가 망가지는 것을 수정해주기 위해서 전송 버튼 위치를 하단에 고정해주었다.
    - 프론트엔드 구성
      - 전송 버튼을 감싸는 div 추가
      - button-container라는 className을 추가
    - CSS 구성
      - chats-container.open, chats-container.close
        - 애니메이션 딜레이를 0.3s에서 0.2s로 수정
      - buttot-container
        - position을 absolute로, right와 bottom을 0으로 구성
      - input-container button으로 사용되는 부분을 button-container로 변경
    - 테스트 결과, 전송 버튼이 하단에 고정이 되어서 textarea가 늘어날 때, 함께 늘어나지 않는 것은 좋지만 textarea의 스크롤이 생길때 버튼을 가려버리는 문제와 내용 입력으로 전송 버튼이 가려지는 문제가 발생해서 추가 수정이 필요하다.
      - 새로고침했을 때 채팅 컨테이너가 열리고 닫히는 문제를 애니메이션에서 opacity 0으로 구성해서 해결은 할 수 있지만, 이렇게하면 닫힐 때 애니메이션이 없기 때문에 너무 단조로워서 좀 다른 방법을 더 생각해봐야 한다.
      - 전송 버튼을 고정해서 textarea가 늘어날 때 함께 늘어나지 않고, 해당 위치에 고정되도록 구성해줬지만 스크롤이 생기거나 채팅에 전송 버튼이 가려지는 문제가 발생해서 textarea와 버튼을 따로 분리해서 위치시키는 방법을 생각해줘야 한다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/09200e784310ed7b5b7927b9324754a40f70d411)

<br />

- 추가 및 해결 해야 할 내용
  - 채팅과 관련된 내용 구성
    - 채팅창에서 사용되는 함수 이름 변경도 생각을 해봐야 하는데, 좀 더 명확하게 표현할 필요성을 느낌
  - 컴포넌트를 분리해줄만한 곳이 있는지 확인해봐야 함
    - 컴포넌트 분리만이 아닌, 조건부나 이런 내용에서 중복된 부분을 줄이고 코드 가독성을 향상 시켜줘야 함
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - 함수 이름에서 헷갈리는 부분이나, 명확하게 해줘야 할 부분을 찾아서 수정해야 함
  - 전체적으로 코드에 주석을 추가해서 어떤 코드가 어떤 기능을 하는지 알 수 있도록 해줘야 함
  - ul 요소 안의 자식이 li가 아닌, div나 프래그먼트로 사용되는 부분을 수정해야 함
  - 채팅 부분에서 엔터를 눌러서 다음 라인으로 넘어가서 채팅이 입력되도록 해야 함
    - 이 부분은 수정해서 엔터를 통해서 제출하고, 시프트 + 엔터를 통해서 다음 라인으로 넘어가도록 구성
  - Chats 컴포넌트에서 많은 내용이 모아져 있는 것 같아서 컴포넌트 분리를 고려해야 함
    - 관리자 채팅인 AdminChats도 확인해줘야 함
  - 답글 추가와 수정 컴포넌트를 합치는 것을 다시 생각해봐야 함
    - 이 부분은 결국 분리하는 것으로 결정을 했었는데, 추가로 다시 확인이 필요함
  - 페이지로 구성되어있는데, action 함수가 사용되지 않는 부분을 확인해야 함
  - 새로고침했을 때, 채팅창이 한번 열리면서 닫히는 문제를 해결 해야 함
  - 채팅에서 입력한 내용이 그대로 보여지도록 수정해야 함
    - font-size로 조절하기 때문에, 이 부분에 대한 수정이 필요
    - 다른 방법이 있다면 그 방법을 찾아서 시도해봐야 함

# 오늘 느낀 점

- 새로운 메시지 버튼의 위치를 수정해서 이전의 UI처럼 정상적으로 보이는 것을 확인했고, 새로고침을 했을 때 채팅 컨테이너가 한 번 열리고 닫히는 문제를 해결해주기 위해서 프론트엔드와 CSS의 애니메이션에서 여러 수정을 해보았지만 해결되지 않아서, 다른 방법을 추가로 생각해봐야 한다. 일단 닫히는 애니메이션이 적용되는 close 부분에서, opacity가 0으로 시작되도록 해주면 새로고침이나 초기 렌더링 시에 채팅 컨테이너가 열리고 닫히는 문제를 해결할 수는 있지만, 이후에 채팅 컨테이너를 이용하고 닫을 때 애니메이션 효과가 없어서 단조로워보이기 때문에 좀 더 고민이 필요하다. 줄 넘김을 통해서 textarea가 늘어나게 되는데 이 때 전송 버튼의 부분도 함께 늘어나면서 UI가 조금 이상해지기 때문에 전송 버튼을 하단에 고정하고 textarea만 늘어나도록 구성을 해줬는데, 이렇게 구성하면 textarea 스크롤이 생겼을 때와 내용 입력이 많을 때 전송 버튼을 가려버리는 문제가 발생하기 때문에 추가로 수정이 필요하다. 오늘 다시 한 번 느낀건 CSS 수정하고 맞춰주는게 정말 어렵다고 느껴졌으며, 초기에 구성한 UI에서 벗어나지 않고 내용을 구성하는 것도 생각보다 성가시고 반대로 구성한 내용 작동에 영향을 안주면서 CSS를 구성하는 것도 많이 성가셔서 미리 잘 조합해서 구성하는 것이 중요하다고 느꼈다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
