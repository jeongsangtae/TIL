# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - AdminUserList 및 AdminUserItem UI 수정 (첫번째 수정)
    - 사용자 리스트와 사용자 버튼의 CSS가 구성되지 않아서 보기 불편하기 때문에 최대한 간결하고 심플하게 보이도록 CSS 구성을 변경해주었다.
    - 프론트엔드 구성
      - AdminChats
        - 실시간 메시지를 수신하는 useEffect에 들어가 있던 의존성 배열인 chatRoomId 내용을 삭제
          - chatRoomId는 방에 입장할 때 사용되기 때문에 실시간 메시지를 수신하는 useEffect에서는 삭제
      - AdminUserList
        - ul 요소에 className을 추가
        - AdminChats 컴포넌트를 열어주는 내용에서 조건부 부분을 useState 내용으로 변경
          - 함수로 조건부를 확인했는데, 이걸 수정해서 useState로 변경
      - AdminUserItem
        - Context API와 관련된 내용 추가
        - li 요소, button, name, email div에 className 추가
    - CSS 구성
      - AdminUserList
        - 사용자 리스트를 관리하는 ul 요소에 전체적인 틀을 구성하는 CSS 내용을 추가
      - AdminUserItem
        - item-container
          - list 스타일이 안보이도록 구성
          - 전체적인 margin 추가
          - 가로는 100%로 구성
        - item-select-button
          - 버튼은 세로로 정렬되어 보이도록 구성
          - 테두리로 구분을 해주고, 적당한 padding과 마우스를 올렸을 때 커서가 보이도록 구성
          - hover도 추가해서, 배경과 박스 그림자가 변경되도록 구성
        - user-name
          - 이름 부분은 bold로 강조해주고, 폰트를 조금 더 크게 구성
          - 이메일과 이름 간의 간격이 좀 있도록 구성
        - user-email
          - 이름과 다른 색으로 보이도록 구성해주고, 이름보다 작은 폰트로 구성
    - 테스트 결과, 이전보다 훨씬 보기 편해졌지만 아직 버튼이 hover 되었을 때, 사용자 리스트의 배경 등 부분에서 부족한 부분이 있는 거 같아서 색도 좀 더 자연스럽게 보이도록 조합을 해줘야 함
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/4c420a2b3704c03fe082d71c340b8f2e35b3b495)

  <br />

  - AdminUserList 및 AdminUserItem UI 수정 (두번째 수정) 그리고 채팅창 스크롤 간격 추가
    - 사용자 리스트와 사용자 버튼의 CSS 내용에서 필요없는 부분은 삭제하고 추가로 수정이 필요한 색 조합이나 수치를 변경해주고 빠진 테마 모드 내용도 추가해주었으며, 스크롤이 입력창 위를 덮는 문제를 해결해주었다.
    - 프론트엔드 구성
      - AdminUserList
        - Context API 관련 내용을 추가해서 사용자 리스트 배경 컨테이너가 테마 모드 변경에 따라서 className이 변경되도록 구성
    - CSS 구성
      - Chats, AdminChats
        - 스크롤이 생겼을 때 입력창과 딱 붙어서 제출 버튼을 조금 덮는 문제가 발생해서, 약간의 margin-bottom을 추가해서 이 문제를 해결
      - AdminUserList
        - user-list-container
          - 테두리에 border를 추가해서 구분하도록 구성
          - 다크 모드의 색은 기존의 채팅창 색과 동일하게 구성
        - user-item
          - 좌우에만 padding을 추가해서 공간 여유를 줬으나, 구성을 변경해서 전체적으로 공간이 없도록 padding은 0으로 구성
      - AdminUserItem
        - item-container
          - 기존에 구성했던 margin을 삭제해서, 사용자 리스트 사이에 공백이 없도록 구성
          - 공백때문에 쓸데없이 사용자 리스트가 늘어나는 느낌을 받아서 삭제
        - item-select-button
          - 배경은 사용자 리스트 컨테이너 색을 따르도록 변경
          - border는 삭제해서, 좀 더 심플하게 보이도록 구성
            - border가 있을 때 지저분한 느낌을 받아서 삭제
          - padding 수치를 조금 더 늘려서 사용자를 클릭하는 버튼이 좀 더 자연스러운 간격을 가지도록 구성
          - hover 되었을 때는 약간 회색 계열에 가까워지도록 구성
            - 진한 회색은 아니며, 흰색보다 조금 진한 회색으로 구성
          - 다크 모드에서 hover 색은 기존의 배경색보다 조금 연한 검정색 계열의 색으로 보이도록 구성
      - user-name
        - 이메일과 간격을 조금 늘려주고, 다크 모드에서 텍스트가 흰색으로 보이도록 구성
      - user-email
        - 이메일 텍스트는 회색 계열로 보이도록 구성
        - 텍스트 색이 회색이면, 라이트 모드와 다크 모드 두 곳 모두에서 이름 텍스트 색과 다르게 보이기 때문에 회색으로 구성
    - 테스트 결과, 사용자 리스트에서 클릭하는 버튼의 테두리를 없애주면서 커서를 올렸을 때 배경만 변화되며 이전보다 훨씬 심플하게 보이고, 테마 모드 변경을 해주면 텍스트, 배경색이 변화하면서 모드 변경한 것도 한 눈에 알아볼 수 있게 되었다. 그리고 채팅창의 스크롤도 조금의 간격을 추가해주면서 스크롤이 버튼을 덮는 문제가 생기지 않는 것을 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/2f877bfc8b05fc3cd14f2ba267ec1240df0d7f8e)

<br />

- 추가 및 해결 해야 할 내용
  - 채팅과 관련된 내용 구성
    - 사용자-관리자 사이의 방 번호를 설정해서 서로 채팅이 보이도록 구현해야 함
      - 관리자 부분에서 사용자 \_id를 가져오고 해당 방으로 들어가는 내용을 구성해야 함
        - 관리자 채팅을 열면, 사용자 리스트가 보여지고 거기서 클릭해서 들어간 사용자 \_id의 정보가 넘어와서 사용될 수 있도록 추가 구성을 해야 함
      - 관리자 채팅창에서는 채팅 버튼 클릭 시, 바로 채팅창이 들어가지는 것이 아닌 채팅창을 선택해서 들어갈 수 있도록 사용자 항목을 만들어줘야 함
        - 관리자 채팅에서 채팅 버튼을 클릭하면 채팅방이 열리는 것이 아닌, 사용자 리스트가 열리도록 수정한 상태로, 사용자를 클릭하면 사용자 \_id가 넘어오는 것까지는 확인해서 추가로 내용을 수정해서 사용자 채팅방으로 넘어가도록 구성해줘야 함
    - 스크롤 작동에서 추가 작업을 해봐야 함
      - 대부분의 스크롤 문제는 해결되었지만, 상대방이 새로운 메시지를 추가했을 때 스크롤이 맨 밑에 있다면 그대로 스크롤도 함께 이동되어야 하지만 스크롤이 이동되지 않고 새로운 메시지 버튼이 뜨기 때문에 이 부분을 수정해줘야 함
      - 이 부분은 수정해서 정상적으로 작동하지만, 수치를 조금 변경해서 세부 조정이 필요함
    - 사용자 계정이 삭제될 때, 해당 채팅도 함께 사라지도록 구성을 변경해줘야 함
    - 채팅창에서 사용되는 함수 이름 변경도 생각을 해봐야 하는데, 좀 더 명확하게 표현할 필요성을 느낌
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - ul 요소 안의 자식이 li가 아닌, div나 프래그먼트로 사용되는 부분을 수정해야 함

# 오늘 느낀 점

- 사용자 리스트에서 사용자를 선택하는 버튼 내용이 너무 단조로운것 같아서, 여기에 마지막으로 추가된 메시지 내용과 날짜를 출력하게 해줄 생각이고, 사용자 리스트에서 사용자가 많이 추가되었을 때 이동할 수 있도록 스크롤을 추가해줘야 할 것 같고, 사용자 리스트에서 사용자를 클릭해서 채팅창으로 이동 후에 다른 사용자를 선택하기 위해서 사용자 리스트로 돌아오기 위한 버튼이 필요할 것 같다. 마지막으로 사용자가 삭제되면 그 사용자가 작성했던 모든 채팅도 사라지도록 구성을 해줘야 하는데, 이 내용까지 구현을 해주면 채팅과 관련된 내용은 모두 끝이라고 생각하기 때문에 가장 필요한 기능부터 빠르게 처리해주고 삭제까지 구성해서 마무리해줄 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
