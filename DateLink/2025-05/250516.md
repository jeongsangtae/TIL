# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 그룹 채팅방 제목 글자 수 제한 추가 및 홈, 그룹 채팅방 버튼 활성화 관련 내용 추가
  - 그룹 채팅방 제목에 입력할 수 있는 글자 수를 제한하고, 홈 및 그룹 채팅방 버튼을 클릭 시에 다른 버튼과 색이 다르게 적용되어 활성화된 상태를 알 수 있도록 구성
  - 프론트엔드
    - SideBar
      - useLocation을 추가해 사용할 수 있도록 구성
      - active 변수 추가
        - location.pathname 내용이 홈 경로인 "/me" 내용과 일치하는지 확인하도록 구성
      - JSX 코드 내용 수정
        - 홈 버튼 className에 active 변수를 조건부로 사용해 true면 active className을 추가하고, false면 아무것도 추가하지 않도록 구성
    - GroupChat
      useLocation을 추가해 사용할 수 있도록 구성
      - active 변수 추가
        - location.pathname 내용이 그룹 채팅방 경로인 "/group-chat/${\_id}" 내용과 일치하는지 확인하도록 구성
      - groupChatDeleteHandler, groupChatLeaveHandler 함수 수정
        - navigate 경로를 "/"가 아닌, "/me"로 수정
        - 그룹 채팅방을 삭제하거나 나갈 때 "/" 경로로 이동시켜서 로그인 페이지 창이 잠깐 뜨는 문제가 발생하기 때문에 홈으로 이동되도록 수정
      - JSX 코드 내용 수정
        - 그룹 채팅방 버튼 className에 active 변수를 조건부로 사용해 true면 active className을 추가하고, false면 아무것도 추가하지 않도록 구성
    - GroupChatForm
      - JSX 코드 내용 수정
        - 그룹 채팅방 제목을 입력하는 input 내용에 maxLength를 추가해 30으로 설정
  - CSS
    - SideBar
      - home-button:hover
        - 홈 버튼에 커서를 올리면 하늘색 계열의 색이 보여지도록 구성
      - active
        - 배경색을 호버되었을 때 색과 동일하게 구성
    - GroupChat
      - active
        - 배경색을 호버되었을 때 색과 동일하게 구성
  - 그룹 채팅방 제목에 입력할 수 있는 글자 수를 제한하고, 홈 또는 그룹 채팅방 버튼이 활성화 되었을 때 다른 버튼과 다르게 보여지도록 구성하고 테스트한 결과, 모두 문제없이 적용되어 활성화된 버튼은 배경색이 다르게 보여져 확실하게 구분되는 것을 확인할 수 있었다.
    - 채팅을 추가한 사용자 닉네임이 보여지지 않아서 누가 추가한지 알 수 없기 때문에 이와 관련해 내용을 추가해야 함
    - TestMainContent 컴포넌트 이름을 변경할 필요가 있고, 로그인과 회원가입 페이지 관련 UI 구성을 위해 CSS 수정해야 함
    - 홈 버튼 또는 그룹 채팅방 버튼에 커서를 올리면 버튼 옆에 커서를 올렸는지 구분하기 위한 내용이 필요하고, 버튼이 활성화 되었을 때 버튼 배경뿐만이 아닌 버튼 옆에 구분을 위한 내용을 추가해야 함
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/dd5547106ba7544251d225db71f53ea250812688)

<br />

- 홈, 그룹 채팅방 버튼 인디케이터 관련 내용 추가
  - 홈 또는 그룹 채팅방 버튼에 커서를 올리면 버튼 왼쪽으로 인디케이터 내용이 작게 보여지고, 버튼을 클릭하면 버튼이 활성화되어 배경뿐만이 아닌 버튼 왼쪽의 인디케이터 내용이 커져서 더 확실하게 활성화된 상태를 알 수 있도록 구성
  - 프론트엔드
    - RootLayout
      - leaveGroupChatHandler 함수 수정
        - navigate 경로를 "/"가 아닌, "/me" 로 수정
    - SideBar
      - JSX 코드 내용 수정
        - 홈 버튼 내부에 span을 추가
        - 추가한 span에 indicator className을 추가
    - GroupChat
      - JSX 코드 내용 수정
        - 그룹 채팅방 버튼 내부에 span을 추가
        - 추가한 span에 indicator className을 추가
  - CSS
    - SideBar
      - indicator
        - left는 음수로 설정해 그룹 채팅방 왼쪽에 위치하도록 구성
        - top, transform을 구성해 수직 정렬
        - width, height로 요소 크기 조정
        - 인디케이터 왼쪽 위와 왼쪽 아래의 border-radius는 0으로 설정하고, 오른쪽 위와 오른쪽 아래는 0.5rem으로 구성
        - opacity는 0으로 설정하고 transition을 추가해 점점 커지는 방식으로 보여지도록 구성
      - home-button:hover .indicator
        - 홈 버튼이 활성화 되었을 때보다 height가 조금 작게 구성
        - opacity는 1로 구성
      - home-button.active .indicator
        - 홈 버튼에 커서를 올렸을 때보다 height가 더 크게 구성
        - opacity는 1로 구성
    - GroupChat
      - indicator
        - left는 음수로 설정해 그룹 채팅방 왼쪽에 위치하도록 구성
        - top, transform을 구성해 수직 정렬
        - width, height로 요소 크기 조정
        - 인디케이터 왼쪽 위와 왼쪽 아래의 border-radius는 0으로 설정하고, 오른쪽 위와 오른쪽 아래는 0.5rem으로 구성
        - opacity는 0으로 설정하고 transition을 추가해 점점 커지는 방식으로 보여지도록 구성
      - group-chat:hover .indicator
        - 그룹 채팅방이 활성화 되었을 때보다 height가 조금 작게 구성
        - opacity는 1로 구성
      - group-chat.active .indicator
        - 그룹 채팅방에 커서를 올렸을 때보다 height가 더 크게 구성
        - opacity는 1로 구성
  - 홈 또는 그룹 채팅방 버튼 옆에 인디케이터 내용이 보여지도록 구성하고 테스트한 결과, 버튼에 커서를 올리면 버튼 왼쪽 가운데 부분에 작게 인디케이터가 보여지고 버튼을 클릭하면 활성화 상태가 되어 인디케이터가 버튼 높이만큼 커져서 보이는 것을 확인할 수 있었다.
    - 활성화 상태일 때 배경색이 달라져서 구분할 수 있긴 하지만, 확실한 구분을 위해 인디케이터를 추가했는데 이전보다 훨씬 구분하기 편해져서 UI에 도움이 된다고 생각됨
    - 채팅을 추가한 사용자 닉네임이 보여지지 않아서 누가 추가한지 알 수 없기 때문에 이와 관련해 내용을 추가해야 함
    - TestMainContent 컴포넌트 이름을 변경할 필요가 있고, 로그인과 회원가입 페이지 관련 UI 구성을 위해 CSS 수정해야 함
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/40125be3e2a4c0f15bc977ea0518dd2378b63496)

<br />

- 테스트 메인 콘텐츠 컴포넌트 이름 수정 및 코드 정리
  - TestMainContent 컴포넌트 이름을 AuthLayout으로 수정하고 사용하지 않는 코드를 정리해 주었으며, TestMainContent 컴포넌트가 사용되는 내용에서도 TestMainContent 대신에 AuthLayout으로 모두 수정
  - 프론트엔드
    - LoginPage, SignupPage
      - TestMainContent 컴포넌트를 AuthLayout으로 수정
    - TestMainContent 컴포넌트 이름을 AuthLayout으로 수정
    - AuthLayout
      - 주석 처리되어 사용하지 않는 내용들을 삭제
  - CSS
    - TestMainContent CSS 파일을 -> AuthLayout로 수정
  - TestMainContent 컴포넌트 관련 내용을 AuthLayout으로 변경하고 테스트한 결과, 이전과 동일하게 작동하는 것을 확인할 수 있었다.
    - 채팅을 추가한 사용자 닉네임이 보여지지 않아서 누가 추가한지 알 수 없기 때문에 이와 관련해 내용을 추가해야 함
    - 로그인과 회원가입 페이지 관련 UI 구성을 위해 CSS 수정해야 함
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/56ff31cc411a498acd834bfe4104bc37d4001eda)

# 오늘 느낀 점

- 홈 버튼 또는 그룹 채팅방 버튼이 활성화 되었을 때, 확실히 구분이 되도록 배경색에 변화를 주고 추가로, 버튼 왼쪽에 인디케이터 내용이 보여지도록 구성을 해주었는데 이 내용들이 잘 적용되어 UI/UX에 도움이 많이 된 것 같다. TestMainContent 컴포넌트 이름을 좀 더 포괄적인 이름인 AuthLayout으로 변경해 주었는데, 아직 CSS 관련 내용은 추가로 수정하지 못해서 UI가 많이 밋밋하기 때문에 수정을 해줘야 하고, 우선적으로 채팅 내용이 저장될 때 사용자 닉네임이 함께 저장되고, 그 다음 저장된 사용자 닉네임 데이터를 불러와 어떤 사용자가 채팅을 추가했는지 구분할 수 있도록 구성해 줘야 한다. 이 외에 서브 사이드바 관련 UI, 그룹 채팅방에 보여질 서브 사이드바 내용 등 여러 CSS 내용을 추가해야 하고, 닉네임 업데이트 관련 로직을 추가하는 것과 닉네임이 업데이트된 후에 다른 곳에 저장된 사용자 닉네임 내용도 함께 업데이트 되도록 내용을 구성해 볼 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 채팅을 추가한 뒤에 사용자 닉네임이 보여져야 함

- 서브 사이드바 관련 UI 수정 필요

- 닉네임 업데이트 관련 로직 추가 필요

- 사용자 닉네임 데이터를 채팅 데이터에 추가해 저장할 경우, 닉네임 업데이트 관련 로직이 작동될 때 함께 업데이트 되도록 구성이 필요함

- 로그아웃 버튼 등 여러 버튼들이 텍스트가 아닌 아이콘으로 보여지도록 수정 필요

- 홈으로 이동 시에 친구 버튼과 다이렉트 채팅방 목록이 사이드바 옆으로 보여지고, 친구 버튼 클릭 또는 다이렉트 채팅방 클릭 시에 그 옆으로 해당 내용이 보여지도록 수정 필요

- 그룹 채팅방은 그룹 채팅방에 참여한 사용자 목록이 사이드바 옆으로 보여지고, 그 옆에 채팅 관련 내용이 보여지도록 수정 필요

- 출력되는 채팅 메시지 목록에 스크롤을 추가해 보기 편하도록 변경해야 하고, 메시지가 언제 추가되었는지 구분할 수 있도록 저장된 날짜 데이터를 불러와 표기해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 삭제 시에 다이렉트 채팅방 삭제 확인 로직 필요 (친구 삭제 시에 다이렉트 채팅방을 그대로 남겨놓고 삭제 확인창은 따로 추가하지 않을 예정)

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 그룹 채팅방 초대하고 알림을 전송하는 기능에서, 로그인한 사용자가 아닌 친구에게 보내는 그런 구조로 작동되도록 수정이 필요 (비로그인 상태여도 상관이 없음 단순하게 친구한테 친구 요청하면 알림 메시지가 전달되어야 함)

- 추가된 친구와 대화를 나눌 수 있는 다이렉트 채팅방 (진행중)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
