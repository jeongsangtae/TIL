# 오늘 한 일

### React 공부

- React Router가 있는 SPA 다중 페이지 구축하기

  - 모듈 소개
    - 현재까지 구성한 모든 데모 애플리케이션들은 싱글 페이지에서 이루어져있다.
    - 어떤 액션을 취하면 UI가 종종 변하지만 그것들은 모두 한 페이지에 있고 URL이 절대 변하지 않는다.
    - 사실 이 것이 React JS의 핵심 아이디어다.
      - 이 걸로 SPA를 만들 수 있고, 클라이언트 측 JS는 사용자가 보는 것들의 변화를 관리한다.
    - 장점이 있지만, 단점도 있다.
      - 가장 큰 단점은 웹의 가장 큰 장점인 어떤 리소스에 링크할 수 있다는 장점을 잃게 된다는 점이다.
      - 애플리케이션이 복잡해질수록 웹 사이트나 웹 애플리케이션의 특정 부분에 링크하기를 원하게 되기 때문이다.
      - 웹 사이트에서 특정 부분을 방문하면 그걸 로딩하는 URL을 제공할 수 있으면 좋다.
        - 사실 대부분의 웹 사이트가 이렇게 작동한다.
      - 현재까지 데모 애플리케이션에는 그런 동작이 없다.
      - SPA Routing이 바로 그 부분에 사용된다.
    - 이 강의에서 SPA인 React 애플리케이션 구축하는 방법을 배워서 매번 백엔드에서 새로운 페이지를 가져오지 않아도 되기 때문이다. 그리고 다양한 URL도 있어서 그게 전체 웹 사이트의 다양한 페이지로 인도하게 된다. 이렇게 두 가지 장점을 모두 취합할 예정
    - 강의 내내 보게 될 SPA도 구축할 수 있고, 사용자를 브라우저의 주소창에 올바른 URL을 삽입해서 로딩할 수 있는 다양한 URL로 된 다양한 페이지로 포워딩할 수도 있다.
    - 강의의 이번 섹션에서는 클라이언트 측 라우팅이 정확히 무엇인지, 그게 어떻게 작동하는지, 왜 그걸 사용하는지 배우게 될 것이다.
    - 그 다음 React Router라는 패키지의 사용법을 배울 것이다.
      - React 애플리케이션에 가장 널리 사용되는 라우팅 패키지
      - 이 패키지를 사용하면 SPA 앱에 멀티 페이지의 느낌을 불러올 수 있다.
    - 섹션 후반부에서는 데이터를 가져오고 보내는 방법을 자세히 알아보고, React router가 어떻게 도움이 될 수 있는지, 그리고 실제로 그런 과정들을 어떻게 간단히 할 수 있는지 알아볼 예정이다.

  <br />

  - Routing: 싱글 페이지 애플리케이션에서 다수의 페이지 보여주기
    - 라우팅을 이해하려면 웹이 전반적으로 어떻게 작동하는지를 알아야 한다.
    - 웹 사이트를 방문하면 일반적으로 도메인 이름 뒤에 경로를 첨부한다.
      - `/welcome`과 같이 첨부
      - 예로, 그게 웹 사이트의 /welcome 페이지를 로딩한다.
    - 브라우저 주소창에 다른 URL을 입력하거나 예를 들어 /products처럼 URL을 변경하는 링크를 클릭하게 되면 다른 페이지가 로딩된다.
      - 이게 라우팅이 하는 일이다.
    - URL 경로가 다르면, 다른 콘텐츠가 화면에 로딩된다.
      - 이 부분은 지금까지 강의에서 구축한 애플리케이션에는 없는 부분이었다.
      - 지금까지 URL을 변경하거나 다른 URL에 반응하고 그 URL로 다른 콘텐츠를 로딩할 기회가 없었기 때문이다.
    - 지금까지 단순히 다른 경로에 대해 다른 콘텐츠와 다른 HTML을 로딩하는 방식으로 라우팅을 구현하곤 했다.
      - 이와 같은 방식으로 멀티 페이지 애플리케이션을 구축했다.
      - 보통은 React JS 없이도 그렇게 구축할 수 있다.
      - 이렇게 하면 다른 경로에 대해 다른 콘텐츠를 로딩하게 되지만, 단점이 있는데 항상 새 콘텐츠를 가져와야 한다.
      - 새로운 HTTP 요청을 전송하고 새로운 응답을 받는 과정에서 사용자의 흐름이 중단될 수 있다. 그러면 지연이 발생하고 웹 사이트가 느려질 수 있다.
        - 결국 UX가 저하되는 결과를 야기할 수 있다.
    - 더 복잡한 UI를 구축할 때 SPA를 원한다.
      - 최초 HTML 요청을 하나만 전송하고, HTML 파일과 많은 추가적인 JS가 다운로드되고, 그 다음에 클라이언트에서 실행되는 추가 JS 코드는 사용자가 화면에서 보는 것들을 실제로 조절하게 된다.
      - 그렇다고 라우팅을 다시 사용하지 못하거나 URL의 경로 변경을 지원하지 못하거나 그 경로를 이용해서 다른 콘텐츠를 로딩하지 못하게 되는 것은 아니다.
    - 클라이언트 측 React 코드를 추가할 수 있고, 그게 현재 사용 중인 URL을 감시하게 된다. 그리고 URL이 변경될 때마다 작동해서 URL이 변경되면 화면에 다른 콘텐츠를 표시하게 된다.
      - 백엔드로부터 새 HTML 파일을 로딩하지 않고, 약간의 클라이언트 측 코드를 추가해서 그게 간단히 URL을 감시하다가 그 URL이 변경되면 다른 React 컴포넌트를 로딩할 수 있게 된다.
      - 이러면 여전히 SPA에 있으면서도 다양한 URL과 라우팅을 지원할 수 있게 된다.
      - 이 내용이 바로 이번 섹션에서 실제로 해보고 배울 내용이다.

  <br />
      
  - 프로젝트 셋업 & React 라우터 설치
    - 현재 제공된 프로젝트는 아주 간단한 프로젝트로, 콘텐츠가 많지 않다.
      - 기본적인 스타일이 있고, Root 컴포넌트 그리고 앱 컴포넌트는 비어 있는 상태이다.
    - 이 프로젝트로 라우팅의 기본 지식을 배우고, 섹션의 후반부에서 약간 더 현실적인 프로젝트도 구축하고 고급 라우팅 기능도 사용해볼 예정
      - 라우팅의 기본 기능을 이해하고 전반적으로 어떻게 작동하는지 이해하기 위해 이 데모 프로젝트를 이용할 것이다.
    - 라우팅 추가
      - 라우팅을 추가하기 위해 추가 패키지를 설치
        - 라우팅 기능, 즉 URL을 감시하고 다양한 콘텐츠를 로딩하는 기능은 React에 내장되어 있지 않기 때문이다.
        - 자신만의 로직과 라우터를 작성할 수도 있는데, 오히려 복잡하다.
          - URL 변경이나 다양한 활용 사례를 적절히 지원하기 위해서는 갖춰야 할 기능과 세부 요소가 아주 많기 때문이다.
        - `npm install react-router-dom`
    - react-router-dom 패키지는 react router tool에 속해 있다.
      - [react router](https://reactrouter.com/en/main)을 방문해서 이 툴과 이 패키지에 대해 자세히 알아볼 수 있고, 여기서 모든 기능과 거동, 모든 API 그리고 패키지가 노출하는 모든 기능에 대해 알아볼 수 있다.
      - react router 패키지로 URL 변경을 감시하고, 다양한 콘텐츠를 로딩할 수 있다.
    - 라우팅을 추가할 때는 몇 단계를 거쳐서 추가한다.
      - 첫 번째 단계에서 지원하려는 라우트를 정의해야 한다.
        - 즉 지원하려는 URL과 경로, 그리고 다양한 경로에 대해 어떤 컴포넌트가 로딩되어야 하는지 정의해야 한다.
      - 두 번째 단계는 라우터를 활성화하고 첫 번째 단계에서 정의한 라우트 정의를 로딩하는 단계이다.
      - 세 번째 단계는 로딩하려는 그 모든 컴포넌트들이 있는지 확인하고 그 페이지들 간에 이동할 수단을 제공했는지, 확인하는 단계이다.
        - 사용자들은 다양한 페이지들 간에 매끄럽게 이동할 수 있게 된다.

  <br />

  - 라우트 정의하기
    - react-router-dom 패키지에서 createBrowserRouter를 import
      - `import { createBrowserRouter } from "react-router-dom";`
      - createBrowserRouter는 react-router-dom 패키지에서 제공하는 함수
      - createBrowserRouter 함수로 애플리케이션에서 지원하려는 router를 정의할 수 있다.
    - createBrowserRouter 함수 구성
      - createBrowserRouter 함수를 호출하고, 그 함수에 라우트 정의 객체로 된 배열 추가
      - JS 객체 몇 개를 제공하고, 모든 객체들은 각각 하나의 라우트를 나타낸다.
      - 라우트의 특징을 정의하기 위해 프로퍼티 몇 개를 추가
        - 예로, path와 같이 라우트가 활성화되어야 하는 경로를 추가한다.
      - 라우트 객체
        - 라우트를 구성하는 몇 가지 프로퍼티를 받게 된다.
          - 자동 완성 기능이 작동하고, 모든 프로퍼티를 확인할 수 있다.
          - 공식 문서에서 프로퍼티에 대한 내용을 더 자세히 알아볼 수도 있다.
        - 항상 추가할 주요 프로퍼티는 `path` 프로퍼티
          - path 프로퍼티로 해당 라우트가 작동해야 하는 경로를 정의한다.
          - path는 도메인 뒤에 있는 부분이다.
            - `https://example.com/products` 같은 웹 사이트가 있다면 `example.com` 이게 도메인 이름이고, https 부분은 프로토콜, `/products`가 path(경로)가 된다.
            - 즉, 도메인 뒤에 있는 부분이 path가 되는 것
            - path 프로퍼티로 그걸 정의하는 것이다.
          - path가 메인 페이지의 라우트, 즉 웹 사이트의 시작 페이지라고 말할 수 있다.
            - path는 `/` 뒤에 아무것도 없을 수 있다.
            - 도메인 뒤에 `/` 그리고 아무것도 없으면 해당 라우트가 활성화된다.
            - `{path: "/"}`
        - 라우트 객체에 일반적으로 추가하는 두 번째 중요한 정보는 그 라우트가 활성화되면 로딩되어야 하는 컴포넌트에 대한 정보가 들어간다.
          - 라우트에 의해 페이지로서 로딩될 컴포넌트들을 담는다.
          - 현재는 pages라는 폴더 이름으로 생성했는데, 꼭 pages라는 이름을 쓸 필요는 없으며, 평소에 쓰던 components 폴더도 쓸 수 있고, routes라고 하거나, 원하는 아무 이름이나 쓸 수 있다.
          - 강의에서는 그냥 pages라는 이름으로 별도의 pages 폴더를 써서 그 곳에 저장된 일반적인 React 컴포넌트들이 라우팅을 통해 로딩될 것이라고 해주는 것이다.
          - pages 폴더에 Home.js를 추가하고 해당 컴포넌트 연결을 구성하기 위해 또 다른 키 프로퍼티인 `element` 추가
            - 이름에서 알 수 있듯이, 요소를 정의할 때 쓰는 프로퍼티이다.
            - 이 경로가 활성화되면 JSX 코드가 로딩될 것이다.
            - element에 JSX 코드를 정의한다.
              - 해당 라우트가 활성화되면 화면에 정의한 JSX 코드가 렌더링된다.
            - 이 경우 Home 컴포넌트가 된다.
              - `{path: "/", element: <Home />},`
              - Home 컴포넌트는 경로가 활성화되면 활성화되어야 하는 JSX 코드이다.
              - element에는 어떤 JSX 코드나 있을 수 있다.
                - 페이지를 감싸는 p 태그가 추가될 수도 있고, 원하는 걸 아무거나 넣어도 된다.
                - 하지만 보통 간단히 하나의 컴포넌트를 렌더링하고 그게 로딩되어야 할 전체 페이지를 나타내게 된다.
        - 여기까지 구성하는 것이 첫 번째 단계
          - `{path: "/", element: <Home />}` 이 경로로 라우트 객체를 생성했고, 라우트가 활성화되었을 때 로딩되어야 하는 컴포넌트를 정의했다.
        ```
        createBrowserRouter([
          {path: "/", element: <Home />},
        ])
        ```
    - 라우트와 컴포넌트를 더 추가하기 전에 라우터에서 라우트 하나만 사용하고, 해당 라우터를 어떻게 사용할 수 있는지 알아보기
      - 라우터를 사용하기 위해 먼저 createBrowserRouter 함수에서 리턴된 값을 변수나 상수에 저장
        - `const router = createBrowserRouter([...])`
      - router를 화면에 렌더링해야 한다거나 또는 그 router를 로딩해야 하고 적절한 페이지를 화면에 렌더링해야 한다고 React에게 알려주기 위해서 router 상수가 필요하다.
      - router를 사용해야 한다고 React에게 알리기 위해 react-router-dom에서 또 다른 걸 import
        - RouterProvider 컴포넌트
        - `import { createBrowserRouter, RouterProvider } from "react-router-dom";`
      - RouterProvider 컴포넌트는 JSX 코드에서 사용할 수 있는 일반 컴포넌트이다.
        - `return <RouterProvider />;`
        - 다시 RouterProvider를 다른 JSX 코드로 감싸거나, 다른 JSX 코드를 App 컴포넌트에 추가할 수 있다.
      - RouterProvider 컴포넌트는 설정해야 하는 특수한 프로퍼티가 있다.
        - 특수한 프로퍼티는 router 프로퍼티
        - router 프로퍼티에 넣는 값은 이 경우엔 createBrowserRouter로 생성한 router가 되어야 한다.
          - router 프로퍼티에 상수 router를 넣는다.
          - `<RouterProvider router={router} />`
          - 이렇게 하면 router를 화면에 렌더링하고, router를 활성화하게 되고, 이어서 router는 URL을 관찰하고 현재 활성화된 경로가 무엇인지 확인한 다음에 적절한 element를 로딩하게 된다.
    - 이렇게 구성하고 확인해보면 Home 컴포넌트의 내용이 보여지게 된다.
      - 경로가 / 뒤에 아무것도 없을때 로딩하는 컴포넌트이기 때문이다.
    - 자세한 코드 [깃허브](https://github.com/jeongsangtae/react-complete-training-routing-basic/commit/7473efdd27bbebea52e176263237ed6e9551044c)

  <br />

  - 두 번재 라우트 추가하기
    - 페이지를 추가하기 위해 pages 폴더에 다른 컴포넌트 추가
      - Product 컴포넌트 추가
    - Product 컴포넌트는 실제 콘텐츠가 없는 더미 페이지로 구성된다.
      - h1 요소만 return하고, 거기에 내용 추가
    - 라우트 추가
      - 라우트 정의 배열에 두 번째 요소를 추가하고 내용 구성
        - path는 `/products`로 구성
        - element는 Products 컴포넌트를 로딩
        - `{ path: "/products", element: <Products /> },`
    - 라우트를 추가하면서 완료가 되었는데, 이제 `/product`에 대해 두 번째 페이지를 지원한다.
    - 도메인 뒤에 /products라고 입력하고 확인해보면 Products 컴포넌트에서 추가한 로딩된다.
    - /products를 삭제하고 확인하면 홈이 로딩되는 것을 확인할 수 있다.
    - 전혀 다른 걸 입력하면 오류가 발생한다.
      - 아직 지원하지 않은 URL 경로를 방문하려 하고 있기 때문이다.
    - 오류와 오류 처리로 돌아가서 기본 오류 페이지 대신에 react-router-dom이 생성한 오류 페이지를 보여주도록 바꿀 예정
    - 자세한 코드 [깃허브](https://github.com/jeongsangtae/react-complete-training-routing-basic/commit/1136a0d0cfb74f1953dac4ee27df1317465f94cc)

<br />

# 오늘 느낀 점

- SPA로 이제까지 구성을 하다가 라우터를 사용해 다중 페이지를 구축하는 작업을 연습해보고 있는데 뭔가 느낌이 좀 묘하다는 생각이 들었다. 다중 페이지 구축은 JS 연습할 때 많이 해본 부분이지만, React에서는 처음이기 때문에 어떤 부분이 다를지 궁금하다고 생각도 된다. 앞에서 간단하게 설명은 해주었지만 그래도 직접 코드를 구성해보고 또 구성된 내용으로 렌더링된 결과물을 보면서 직접 느껴보는게 좋다고 생각이 되며, 다른 경로에 대해 다른 콘텐츠와 다른 HTML이 로딩되는 방식과 다르게 React router를 사용하면 성능이 어떤 차이가 있는지, UX는 괜찮을지 여러 부분에서 궁금한데 앞으로 라우팅에 대한 기본 지식을 배우고 연습해보면서 익힌 다음에 고급 라우팅 기능을 사용해보며 좀 더 현실적인 프로젝트를 구축해서 어떤 차이가 있는지 비교해볼 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작 (영화 추천 사이트)

- 거래 명세서 프로젝트 제작 (React, Python, MySQL)

- Python으로 웹 스크래퍼 만들어보기 (조금 뒤로 밀림)

- Python, PHP 공부할 거 찾아보기 (조금 뒤로 밀림)

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기 (조금 뒤로 밀림)

- Python 데이터 분석도 한번 봐보기 (조금 뒤로 밀림)
