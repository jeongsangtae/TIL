# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 주석 내용 추가 및 채팅 입력창 초기화 내용 추가
  - 코드 설명이 필요한 부분에 주석을 추가하고, 채팅을 입력하고 제출하면 입력창이 초기화되어 바로 추가 내용을 입력할 수 있도록 구성 추가
  - 백엔드
    - app
      - 방에 사용자를 추가하는 내용에 주석 추가
  - 프론트엔드
    - socketStore
      - 채팅 메시지 알림 관련 내용에 주석 추가
    - ChatInput
      - sendMessageHandler 함수 수정
        - 채팅 메시지가 제출된 후에 입력창이 초기화되도록 구성
  - 채팅을 제출하면 채팅 입력창이 초기화되는 내용을 구성하고 테스트한 결과, 문제없이 작동되는 것을 확인
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/117cf46d66ef037f388822fe5d1be7b10e184bef)

<br />

- 그룹 채팅 초대 컴포넌트 추가 및 친구 목록 조회 그리고 전달, 출력
  - 그룹 채팅방에 친구를 초대하는 기능이 구성될 그룹 채팅 초대 컴포넌트를 추가하고, 그룹 채팅 초대 컴포넌트에 친구 목록을 전달하기 위해 그룹 채팅방 세부 내용에서 친구 목록을 조회해 그룹 채팅 초대 컴포넌트에 전달하고 출력할 수 있도록 구성
  - 프론트엔드
    - groupChatStore
      - inviteGroupChat 액션 이름만 추가
    - GroupChatDetails
      - useAuthStore에서 userInfo 상태를 불러오도록 구성
      - useFriendStore에서 friends 상태와 loadFriedns 액션을 불러오도록 구성
      - toggle useState 추가
        - 초기값은 false
      - toggle 함수 추가
        - 실행되면, toggle useState 내용을 반대로 전환하고 loadFriends 액션을 실행
      - userId 변수
        - userInfo 상태에서 \_id 정보만 빼내서 저장
      - filteredFriends 변수
        - friends 상태에 map을 사용해 요청한 사람 id가 userId와 같은지 확인하고, 일치할 경우 받은 사람 정보를 가져오고 아닐 경우에는 요청자 정보를 가져오도록 구성
        - 이 구성은 Friends 컴포넌트에서 구성된 내용과 동일
      - JSX 코드 내용
        - 친구 초대 버튼
          - onClick에 toggleHadler 함수를 추가
          - 버튼 클릭 시 토글이 작동해 열리고, 친구 목록을 불러옴
        - GroupChatInvite 컴포넌트 내용을 출력하는 조건문
          - toggle을 확인해 true면 filteredFriends 내용에 map을 사용해 GroupChatInvite 컴포넌트에 사용자 닉네임을 전달
    - GroupChatInvite
      - nickname prop을 전달받도록 구성
      - 전달받은 nickname prop을 출력
  - 친구 목록을 불러오고, 해당 내용을 분류해서 전달 및 출력되도록 구성하고 확인한 결과, 친구 초대 버튼을 클릭하면 친구 목록이 보여지고 다시 클릭하면 친구 목록이 보이지 않는 것을 확인할 수 있었다.
    - 현재 친구 목록이 따로 모달을 통해 보여지는 구조가 아니기 떄문에, 모달을 통해 보여질 수 있도록 수정이 필요
    - 그룹 채팅방에 초대하는 메시지를 다이렉트 채팅 메시지로 전달하도록 구성할 계획이었는데, 현재 다이렉트 채팅 메시지 내용이 구현되지 않아서 코드 구성 순서를 어떻게 해야 할 지 조금 고민이 필요함
    - 다이렉트 채팅 메시지없이 그룹 채팅방 초대 메시지를 보낼 수는 있긴 하지만, 이러면 또 추가로 코드 수정이 필요할 것 같아서 다이렉트 채팅 메시지를 먼저 구현할 지 아니면 그냥 그룹 채팅방 초대하는 기능을 이어서 구현할 지 선택이 필요
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/6afe0983c850a344cd23b0194cfc44fd08fc290a)

# 오늘 느낀 점

- 채팅 메시지 입력 후에 제출하면 입력창이 초기화되도록 구성해 주고, 그룹 채팅 초대 관련된 내용을 구성하기 위해 그룹 채팅 초대 컴포넌트를 추가하고 그룹 채팅 세부 컴포넌트에서 친구 목록을 불러와 전달해 출력되도록 구성을 해 주었는데, 아직은 친구 목록 출력만 하고 그룹 채팅방에 초대하는 기능은 추가하지 못해서 관련 내용을 추가해 주어야 한다. 원래 계획은 다이렉트 채팅 메시지를 통해서 그룹 채팅방 초대 메시지를 보낼 수 있도록 구성하려고 했는데, 현재 다이렉트 채팅 메시지가 구성되어 있지 않아서 그룹 채팅방 초대보다 다이렉트 채팅 메시지를 먼저 추가하는 것이 맞는지 좀 고민이 되는데, 이 부분은 간단하게 정리해서 확실하게 정하고 가야 할 것 같다. 친구 관련된 내용을 구성하면서 타입 정의나 코드 정리를 제대로 해 놓지 못 했는데, 그러다보니 자연스럽게 다른 내용 추가하는 것까지 이어져서 여전히 친구 관련된 내용에서 타입 정의가 빠져서 계속 물결 표시로 에러가 뜨고 있기 때문에, 먼저 이쪽 내용부터 정리해서 에러를 없애고 가는 것이 좋다고 생각이 된다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 그룹 채팅방 초대하는 기능

- 새로운 메시지 추가되었을 때 알림 뜨는 기능 (추가하긴 했으나, 미완성)

- 친구 관련된 내용을 좀 다듬어야 함 (코드를 깔끔하게 보이도록 수정 필요)

- 친구 관련된 내용에서 타입 정의 및 코드 정리 필요

- 소켓 관련 내용에서도 타입 정의 필요

- 그룹 채팅방에서 채팅 메시지가 추가되면 전역적으로 알 수 있도록 알림이 떠야 하고, 그 알림 관리를 소켓 Zustand에서 할 수 있도록 구성 필요

- 추가된 친구와 대화를 나눌 수 있는 다이렉트 채팅방

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
