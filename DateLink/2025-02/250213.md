# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 다이렉트 채팅에 로그인 유무를 확인하는 조건부 추가 및 로그아웃 관련 오류 수정
  - 다이렉트 채팅, 친구와 관련된 내용이 로그인을 하지 않아도 보이기 때문에 로그인 유무를 확인하는 조건부 내용을 추가하고, 그룹 채팅방을 접속한 후에 로그아웃하면 그룹 채팅방 내용이 그대로 보여지는 문제도 해결해 주기 위해서 로그아웃 시에 홈 화면으로 이동해 그룹 채팅방 내용이 보여지지 않도록 리다이렉트 관련 내용을 추가해 로그아웃 관련 오류를 해결
  - 프론트엔드
    - DirectChats
      - useAuthStore Zustand 내용을 추가하고, 로그인 상태를 불러오도록 구성
      - JSX 코드에서 로그인 상태와 관련된 내용을 조건부로 구성하고 로그인 상태일 때만 다이렉트 채팅방, 친구 목록이 보여지도록 구성
    - SideBar
      - useNavigate 훅을 추가하고, 사용할 수 있도록 구성
      - 로그아웃 함수를 추가
        - 비동기 함수로 구성하고, 로그아웃 액션이 실행되도록 구성
        - 로그아웃 액션이 실행된 후에 navigate가 작동되어 홈 화면으로 리다이렉트되도록 구성
  - 다이렉트 채팅방에 로그인 유무를 확인하는 조건부를 추가하고, 사이드바 컴포넌트에서 로그아웃 함수를 별도로 추가한 후에 로그아웃 액션이 실행되고 그 다음 홈 화면으로 리다이렉트되도록 구성한 후에 테스트한 결과, 비로그인 상태에서는 로그인과 회원가입 버튼만 보여지고, 로그인하면 모든 내용이 보여지게 되는 것을 확인했고, 그룹 채팅방에 접속한 후에 로그아웃하면 그룹 채팅방 내용은 보여지지 않고 홈 화면으로 이동해 로그인과 회원가입 버튼만 보여지는 것을 확인할 수 있었다.
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/36e0d2d8fe3acff4c474171d23dc868f8657c6c8)

<br />

- Float Chat 프로젝트 구성중 발생한 에러 내용 추가 (로그아웃 리다이렉트 관련 에러)
  - 로그아웃 리다이렉트 내용을 구성하고 발생한 무한 루크 문제, 코드 복잡성 및 네트워크 오류에 관한 내용을 정리
    - 발생한 에러에 대한 내용과 원인을 추가하고, 시도한 방법도 추가
    - 해결한 방법과 코드를 함께 추가

# 오늘 느낀 점

- 다이렉트 채팅방과 친구 관련된 내용이 페이지에 접속하면 바로 보여지게 되는 문제는 로그인 유무를 확인하도록 조건부를 추가해 간단히 해결해 주었고, 그룹 채팅방에 접속하고 로그아웃하면 해당 채팅방 내용이 모두 보여지는 문제는 여러 용을 테스트해 봐도 제대로 해결이 되지 않아서 좀 애먹었는데, 너무 복잡하게 생각하지 않고 코드를 조금 단순하게 구성해 테스트한 결과, 오류를 해결할 수 있었다. 여기에 추가로 친구 내용과 관련해서 socket.io 로직을 추가하고 양방향으로 실시간 반영이 되도록 구성하려고 했는데, 친구 관련 토글 함수 내용이 재사용되도록 구성하고 여러 버튼이 토글 함수 하나로 사용되도록 구성하면 실시간 반영 문제도 해결될 수 있을 것 같아서, 우선 토글 함수가 재사용되어 하나의 내용이 보여지면 다른 내용은 보여지지 않고, 반대로 다른 내용을 활성화하면 이전에 보여지던 내용이 닫히는 그런 방식으로 내용을 구성해 볼 생각이다. 만약 이 내용으로도 실시간 반영이 되지 않는다면 그 때 socket.io 내용을 추가해 실시간 반영 로직을 구현할 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 친구 관련된 내용을 좀 다듬어야 함 (코드를 깔끔하게 보이도록 수정 필요)

- 친구 목록 출력 및 추가된 친구와 대화를 나눌 수 있는 다이렉트 채팅방

- 그룹 채팅방 초대하는 기능

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
