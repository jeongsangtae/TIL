# 오늘 한 일

### React 공부

- React 공부

  - Fowward Refs 사용하기 전 여러 수정 과정
    - 원하는 위치에 focus를 맞추게 하는 방법
      - useImperativeHandle Hook + Forward Ref를 사용하기 전에 다양한 방법을 시도해보는 과정
      - Login.js에서 Button 컴포넌트의 `disabled={!formIsValid}`를 삭제 그리고 제줄하는 이벤트 핸들러에서 if-else if-else를 통해 처리
      - Input.js에서 useRef, useEffect 추가
      - useEffect에서 의존성 배열은 빈 배열로 추가하는데 컴포넌트가 렌더링될때 한 번만 작동하도록 하기 위해서 그렇게 진행한다.
      - useEffect 함수에 inputRef.current.focus() 추가
        - 여기서 focus 메소드는 input DOM 객체에서 사용할 수 있다.
        - focus는 React에서 나온 메소드는 아니지만 DOM 객체에 내장된 JS 메소드
        - inputRef.current 이 코드 참조를 통해 접근할 수 있는 것
      - input에 ref={inputRef}를 추가해 연결하고, useEffect를 사용해 input에 focus를 맞춰준다.
      - 결과적으로 input이 이메일과 비밀번호 모두에서 렌더링되기 때문에 비밀번호 input에 focus를 맞추게 된다.
        - 이유는 두 번재 input 즉, 렌더링되는 최신 input이기 때문이다.
      - 그래서 목표와 다르게 비밀번호에서 포커스를 맞추기 때문에 useEffect는 삭제
      - 따로 activate라는 함수를 만들어서 `inputRef.current.focus()`로 input을 포커스하는데 여기서 핵심은 activate 함수를 input 내부가 아니라 외부에서 호출하려는 것이다.
        - 정말 흔치 않은 경우, 보통 React 프로젝트를 이런 식으로 코딩하진 않기 때문이다.
        - 보통 prop과 state로 작업하고 데이터는 컴포넌트에 넣어주고 거기에서 뭔가 바꾼다.
        - 드물게 이 예시처럼 이 input에 포커스하는 것도 우아한 방법일 수 있다.
      - Input 컴포넌트에서 focus나 activate를 호출할 수 있다면, 기본적으로 Input 컴포넌트를 내장형처럼 사용할 수 있게 된다. 왜냐하면 focus 메소드도 있기 때문이다.
      - Login.js에서 useRef를 추가해주고, 이메일과 비밀번호에 각각 useRef를 생성 그리고 Input 컴포넌트에도 각각 연결을 해준다.
      - 앞에서 만들어놓은 if-else if-else 문에서 내용을 추가해준다.
        - else if `emailInputRef.current.activate();`
        - else `passwordInputRef.current.activate();`
      - 하지만 작동해보면 에러가 뜨는데 그 에러는 '함수 컴포넌트는 ref를 받을 수 없다'는 메시지가 뜬다.
      - 결국 이렇게 하는 방법도 접근 방식이 잘못된 것
      - 하지만 제대로 작동시키는 방법이 있는데 두 가지만 하면 된다.
        - 하나는 Input 컴포넌트에서 다른 Hook을 import하는 것
          - `useImperativeHandle Hook`
        - 또 다른 하나는 forwardRef라는 함수로 컴포넌트를 감싸주는 것

  <br />

  - useImperativeHandle Hook + Forward Ref
    - 명령형으로 상호 작용할 수 있게 해준다.
    - 어떤 state를 전달해서 그 컴포넌트에서 무언가를 변경하는 방식이 아닌, 컴포넌트 내부에서 함수를 호출하는 방식
    - 자주할 필요도 없고, 자주해서는 안된다. 일반적인 React 패턴이 아니기 때문이다. 하지만 도움이 될 때도 있기 때문에 알아두는게 좋다.
    - 이름은 이상하지만 이 Hook을 사용하면 컴포넌트나 컴포넌트 내부에서 오는 기능들을 명령적으로 사용할 수 있게 해준다.
    - 일반적인 state prop 관리를 통하지 않고, 부모 컴포넌트의 state를 통해 컴포넌트를 제어하지 않고 프로그래밍적으로 컴포넌트에서 무언가를 직접 호출하거나 조작해서 사용하게 해주는 것
    - 다시 강조하지만, 이건 거의 사용하지 않을 것이다. 따라서 내 프로젝트에서도 자주 사용하면 안된다.
    - 자주 사용하지는 않지만, 그래도 위 Input 컴포넌트 상황에서는 꽤 좋은 해결법이다.
    - useImperativeHandle 사용법
      - useImperativeHandle를 호출하고 두 가지를 넣어준다.
        - 첫 번째 매개변수는 ref
          - 컴포넌트 함수 인수 리스트에서 얻을 수 있는데 지금까지 항상 prop을 사용했는데 사실 99.9%의 경우에는 그것만 있으면 된다.
          - 그러나 엄밀히 말하면 컴포넌트 함수에서 두 번째 매개변수를 받아들일 수 있다.
          - ref라는 매개변수를 사용가능하다.
          - 부모 컴포넌트 즉, Login 컴포넌트가 ref prop을 추가하고 무언가를 바인딩하면 Input 컴포넌트의 매개변수 ref처럼 이것이 연결을 설정한다.
            - 이것이 이 바인딩을 허락하는 부분
          - Input 컴포넌트의 두 번째 인수를 활성화하려면 컴포넌트 함수를 특별한 방법으로 내보낼 필요가 있는데 그것을 특별한 것으로 감싸주어야 한다.
          - 그건 React에서 가져오는데 forwardRef라는 함수를 사용한다.
            - 그냥 메소드로 컴포넌트 함수를 forwardRef에 넣어준다.
            - 즉, 컴포넌트 함수는 forwardRef의 첫 번째 인수가 된다.
            - forwardRef는 React 컴포넌트를 반환한다.
            - 따라서 Input은 여전히 React 컴포넌트이다. 하지만 ref에 바인딩 될 수 있는 React 컴포넌트
        - 두 번째 매개변수는 함수
          - 객체를 반환해야 하는 함수
          - 그 객체는 외부에서 사용할 수 있는 모든 데이터를 포함한다.
          - 여기에 activate 필드나, focus 필드 마음대로 추가할 수 있다. 내 마음대로 가능
          - 내부 함수 또는 내부 변수 또는 무엇이든 그 이름을 통해 외부에서 접근할 수 있어야 하는 것을 가리킨다.
          - 해당 객체는 기본적으로 통역해주는 객체로 내부 기능과 외부 세계 즉, 부모 컴포넌트 사이를 통역한다.
    - ref prop을 사용할 수 있게 되었는데, ref을 노출하고 ref와 함게 제어하거나 사용할 수 있다.
    - 하지만 useImperativeHandle을 통해 노출하는 것만 사용할 수 있다.
      - 현재는 focus 함수를 노출하고 있다.
    - 이제 Login 컴포넌트에서 `emailInputRef.current.focus();`와 같이 호출할 수 있다. `focus` 현재 이것이 내가 설정한 외부 이름이기 때문에 사용 가능
      - 여기서 focus는 useImperativeHandle에서 반환되는 객체에 지정해준 필드 이름 그리고 그 필드 안에는 activate 함수가 들어있다.
    - 저장하고 사용해보면 비어있는 곳이 이제 포커스되게 된다.
    - 특별한 사용 사례로 특히 input focus 등과 같은 경우에는 아주 유용할 수 있다.
      - 현재 해본 input focus 같은 경우가 매우 현실적인 사용 사례라고 할 수 있다.
    - useImperativeHandle Hook + Forward Ref를 사용하면 React 컴포넌트에서 온 기능을 노출해 부모 컴포넌트에 연결한 다음, 부모 컴포넌트 안에서 참조를 통해 그 컴포넌트를 사용하고 기능을 트리거할 수 있다.
    - 특히 이와 같이 포커스나 스크롤링 같은 다른 사용 사례에서는 매우 유용할 수 있다. 이렇게 프로그래밍적으로 이것들을 트리거하는 것도 괜찮다.

  <br />

  - React 강의 앞에서 추가된 내용 살펴보고 어떻게 할지 방향 결정
    - React 강의를 진행하던 중에 갑자기 내용이 업데이트되면서 앞에 들었던 내용들이 사라진 부분도 있고 업데이트 되어 변경된 내용도 있어서 이 부분을 추가로 진행을 해야함
    - 내용은 차분히 봐봐야 될 것 같지만 일단 아는 내용은 빠르게 넘기면서 진행을 해야할 것 같다. 그리고 연습 프로젝트도 중간에 하나 더 생겨서 이 부분을 복습 겸 만들어볼 생각이다.
    - 좀 진행하다가 생각해본건데 내용이 업데이트되면서 강의 초반부 부분 즉, 기본기 부분이 거의 사라지고 새로 업데이트 되어있기에 복습 겸 다시 한번 살펴볼 생각이다. 이전에 학습할 때처럼 천천히 진행하진 않고 아는 내용은 복습을 하면서 빠르게 듣고 넘기면서 진행할 생각
    - 추가로 연습 프로젝트도 중간에 간단한 내용 한 개, 조금 내용이 들어간 프로젝트 한 개 이렇게 두 개가 추가된 거 같아서 복습도 할 겸사겸사 다 진행하고 갈 생각
    - Coding Exercise 부분을 내가 모르고 지나친 것도 있어서 이 부분도 복습할 겸 다 진행하고 갈 생각
    - 이렇게 앞의 React 기본기 부분이 업데이트되어서 다시 듣고 복습을 진행해야하는데 시간이 아깝다는 생각보다는 복습할 기회가 생겨서 좋다고 생각도 되고, React는 난이도가 좀 있기 때문에 기본기를 탄탄하게 다지고 가는게 여러모로 도움이 된다고 생각

- 주간 계획표 작성

<br />

# 오늘 느낀 점

- 주간계획표를 다시 수정했는데 내용을 바꾼 것보다는 가독성이 좋도록 변경을 했다. 기존의 세로로 반을 갈라서 실천/계획 이렇게 사용하던 부분을 그냥 가로로 갈라서 정리하기 쉽도록 수정을 해주었다. 그리고 처음 큰 단은 '1.' 그 다음은 '1)' 또 그 다음은 '•' 그 다음은 "-"를 사용해 정리해주었다. 이렇게 변경하니 훨씬 가독성도 좋아지고 보기 편해졌다고 생각이 된다. 그리고 내용은 당장 수정은 하지 않았는데 여기서 혹시 세부 내용을 더 요구한다면 그 때 수정을 할 생각이다.

- React의 useImperativeHandle Hook + Forward Ref를 사용하기 전에 useRef와 useEffect를 사용해서 비어있는 input이 제출된 상태에서 비어있는 input으로 focus가 맞춰지도록 두 가지 방법을 사용했는데 첫 번째 방법은 input이 이메일과 비밀번호 모두에서 렌더링되기 때문에 최신 input인 비밀번호 input에 focus가 맞춰지도록 구성이 되어있어 결국 원하는 input에서 focus가 맞춰지지않아서 실패했다. 그 다음은 따로 함수를 만들어서 focus하는 방법인데 이 방법은 코드 구성은 괜찮았지만, React에 의해 에러가 발생하는데 "함수 컴포넌트는 ref를 받을 수 없다"라는 에러 때문에 결국 이 방법도 잘못된 접근 방식으로 실패했다. 이 두 가지 방법중에 그래도 두 번째 시도한 방법이 옳바른 방법인데 이렇게 구성을 해놓은 상태에서 useImperativeHandle Hook + Forward Ref를 사용해서 작업하는건데 useImperativeHandle Hook을 import해주고 ref를 컴포넌트 함수에서 또 다른 매개변수로 추가해주고, 그걸 사용 그리고 반환되는 객체를 만들어서 사용할 수 있게 해주고, React.forwardRef를 사용해 컴포넌트 함수를 감싸주고, 재사용되는 Input 컴포넌트에 ref를 추가해 useRef도 사용하게 해주며, Login 컴포넌트에서 useImperativeHandle Hook으로 만든 반환되는 객체를 사용해 Input 컴포넌트로 ref를 추가하고 사용해 비어있는 input으로 제출 시 비어있는 input으로 focus가 되도록 해주었다.

- useImperativeHandle Hook + Forward Ref는 React 컴포넌트에서 온 기능을 노출해 부모 컴포넌트에 연결한 다음, 부모 컴포넌트 안에서 참조를 통해 그 컴포넌트를 사용하고 기능을 트리거할 수 있는데 이 방법이 포커스나 스크롤링 같은 사례에서는 매우 유용하게 사용될 수 있다. 그러나 이 방법은 자주 사용할 필요도 없고, 자주 사용해서는 안된다. 일반적인 React 패턴이 아닌 특정 상황에서 사용하는 패턴이기 때문이다. React는 기본적으로 선언형 프로그래밍에 초점을 두고 있는데 여기서 명령형 프로그래밍은 필요할 때만 효율적으로 작업할 수 있도록 해주어야 한다. React의 주요 개념과 원칙을 깨서는 안되기 때문이다. 그래서 useImperativeHandle Hook + Forward Ref를 사용하는 방법은 명령형으로 상호 작용할 수 있게 해주는 기능이기 때문에 특정 사례에서만 사용해야하며, 무분별한 사용은 절대 해서는 안된다. 그래도 자주 사용하지는 않지만, 특정 상황에서는 꽤 좋은 해결법이므로 익히고 제대로 알고 있다면 도움이 된다고 생각이 된다.

- React 강의를 진행하다가 갑자기 진행 %가 떨어져 있는 것을 확인하고 내가 앞에 안한 부분이 있나 확인을 했는데 기존에 학습했던 강의들이 사라지고 새로운 강의로 업데이트가 되어있었다. 아마 큰 틀의 내용은 바뀌지않고 설명이나 이런 세부적인게 조금씩 변경이 되지않았나 생각이 드는데 몇몇의 강의 빼고는 강의 초반부의 기본을 다루는 부분인 초급 부분이 거의 다 새롭게 업데이트 되어있었는데 좀 당황스럽긴 했지만 오히려 좋은 기회라고 생각이 되었다. 이 참에 복습도 하고, 연습 프로젝트도 두 개정도 추가되어있는 것을 확인했는데 연습 프로젝트도 진행하면서 기초를 튼튼하게 다지고 복습하고 넘어간다고 생각을 하면 될 것 같다. 앞에서 이미 내용을 진행하고 넘어왔더라도 또 바뀐 내용이 있을 수 있고, React는 난이도가 좀 있기 때문에 기초를 더 확실하게 다지고 간다고 생각하면 좋다고 생각이 된다. 기초도 다지고, 연습 프로젝트도 추가로 진행해보고, 놓친 Coding Exercise도 진행하고 넘어가면 더더욱 React 기본기를 튼튼하게 다질 수 있다고 생각이 되기 때문에 좋은 기회라고 생각하고 진행할 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

- React Hook나 React 내용 따로 정리

<br />

# 앞으로 해야 할 일

- Advanced-js(고급 JS)에 대해 공부하며 이해하기 (JS 공부)

- React, NextJS 공부

- React 프로젝트 제작 (영화 추천 사이트)

- 거래 명세서 프로젝트 제작 (React, Python, MySQL)

- Python으로 웹 스크래퍼 만들어보기 (조금 뒤로 밀림)

- Python, PHP 공부할 거 찾아보기 (조금 뒤로 밀림)

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기 (조금 뒤로 밀림)

- Python 데이터 분석도 한번 봐보기 (조금 뒤로 밀림)
