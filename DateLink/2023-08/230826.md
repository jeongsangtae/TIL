# 오늘 한 일

### React 공부

- React 공부

  - 연습 프로젝트
    - UserList 데이터 출력 오류 원인
      - `event.preventDefault();`
        - 데이터 저장과 전달에 문제가 없었으나, `event.preventDefault();`를 AddUser의 form 제출에서 추가하지 않아 브라우저의 기본 동작에 따라 form이 제출된 후 페이지가 새로고침 되면서 애플리케이션의 상태가 초기화되어 데이터가 전달되지 않는 것처럼 보였다.
      - 문제점 및 실수
        - 데이터 출력하는 순서에 대해 알고 있었으나, 2% 부족하게 알고 조금씩 빼먹은 실수로 제대로 작동하지 않았던 것
        - 배열의 데이터를 출력할 때 자꾸 객체 데이터 출력하는 것처럼 시도해서 문제 발생
          - 객체에서 바로 데이터 출력과 배열에서 데이터 출력의 코드는 다르다 꼭 인지
    - UserList 데이터 출력
      - 결과적으로 데이터 출력 완료
        - `event.preventDefault();`를 AddUser onSubmit 핸들러에서 추가해 브라우저의 기본 동작을 막고 새로고침이 되지않게 만들어서 해결
        - 이제 map을 사용해 새로운 배열로 만들어서 입력한 사용자 정보를 모두 출력하게 변경해야 함
    - UserList CSS 모듈 추가
    - AddUser 수정
      - 나이를 문자열로 저장하고 있어 숫자형으로 저장하기 위해 `+` 추가
        - `age: +age`
      - useState 초기 값이 없는 상태로 저장 -> 빈 문자열 기본 값으로 변경
        - 초기 값이 없는 상태인 `()`로 호출하면 처음 렌더링될 때 `undefined`로 설정 되기 때문에 빈 문자열이 기본 값으로 되도독 `("")`로 변경
      - input type 명확히 설정
        - 사용자이름, 나이의 input에서 type에 text, number를 추가해 명확하게 설정해주고, 나이에서 숫자형만 제출되도록 해주었음
    - Button 래퍼 형식으로 구성
      - 기존에 Button 컴포넌트의 button에서 내용을 입력해 해당 내용을 보여지도록 구성했으나, props.children으로 변경해 래퍼 형식으로 사용할 수 있게 변경하고 해당 내용은 Button 컴포넌트를 사용하는 곳에서 맞춰서 재사용할 수 있게 변경
    - Button 컴포넌트의 button type 설정
      - AddUser에서 type prop으로 submit 이라는 정적 데이터를 전달해 Button 컴포넌트의 button에서 type은 props.type으로 AddUser의 type 설정 데이터를 사용
    - form의 onSubmit과 button의 submit
      - form을 제출하고자 할 때 최소한 하나 이상의 button에서 type이 submit으로 설정해주어야 한다.
      - button type이 설정되어 있지 않으면 form 제출 동작이 브라우저에서 기본 동작에 따라 동작하게 되며, form 제출 버튼을 눌러도 onSubmit 핸들러가 호출되지 않게 된다.
      - form 내부에 `type="submit"`으로 설정된 버튼이 없다면, form은 제출 동작을 수행하지 않고 브라우저의 기본 동작에 따라 동작한다. 이 경우 onSubmit 핸들러가 호출되지 않을 수 있다.
      - form을 제출하고자 할 때에는 반드시 form 내부의 버튼 중 하나를 `type="submit"`으로 설정하는 것이 중요
    - 추가 오류 문제점 확인 및 해결 방법
      - 배열 데이터 출력 오류 (새로고침시 undefined 에러 발생)
        - 배열의 첫 번째 요소가 존재하지 않는 경우, 데이터가 없는 상황에서 컴포넌트가 렌더링되면 undefined가 되어 접근할 수 없는 속성에 접근하려고 시도해 "Cannot read property 'userName' of undefined"와 같은 에러가 발생할 수 있다.
          - 해당 에러가 새로고침할 때 발생하는 이유중 하나는 속성에 접근하려 할 때 해당 데이터가 없는 상황에서 undefined가 되어 발생할 수 있다.
          - 새로고침하면 컴포넌트 트리가 다시 초기화되어 초기 상태로 돌아가서 배열이 비어있는 상태가 되어 undefined 되어버린다.
        - 해결 방법
          - 배열의 길이가 0인 경우에는 해당 컴포넌트를 렌더링하지 않거나, 데이터가 없을 때 어떻게 처리할지에 대한 로직을 추가하는 것이 좋다.
          ```
          if (props.userData.length === 0) {
            return null;
          }
          ```
          - 이런식으로 비어있는 경우 렌더링하지 않고 데이터가 있는 경우에만 해당 데이터를 화면에 출력해 오류를 막아준다.
        - 또 다른 해결 방법
          - 배열의 경우 map 함수를 사용해 데이터를 동적으로 출력하면 배열의 각 요소를 순회하며 원하는 내용을 렌더링할 수 있다. 이렇게 하면 데이터가 있을 때만 렌더링이 이루어지기 때문에 데이터가 없는 경우에는 문제가 발생하지 않는다.
          - 데이터가 있다면 각 사용자의 정보를 순회하며 출력할 수 있다. 데이터가 없는 경우 아무 내용도 표시되지 않게 된다.
          - map 함수를 사용하면 if (props.userData.length === 0) 와 같은 조건문을 사용하지 않아도 된다.
          - 만약 map 함수를 사용했는데 데이터가 호출되기 전에 먼저 실행되어 에러가 발생한다면 에러 핸들링을 해줘야 하는데 map 함수를 사용하기 전에 앞의 받아온 데이터에서 `?`를 추가해 해결할 수 있다.

<br />

# 오늘 느낀 점

- 데이터가 잘 전달되는 것을 확인했는데 아무리 수정을 해봐도 저장이 되지않는 거 같다고 생각이 되었는데 계속 form이 제출될 때마다 새로고침이 되어 저장이 안되는 것처럼 보였던 문제였다. 데이터 전달, 저장을 확인하기 위해 console.log를 사용했는데 event.preventDefault() 코드가 없어서 계속 form을 제출하면 새로고침되며 초기화가 되어 빈 배열이 출력이 되었던 것이었다. 그래서 form을 제출하는 코드에서 event.preventDefault()를 추가해주고, 데이터가 정상적으로 저장이 되는지 확인해보니 제대로 저장이 되는 것을 확인할 수 있었다. 그 다음 저장한 데이터를 다시 전달해 출력해보니 이번에는 배열 데이터를 출력할 때 내 실수로 인해 제대로 출력이 안되었는데 객체 데이터 출력과 헷갈려서 코드를 잘못 작성해 발생한 오류였다. 이렇게 자잘한 여러 실수로 인해 데이터 출력이 되지않고 있었는데 앞으로 코드를 좀 더 신경써서 봐야할 것 같다. 정말 문제를 찾고 해결하고 나면 큰 문제가 아닌데 막상 해결할 때는 찾지 못해서 어려움을 겪는 거 같다. 이런 부분들은 더 많이 경험해보고, 좀 더 코드를 작성할 때 생각을 하고 작성하고, 이 후에도 작성한 코드를 살펴보는게 중요하다고 생각이 된다. 코드를 작성할 때 2% 부족하게 자잘한 부분을 빼먹는데 앞으로 더 신경을 써야하고 문제가 발생했을 때 처음부터 코드를 차근차근 살펴보며 문제 해결을 해나아가는 연습도 필요하다고 생각이 된다.

- 데이터 출력외에 CSS 모듈 추가, 나이를 숫자형으로 저장, 빈 문자열을 초기 값으로 설정, input type도 명확하게 설정 그리고 button와 form의 onSubmit, submit 과 같이 사소한 거 같지만 그래도 중요한 내용들을 수정을 한 거 같은데 이런 부분은 처음부터 코드를 작성할 때 신경써서 작성을 하는게 좋다고 생각이 된다. 그래도 조그마한 오류들도 계속 경험하면서 문제점을 파악하고 해결능력을 기를 수 있게 도움이 되고 있는 것 같다. 특히 배열 데이터 출력 오류 문제는 테스트를 할 때 자주 발생할 수 있는 문제인데 기존 배열 데이터가 없는 상태에서 새로고침을 하게 되면 컴포넌트 트리가 다시 초기화되어 초기 상태로 돌아가서 배열이 비어있는 상태가 되며 undefined 되어 에러가 발생할 수 있기 때문에 이럴 때는 조건문을 추가해서 처리를 해주거나, map 함수를 사용해 데이터를 동적으로 출력하면 원하는 내용을 렌더링할 수 있기 때문에 문제를 해결할 수 있다. 코드를 작성할 때 사소한 에러 발생에도 신경을 써서 코드를 작성하는 습관을 길러야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

- React Hook나 React 내용 따로 정리

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작 (영화 추천 사이트)

- 거래 명세서 프로젝트 제작 (React, Python, MySQL)

- Python으로 웹 스크래퍼 만들어보기 (조금 뒤로 밀림)

- Python, PHP 공부할 거 찾아보기 (조금 뒤로 밀림)

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기 (조금 뒤로 밀림)

- Python 데이터 분석도 한번 봐보기 (조금 뒤로 밀림)
