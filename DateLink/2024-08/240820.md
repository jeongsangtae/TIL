# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 프론트엔드의 예외 처리에서 발생한 에러를 처리하고 재사용할 수 있는 헬퍼 함수를 추가하고 사용 (커스텀 훅으로 구성해서 사용)
    - 프론트엔드의 fetch 함수 내에서 예외 처리 내용을 추가하는데, 이 내용에서 발생한 에러가 항상 같은 내용으로 구성되고 텍스트만 다르게 처리되기 때문에, 재사용할 수 있는 헬퍼 함수를 커스텀 훅을 통해서 구성하고 사용할 수 있도록 해주었다.
    - 프론트엔드 구성
      - 커스텀 훅 폴더에 useErrorHandling 이라는 커스텀 훅 파일 추가
      - useErrorHandling 파일에 errorHandler 함수를 추가
        - errorHandler 함수에서 error, errorMessage 매개변수를 받도록 구성
        - console.error와 alert 내용이 처리되도록 구성
        - return을 통해서 errorHandler 함수가 사용될 수 있도록 구성
      - 테스트를 위해서 AdminChats 컴포넌트에서 useErrorHandling 커스텀 훅을 import
        - errorHandler 함수를 useErrorHandling 커스텀 훅에서 가져와서 사용
      - 메시지를 불러오는 fetch 함수 내에서 예외 처리를 추가
        - try 블록에 기존의 코드를 넣고, catch 블록에 errorHandler 내용이 사용되도록 구성
        - errorHandler 내용에는 error와 오류 메시지가 전달될 수 있도록 구성
    - 테스트 결과, 예외 처리에서 발생한 에러를 처리하는 커스텀 훅이 문제없이 작동되는 것을 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/37f0b44b71adbc65171c22e3199d24fc7e555046)

  <br />

  - 커스텀 훅 예외 처리 코드 테스트
    - 예외 처리에서 발생한 에러를 처리하는 커스텀 훅이 여러 fetch 함수에서 문제없이 작동하는 지 확인하기 위해서, 관리자 채팅, 관리자 댓글, 댓글과 관련된 컴포넌트 내에서 해당 커스텀 훅을 추가해서 테스트해주었다.
    - 프론트엔드 구성
      - AdminChats, AdminComment, Comments, Comment, CreateComment에서 예외 처리 추가
      - 예외 처리를 추가한 fetch 함수에 에러 처리 관련 커스텀 훅을 추가하고 사용
        - 에러 메시지만 바꿔서 사용될 수 있도록 구성
      - useErrorHandling 커스텀 훅에 어떤 역할을 하는 코드인 지 알 수 있도록 주석을 추가
    - 커스텀 훅을 추가해서 테스트한 결과, 작동은 잘 되는 거 같은데 몇 가지 문제점과 수정할 부분을 발견해서 추가 확인이 필요함
      - 커스텀 훅을 fetch 함수가 있는 모든 컴포넌트에 추가하는 것은 조금 효율성이 떨어진다고 생각되어서, Context API로 코드를 옮겨서 사용될 수 있도록 수정할 생각이다.
      - Context API는 전역적으로 모든 컴포넌트에서 사용되고 있기 때문에 옮겨서 사용하면 더 효율적으로 예상됨
      - 조회나 삭제는 문제가 없어보이는데 추가하는 부분에서, 에러가 발생하지만 데이터가 DB에 저장되는 것을 확인할 수 있었는데 이와 관련된 문제점을 수정해서 에러가 발생하면 데이터가 저장되지 않도록 해줘야 한다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/ae1180ced57642d17b60dcaad8a2deb79487c37a)

<br />

- 추가 및 해결 해야 할 내용
  - 컴포넌트를 분리해줄만한 곳이 있는지 확인해봐야 함
    - 컴포넌트 분리만이 아닌, 조건부나 이런 내용에서 중복된 부분을 줄이고 코드 가독성을 향상 시켜줘야 함
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - 전체적으로 코드에 주석을 추가해서 어떤 코드가 어떤 기능을 하는지 알 수 있도록 해줘야 함
  - 페이지로 구성되어있는데, action 함수가 사용되지 않는 부분을 확인해야 함
  - 마지막 기능 추가로, 관리자 권한을 부여하는 내용을 생각하고 있음
    - 가입할 때는 일반 사용자로 가입을 할 수 있고, admin 관리자 계정으로 관리자 페이지에서 관리자 권한을 부여하는 내용을 생각 중
  - 존재하지 않는 게시글 세부 페이지에 대해 처리해줘야 함
    - 원래 로딩 인디케이터가 보였으나, 예외 처리를 해주면서 현재 게시글 내용이 없는 빈 게시글 세부 페이지가 보여짐
  - 화면이 작아졌을 때 UI가 필요함
    - 반응형 CSS를 추가해야 함
  - 프론트엔드에서 예외 처리 내용을 추가하고, 예외 처리에서 발생한 에러를 처리하는 내용이 재사용될 수 있도록 해줘야 함
    - 현재 커스텀 훅으로 구성되어 사용하고 있으나, 이 내용을 Context API로 옮겨서 사용될 수 있도록 해줘야 함

# 오늘 느낀 점

- 프론트엔드의 fetch 함수에서 예외 처리를 추가해주면서 미리 예외 처리에서 발생한 에러를 처리하는 재사용 함수를 구성해주었는데, 작동은 잘 되고 있지만 문제점과 수정할 부분을 발견해서 그에 대해 처리를 해줘야 한다. 현재 예외 처리에서 발생한 에러를 처리하는 재사용 함수는 커스텀 훅을 통해서 처리하고 있지만, fecth 함수를 사용하는 모든 컴포넌트에서 커스텀 훅을 추가하고 사용하는 것은 효율적이지 못하다고 생각되어, 커스텀 훅에서 사용되고 있는 재사용 함수를 이미 전역적으로 사용되고 있는 Context API에 옮겨서 사용될 수 있도록 해줄 생각이다. 그리고 조회나 삭제에서는 문제가 없지만, 추가하는 내용은 에러가 발생되지만 데이터가 그대로 DB에 추가되는 문제가 있어서 다시 확인해보고 수정을 해줘야 한다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
