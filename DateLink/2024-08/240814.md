# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 주석 수정 및 AdminPostDetails 컴포넌트 수정 및 README.md 내용 수정
    - 추가한 주석 내용을 일부 수정해주고 AdminPostDetails 컴포넌트에서 불필요하게 사용되는 내용을 주석 처리하고 내용을 수정, README.md 파일의 프론트엔드와 백엔드 부분에 새롭게 추가한 기능에 관련된 내용을 작성해주고 기존의 내용을 조금 수정해주었다.
    - 프론트엔드 구성
      - AdminuserItem
        - 오타 수정
      - AdminUserList
        - 오타 수정
        - 채팅 창 토글이 아닌, 채팅 토글로 변경
      - AdminComments
        - 게시물에서 게시글로 변경
      - AdminPostDetails
        - 사용자 페이지에서 게시글 작성자와 현재 사용자가 동일할 경우에만 활성화되는 버튼 스타일 내용을 그대로 가져와서 사용하고 있으나, 관리자 페이지에서는 이러한 제한 없이 관리자 로그인이면 항상 사용할 수 있기 때문에, 해당 내용을 주석 처리하고 opacity class가 없는 내용을 그대로 사용하도록 구성 변경
        - 관리자 페이지는 애초에 관리자 로그인으로 인증을 하고 접속하기 때문에 추가로 확인할 필요가 없으므로 굳이 조건부로 스타일 설정을 하지 않아도 문제없다고 생각되어서 수정
      - main
        - 로더, 액션 부분을 loader, action으로 수정
        - 게시글 생성을 게시글 추가로 수정하고, 편집을 수정으로 변경
      - auth-context
        - useEffect 전체 흐름을 설명하는 주석에 useEffect 내용을 추가해서 좀 더 확실하게 알 수 있도록 수정
    - README 파일
      - FE
        - 회원가입, 로그인 페이지를 컴포넌트로 수정
        - 게시글, 댓글 작성을 추가로 수정
        - 답글 관리 컴포넌트, 답글 추가 및 수정 컴포넌트 추가
        - 인증 관련 컴포넌트 추가
          - 접근 불가 및 존재하지 않는 페이지에 관련된 컴포넌트
        - Context API, 드롭다운 메뉴, 검색 컴포넌트 추가
        - useCustom Hook 컴포넌트 추가
          - 스크롤, textarea 자동 크기 조절에 관련된 컴포넌트
        - 관리자 페이지의 메인 헤더, 메인, 게시글 목록, 게시글 내용, 댓글, 답글, 사용자, 인증, 채팅 관련 컴포넌트 및 페이지 추가
          - 사용자 페이지는 사용자를 삭제하고 정보를 확인하는 페이지
          - 인증 페이지는 접근 불가와 관련된 페이지
          - 채팅 관련 컴포넌트는 사용자 리스트가 존재하고, 검색이 가능하도록 구현
      - BE
        - /admin 관리자 페이지 추가
        - /admin/posts 관리자 페이지의 게시글 목록 페이지 추가
        - /admin/posts/:id 관리자 페이지의 게시글 내용 페이지 추가
        - /admin/users 관리자 페이지의 사용자 페이지 추가
    - 굳이 필요하지 않는 조건부 className 설정을 주석 처리하고 해당 className의 true 내용을 그대로 적용되도록 변경해주었는데 문제없이 적용되는 것을 확인할 수 있었고, README 파일에서 이제까지 추가한 기능과 관련된 내용을 작성해주면서 어떤 기능들을 구성했는지 알 수 있게 해주었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/d6153c1f089c30aef4bf82abe4e852f049be5ce3)

  <br />

  - 백엔드에서 구성된 사용자 페이지 라우터와 관련된 코드에 설명을 위한 주석 내용 추가
    - 백엔드에서 구성된 사용자 페이지 라우터와 관련된 코드에서 설명이 필요하다고 생각되는 부분에 주석을 추가해서 코드에 대한 설명을 추가해주었다.
    - 백엔드 구성
      - board-routes
        - 루트 URL 접근 시 메인 페이지로 리다이렉트하는 내용에 주석 추가
        - 게시글 목록 조회 및 검색, 페이지네이션 기능에 주석 추가
          - 페이지 번호, 기본값에 주석 추가
          - 검색할 필드 목록, 하나의 페이지에 보여줄 게시글 수, 페이지 버튼 그룹 크기에 주석 추가
          - 특정 필드에서 검색어 필터링, 필드를 지정하지 않는 경우 모든 필드에서 검색하는 내용에 주석 추가
          - 게시글 목록을 필터, 페이지네이션 및 정렬 기준에 따라 조회하는 내용에 주석 추가
            - 최신 게시글 정렬, 페이지네이션 처리에 주석 추가
          - 총 게시글 수, 전체 게시글 수를 계산해서 페이지 수를 계산하는 내용에 주석 추가
          - 페이지네이션의 시작과 끝 페이지 번호를 계산하는 페이지 그룹 계산에 주석 추가
          - 액세스 토큰 검증, DB에서 사용자 정보 조회, 게시글 데이터와 페이지네이션 정보 반환하는 내용에 주석 추가
        - 게시글 작성 내용에 주석 추가
          - 사용자 인증 정보 확인, 가장 최근 게시글 postId를 가져와서 새로운 postId 추가하는 내용에 주석 추가
          - 새 게시글 데이터 추가하는 내용에 주석 추가
        - 특정 게시글 조회, 게시글 조회 수 증가하는 내용에 주석 추가
        - 게시글 수정에 주석 추가
          - DB에서 해당 게시글 조회, 게시글 작성자인지 확인하고 수정하는 내용에 주석 추가
        - 게시글 삭제하는 내용에 주석 추가
          - DB에서 해당 게시글 조회, 관련 답글 삭제, 관련 댓글 삭제, 게시글 삭제에 주석 추가
          - 게시글 삭제 후 postID 재정렬되는 내용에 주석 추가
        - 특정 게시글의 댓글 목록을 조회하는 내용에 주석 추가
          - DB에서 해당 게시글 조회, 해당 게시글의 댓글 목록 조회에 주석 추가
        - 댓글 작성에 주석 추가
          - DB에서 해당 게시글 조회, 새 댓글 데이터 생성에 주석 추가
        - 댓글 수정에 주석 추가
          - 해당 댓글 조회, 댓글 작성자인지 확인 후 수정하는 내용에 주석 추가
        - 댓글 삭제에 주석 추가
          - 해당 댓글 조회, 댓글 작성자인지 확인 후 삭제하는 내용에 주석 추가
          - 관련 답글 삭제, 댓글 삭제하는 내용에 주석 추가
        - 특정 댓글의 답글 목록 조회하는 내용에 주석 추가
          - 해당 댓글의 답글 목록 조회하는 내용에 주석 추가
        - 답글 작성에 주석 추가
          - DB에서 해당 게시글 조회, 해당 댓글 조회에 주석 추가
          - 새 답글 데이터 추가에 주석 추가
        - 답글 수정에 주석 추가
          - 해당 답글 조회, 답글 작성자인지 확인 후 수정하는 내용에 주석 추가
        - 답글 삭제에 주석 추가
          - 해당 답글 조회, 답글 작성자인지 확인 후 삭제하는 내용에 주석 추가
      - user-routes
        - 회원가입 라우터에 주석 추가
          - 조금 더 세부적으로 주석을 추가해주는데 사용자가 입력한 이메일, 패스워드를 받아 mongodb에 저장하는 내용의 주석 추가
          - 이메일, 이메일 확인, 이름, 패스워드 등 잘못된 입력을 확인하는 내용에 주석 추가
            - 조건이 맞지 않으면 오류 메시지와 함께 요청을 거절하는 내용의 주석 추가
          - DB에서 이미 사용 중인 이메일인지 확인하는 내용에 주석 추가
          - 이메일이 이미 존재하면 오류 메시지를 전송하는 내용에 주석 추가
          - 비밀번호를 해시하여 DB에 저장하는 내용에 주석 추가
          - 새 사용자 데이터를 MongoDB에 저장하는 내용에 주석 추가
        - 로그인 라우터에 주석 추가
          - 조금 더 자세한 주석을 추가해주는데, 사용자가 입력한 이메일과 패스워드를 통해 로그인 처리하는 내용의 주석 추가
          - 입력한 이메일이 DB에 존재하는지 확인하는 내용에 주석 추가
          - 이메일이 존재하지 않거나 비밀번호가 일치하지 않는 경우 오류 메시지를 전송하는 내용에 주석 추가
          - 해시된 비밀번호와 사용자가 입력한 비밀번호를 비교하는 부분에 주석 추가
          - 이메일과 비밀번호가 모두 올바르면 JWT 토큰을 생성하여 쿠키에 저장하는 내용에 주석 추가
            - Access Token 발급 내용에 주석 추가
            - Refresh Token 발급 내용에 주석 추가
            - 쿠키에 토큰 저장을 저장하는데 이 때, httpOnly 옵션으로 클라이언트에서 직접 접근이 불가능하다는 내용에 주석 추가
            - 정상적으로 JWT 토큰을 생성하면 성공 메시지와 함께 토큰 정보를 반환하는데 이 내용에 주석 추가
        - Access Token 확인하는 내용에 주석 추가
        - Refresh Token 확인하는 내용에 주석 추가
        - Refresh Token 만료 여부 확인하는 내용에 주석 추가
        - 로그인 성공 시 사용자 정보 반환하는 내용에 주석 추가
        - 로그아웃 처리, 쿠키에서 토큰 제거하는 내용에 주석 추가
        - 사용자 프로필 정보와 게시글 조회하는 내용에 주석 추가
          - 해당 내용에서는 검색 기능 및 페이지네이션 기능 포함
          - 사용자 이메일을 기반으로 필터 생성하는 내용에 주석 추가
          - 검색어가 있을 경우 검색어 필터를 추가하는 내용에 주석 추가
            - 필드를 지정하지 않은 경우 모든 필드에서 검색하는 내용에 주석 추가
          - 사용자의 게시글을 필터, 페이지네이션 및 정렬 기준에 따라 조회하는 내용에 주석 추가
          - 총 게시글 수, 전체 게시글 수를 계산하여 페이지 수를 계산하는 내용에 주석 추가
          - 페이지네이션의 시작과 끝 페이지 번호를 계산하고, 페이지 그룹을 계산하는 내용에 주석 추가
          - 게시글 데이터와 페이지네이션 정보를 반환하는 내용에 주석 추가
      - user-chat-routes
        - 사용자의 채팅 메시지를 가져오는 라우터에 주석 추가
          - JWT 토큰을 통해 사용자 인증하는 내용에 주석 추가
          - MongoDB에서 특정 userId에 해당하는 채팅 메시지를 가져오는 내용에 주석 추가
            - 날짜 기준으로 정렬하는 내용에 주석 추가
        - 사용자가 입력한 채팅 메시지를 저장하는 라우터에 주석 추가
          - 클라이언트에서 보낸 데이터 추출하는 내용에 주석 추가
          - 새 메시지 객체 생성하는 내용에 주석 추가
            - MongoDB ObjectId로 변환된 userId 내용에 주석 추가
            - 날짜 및 시간을 포맷팅하여 문자열로 저장하는 내용에 주석 추가
          - 새 메시지를 MongoDB의 chatMessages 컬렉션에 저장하는 내용에 주석 추가
          - socket.io를 통해 새 메시지를 해당 채팅방에 브로드캐스트하는 내용에 주석 추가
            - Express 앱에서 Socket.io 인스턴스를 가져오는 내용에 주석 추가
            - 사용자 ID 기반으로 채팅방 ID 생성하는 내용에 주석 추가
            - 해당 채팅방에 메시지 전송하는 부분에 주석 추가
    - 백엔드의 사용자 페이지와 관련된 라우터에서 주석을 추가해주었는데, 현재 추가한 주석보다 조금 더 자세하게 추가를 하고 싶었지만 그러면 너무 지저분하게 많은 내용이 주석으로 추가될 것 같아서 최대한 필요하다고 생각한 내용만 추가해주었다.
      - 지금도 조금 많다는 생각도 들어서 조금 줄이는 것도 고려를 해봐야 한다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/993615096bc2211d4059c4513e0a13edce261aae)

<br />

- 추가 및 해결 해야 할 내용
  - 컴포넌트를 분리해줄만한 곳이 있는지 확인해봐야 함
    - 컴포넌트 분리만이 아닌, 조건부나 이런 내용에서 중복된 부분을 줄이고 코드 가독성을 향상 시켜줘야 함
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - 전체적으로 코드에 주석을 추가해서 어떤 코드가 어떤 기능을 하는지 알 수 있도록 해줘야 함
  - 페이지로 구성되어있는데, action 함수가 사용되지 않는 부분을 확인해야 함
  - 마지막 기능 추가로, 관리자 권한을 부여하는 내용을 생각하고 있음
    - 가입할 때는 일반 사용자로 가입을 할 수 있고, admin 관리자 계정으로 관리자 페이지에서 관리자 권한을 부여하는 내용을 생각 중

# 오늘 느낀 점

- README 파일의 내용을 새롭게 갱신해서, 추가한 기능과 관련된 내용을 작성해주고 기존의 내용을 조금 수정해주었는데, 좀 더 가독성이 좋게 수정하는게 좋을 것 같아서 README 작성과 관련된 내용을 좀 찾아보고 내용을 추가로 수정해줄 생각이다. 그리고 백엔드에서 구성된 사용자 페이지와 관련된 라우터 내용에 주석을 추가했기 때문에 남아있는 DB 관련 내용, JWT 토큰 관련 내용, 관리자 페이지 관련 라우터, app.js 내용에 주석을 추가해주면 얼추 마무리될 것으로 예상이 되며, CSS 내용에 주석을 추가하는 것은 아직 조금 더 생각을 해봐야 할 것 같다. 마지막 기능 추가 내용도 좀 더 고민이 필요하며, 일단 빠르게 주석을 추가해서 배포하는 방향으로 진행을 해야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
