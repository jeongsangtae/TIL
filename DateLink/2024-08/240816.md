# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 게시글, 댓글 조회 라우트의 try-catch 내용 수정
    - 게시글, 댓글 조회 라우트에서 try-catch문을 통해 토큰이나 로그인 정보에 따라서 프론트엔드로 userData를 전달하거나, 전달하지 않는 구조로 구성했으나 코드를 수정해서 더 이상 userData를 필요로 하지 않기 때문에 try-catch문을 수정해주었다.
    - 백엔드 구성
      - admin-router, board-routes의 게시글 목록 조회 라우트에서 동일하게 작업해줌
        - 게시글 목록 필터, 총 게시글 수, 전체 게시글 수, 페이지 그룹 계산 다음에 try-catch문을 통해서 토큰을 확인하고 DB에서 사용자 정보를 조회해서 올바른 로그인 정보가 있을 때 posts, countPosts, page, totalPages, firstPageGroup, lastPageGroup, userData 내용을 프론트엔드로 전달하고, 토큰이 유효하지 않거나 사용자 정보가 없는 경우 userData를 제외한 데이터를 전달해서 게시글 내용과 관련된 항목들은 모두 보여지도록 구성을 했었다.
        - 하지만, 위 내용에서 userData는 이제 사용되지 않기 때문에 try-catch문이 정상적으로 처리되었을 때와 에러가 발생했을 때 동일한 JSON 응답을 반환하게 되면서, 에러가 발생했을 때 클라이언트가 그 사실을 알 수 없기 때문에 내용을 수정해주었다.
        - 이를 수정하기 위해 필터와 관련된 내용 이후부터 try 블록으로 감싸주고 catch 블록에서는 에러 메시지와 같은 추가 정보를 포함하여 응답을 반환하도록 해주었다.
        - 굳이 게시글 목록을 보여주는데 로그인 유무가 필요하지 않고, 로그인 여부와 상관없이 게시글 목록은 모든 사용자에게 보여줘야 하기 때문에 로그인 검증 코드는 필요하지 않다고 생각되어 최종적으로 삭제해주고, 게시글 목록 조회 및 반환 내용을 단순화 시켰다.
      - admin-router, board-routes의 댓글 목록 조회 라우트에서 동일하게 작업해줌
        - 게시글 목록 조회 라우트와 비슷하게 try-catch문을 통해서 토큰과 로그인 여부를 확인하고 정상적인 응답이라면 댓글 목록과 userData를 프론트엔드로 함께 전달하고, 만약 유효하지 않은 토큰이거나 사용자 정보가 없다면 댓글 목록만 전달하는데, 프론트엔드에서 더 이상 사용자 정보를 백엔드에서 받아서 사용하지 않기 때문에 내용을 수정해주었다.
        - try 블록으로 게시글 조회부터 댓글 목록 조회까지 모두 감싸주고, 성공적인 응답이면 댓글 목록을 프론트엔드로 전달하고, 만약 서버에서 오류 발생 시에는 오류 메시지와 함께 실패 응답을 반환하도록 변경해주었다.
    - 변경한 코드를 테스트한 결과, 문제없이 기존과 동일하게 작동하는 것을 확인할 수 있었고 게시글 목록 조회 라우트와 댓글 목록 조회 라우트 코드가 많이 간소화되어 이전보다 훨씬 가독성이 좋아졌다고 생각이 된다.
      - 추가로 저렇게 비슷하게 구성된 내용이 있는 지 확인하고 수정을 해줘야 한다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/a9a5ac5e16038d036506aff13667a66242d8ab50)

  <br />

  - CSS에서 설명이 필요한 내용에 주석 추가
    - CSS 전체 내용을 살펴보면서, 정말로 필요하다고 생각된 부분에만 주석을 추가해서 해당 CSS가 무슨 역할을 하는 지 알 수 있게 해주었다.
    - CSS 구성
      - AdminChat, Chat
        - 채팅 풍선 스타일에 주석 추가
      - AdminChats, Chats
        - 채팅 컨테이너 여는 애니메이션에 주석 추가
        - 추가로 Chats 내용은 채팅 컨테이너 열리고 닫힐 때 변화하는 아이콘 애니메이션에 주석 추가
      - AdminUserList
        - 채팅 관련 사용자 리스트 여는 애니메이션에 주석 추가
        - 채팅 컨테이너 열리고 닫힐 때 변화하는 아이콘 애니메이션에 주석 추가
      - AdminMainHeader, MainHeader
        - 버튼에 커서를 올리면 우측 하단에 빨간 점 표시되는 내용에 주석 추가
        - 활성화된 버튼 우측 하단에 빨간 점 표시되는 내용에 주석 추가
      - AdminPost, AdminPostDetails, Post, PostDetails
        - 게시글 정보 사이에 점을 추가해서 구분하는 내용에 주석 추가
      - AdminUser
        - 사용자 정보 사이에 점을 추가해서 구분하는 내용에 주석 추가
      - DropDownMenu
        - 드롭다운 메뉴의 사용자 아이콘 뒤에 구성된 원에 주석 추가
        - 테마 모드 변경에 사용되는 전환 버튼에 주석 추가
          - 버튼의 너비를 1/3로 설정하는 내용에 주석 추가
        - 기본 스타일의 스위치 버튼 레이블에 주석 추가
          - 내, 외부 그림자 설정에 주석 추가
        - 체크박스의 기본 상태와 위치 설정에 주석 추가
          - 회전 기준점 설정에 주석 추가
      - LoadingIndicator
        - 원 모양으로 돌아가는 모양의 로딩 인디케이터 내용에 주석 추가
    - CSS 내용에 주석을 추가해주긴 했는데, 거의 기본적으로 자주 사용하는 내용들이었고 그 내용에서 조금 다른 내용이나 평소에 사용하지 않는 내용, 애니메이션 내용에 주석을 추가해주었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/3aa015b018c9a4a683ad2f751dcba824dc63a16e)

<br />

- 추가 및 해결 해야 할 내용
  - 컴포넌트를 분리해줄만한 곳이 있는지 확인해봐야 함
    - 컴포넌트 분리만이 아닌, 조건부나 이런 내용에서 중복된 부분을 줄이고 코드 가독성을 향상 시켜줘야 함
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - 전체적으로 코드에 주석을 추가해서 어떤 코드가 어떤 기능을 하는지 알 수 있도록 해줘야 함
  - 페이지로 구성되어있는데, action 함수가 사용되지 않는 부분을 확인해야 함
  - 마지막 기능 추가로, 관리자 권한을 부여하는 내용을 생각하고 있음
    - 가입할 때는 일반 사용자로 가입을 할 수 있고, admin 관리자 계정으로 관리자 페이지에서 관리자 권한을 부여하는 내용을 생각 중

# 오늘 느낀 점

- CSS 내용까지 주석을 추가해주면서 주석 추가는 마무리가 된 것 같은데, 최종적으로 한 번 더 내용을 점검하고 빠진 곳은 없는 지 확인을 해줘야 할 것 같다. 그리고 게시글 목록 조회 라우트와 댓글 목록 조회 라우트처럼 굳이 토큰과 사용자 정보를 확인하지 않아도 되지만, 확인하는 try-catch문이 있다면 내용을 수정해주고 간소화 해줘야 할 것 같다. 추가로 예외 처리 내용이 빠져있는 곳은 추가해줘야 하고, 불필요하게 구성된 예외 처리 코드는 수정해서 간소화해줘야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
