# 오늘 한 일

### 100일 코딩 챌린지 (53~53일차)

- NodeJS에서 코드 가져오기 & 내보내기

  - 파일 이름을 사용할 수는 없다.
    - ex) const resData = require('restaurant-data')
  - 확장자를 추가해도 불가능
    - ex) const resData = require('restaurant-data.js')
  - 대신 그 파일에 대한 경로를 추가해야 한다.
  - 내장된 패키지나 타사 패키지는 경로를 추가하지 않고, 패키지 이름만 사용했지만 우리만의 파일의 경우엔 전체 경로를 추가해야한다.
  - 가져오려는 파일이 `app.js` 즉, 메인 파일과 같은 폴더에 있다면 `./`를 추가한다.
    - ex) const resData = require('./restaurant-data')
    - NodeJS에서 간단히 상대 경로를 생성하는 방법이다.
    - NodeJS에게 이 파일이 코드가 있는 이웃 파일, 형제 파일이라는 사실을 알려주는 용도
    - 파일 확장자는 넣지않는다. ex) `.js`
  - 하지만 하위 폴더에 있다면 그 폴더까지 경로를 입력해주어야한다.
    - ex) const resData = require('./util/restaurant-data')
  - 저렇게 추가만 해준다고 자동으로 요청되는 것은 아니다.
  - 가져오려는 파일에서 다른 파일로 가져와 사용할 수 있게끔 명시적으로 표현해야 하고, 가져오려는 파일의 맨 아래에 추가 지침서를 추가해서 표시해야 한다.
  - JS 객체와 동일하게 설정해서 노출하려는 다양한 항목을 추가할 수 있다.

    ```
    restaurant-data.js 파일

    module.exports = {
      getStoredRestaurants: getStoredRestaurants,
      storeRestaurants: storeRestaurants,
    };

    // 왼쪽 이름은 내 마음대로 변경가능 이 부분은 다른 파일에서 이 함수를 사용할 때 사용할 수 있는 이름이다.

    // 오른쪽에 있는 이름은 내 마음대로 변경할 수 없고, 다른 파일에 노출하려는 항목의 이름이다.

    // 예로 getStoreRestaurants를 변경한다면 그 위에 작성되어 있는 함수의 정의도 변경되어야 한다.

    // 보통 동일한 이름을 사용한다.

    // 또 하나 중요한 점은 괄호를 추가하지 않고 함수의 이름만을 사용한다.

    app.js 파일

    const restaurantsData = resData.getStoredRestaurants();
    restaurantsData.push(restaurant);
    resData.storeRestaurants(restaurantsData);

    // 위에 상수에 선언해준 resData를 가져와서 사용한다.
    ```

- `..`

  - 현재 있는 디렉토리의 상위 디렉토리를 이동하기 위해 더 높은 수준의 디렉토리로 이동하고 싶다는 프로그래밍으로 표현하는 표준 방식이다.

- ExpressJS : router

  - 경로를 그룹화하고 분할할 수 있게 해주고 더 큰 프로젝트를 유지 관리하기 쉽게 만들어준다.

- use route를 사용하면 들어오는 경로의 시작을 먼저 확인해 필터 역할을 한다. 들어오는 모든 요청이 먼저 지정한 route를 통해서 유입되고, 그 route중 하나가 일치하면 들어오는 요청이 완료가 된다. 지정한 route에 들어오는 요청과 일치하지 않는 경우에만 다른 route를 살펴본다.

- JS : sort 메서드

  - sort()
  - 데이터 배열에서 실행할 수 있다.
  - 데이터를 자동으로 정렬하려고 한다.
  - 2개의 매개변수가 필요한 함수가 들어간다.
  - 그 2개의 매개변수를 비교해 1과 -1을 주면 정렬을 한다.

  ```
  storedRestaurants.sort(function (resA, resB) {
    if (resA.name > resB.name) {
      return 1;
    }
    return -1;
  });
  ```

- 동적 라우트의 라우트 매개변수

  - ex) `router.get('/restaurants/:id', ...)`
    - 이 예에서 id는 이 URL/경로를 방문할 때 다른 값을 유지하는 라우트 매개변수이다. 예를 들어, 사용자가 /restaurants/r1을 입력하면 id는 r1과 같다.
  - 라우트 매개변수는 **하나의 단일 경로를 사용**하여 구체적인 라우트 매개변수 값에 따라 다른 데이터를 로드할 수 있으므로 매우 유용하다.
  - 라우트 매개변수(위의 예에서:id)가 URL 경로의 핵심 부분임을 이해하는 것이 중요하다. 예를 들어 위의 경로에서는 /restaurants만 처리되지 않는다. 라우트 매개변수에 대한 값이 없기 때문이다.

- 쿼리 매개변수

  - 일반적으로 로드되는 페이지를 변경하지 않는 URL에 추가할 수 있는 추가 선택 사항 값
  - 서버 측 코드에서 페이지에 표시되는 내용이나 페이지에 표시되는 방식을 변경하는데 사용
  - "라우트 매개변수"(위 참조)가 선택 사항이 아니고 라우트 정의의 핵심 부분인 경우(즉, 라우트 매개변수에 값이 제공되지 않으면 로드가 활성화되지 않음) **"쿼리 매개변수"는 완전히 선택 사항이다.**
  - 일반적으로 URL 경로에 추가 정보를 추가하는 데 사용된다.
  - ex) `/restaurants?order=asc`
  - 여기서 "order" 쿼리 매개변수는 "asc" 값으로 추가된다.(쿼리 매개변수는 항상 ?기호를 통해 "주 경로"와 분리됨) 기본적으로 쿼리 매개변수는 아무 작업도 수행하지 않는다.
  - 웹사이트 방문자는 원하는 만큼 추가할 수 있다. 링크를 통해 추가하거나 이전 처럼 GET 요청을 통해 양식을 제출하여 추가할 수 있다.
  - 참고 : GET 양식 대신 이전에 쿼리 매개변수로 링크를 구성할 수도 있다. - 하지만 숨겨진 입력 필드에 대한 아이디어를 소개해주기위해 사용
  - 서버 측에서 추가 작업을 수행하기 위해 이러한 선택적 쿼리 매개변수를 처리할 수 있는 코드를 추가하는 것은 개발자에게 달려 있다. 예를 들어, 배열의 항목 순서를 변경할 수 있다. 항목을 필터링하거나 다른 작업을 수행할 수 있다.

- 라우트 매개변수와 쿼리 매개변수

  - "쿼리 매개변수"와 "라우트 매개변수"를 혼동하기 쉽지만 이들은 **서로 다른 문제를 해결하는 근본적으로 다른 개념이다.**
  - 위에서 설명한 것처럼 쿼리 매개변수는 선택 사항이며 경로 라우트의 핵심 부분이 아니지만 라우트 매개변수는 선택 사항이다.
  - 라우트 매개변수는 **활성화되어야 하는 경로를 결정**하는 데 사용되며 라우트 매개변수에 대한 구체적인 값(예: 식당 ID)을 얻기 위해 라우트 내부에서 구문 분석될 수 있다.
  - 반면에 **쿼리 매개변수는 선택 사항**이고 일반적으로 실행할 라우트를 결정하는 데 사용하지 않는다. 대신 로드된 라우트/URL에 추가 정보를 첨부하는 데 사용할 수 있다.

- Quiz 14. Advanced Express Features

  - "동적 라우트"의 목적은 무엇입니까?
    - 경로가 가변적이고 다양한 정보(예:id)를 포함하는 요청을 처리한다.
  - 특정 시나리오에서 동적 라우트가 필요한 이유는 무엇입니까?
    - 정보/데이터가 경로에 인코딩되고 핸들러에서 추출될 수 있기 때문이다.
  - 동적 라우트를 사용하는 시나리오는 무엇입니까?
    - 온라인 상점에서 단일 제품에 대한 세부 정보 페이지를 로드하려고 할 때
  - "Http 상태 코드" 뒤에 숨겨진 아이디어는 무엇입니까?
    - 상태(다양한 이유로 성공/실패)를 클라이언트(소프트웨어)에 쉽게 전달할 수 있다.
  - 404/'찾을 수 없음' 오류란 무엇인가요?
    - 클라이언트가 리소스/페이지를 요청했지만 서버에서 해당 리소스를 찾을 수 없습니다.(예: 잘못된 제품 ID, 잘못된 경로)
  - 익스프레스 프로젝트에서 '기본 오류 처리 미들웨어'의 목적은 무엇인가요?
    - 다른 경로/미들웨어에서 발생한 오류를 처리하는데 중점을 둔 메커니즘이다.
  - 코드 리팩토링 및 코드를 여러 파일(노드/익스프레스 프로젝트 외부)로 분할하는 아이디어는 무엇인가요?
    - 코드 유지 관리 및 가독성을 높이기 위해
  - “가져오기”와 “내보내기”에 대한 설명 중 옳지 않은 것은?
    - 항상 모든 파일에서 모든 콘텐츠를 가져올 수 있다. (틀림)
    - {module.exports}의 도움으로 내보내진다.(내보내야하는 "객체"와 동일하게 설정) (맞음)
    - {require()} 함수를 사용하여 가져온다.(맞음)
  - “익스프레스 라우터”{(express.Router())}의 목적은 무엇인가요?
    - 이를 통해 경로 정의를 여러 파일/정의 블록으로 분할할 수 있다.

<br />

# 오늘 느낀 점

- 코드를 분할해서 코드를 가져오고 내보내는 방법은 react나 typescript에 대해 해볼 때도 했던 부분인데 완전히 동일한 방식은 아니여서 조금 헷갈리는게 있지만, 그래도 많이 배워간다고 생각은 된다. 코드는 분할해서 관리하는 것이 유지 관리에도 용이하며 가독성도 높이기 때문에 필수라고 생각한다.

- 단순하게 sort 메서드에 매개변수를 추가해 사용하면 알파벳 순서대로 깔끔하게 정렬은 된다는게 신기했다. 하지만 사용자에 따라 기본 순서 또는 역순으로 찾고 싶은 부분이 다르기 때문에 여기서 쿼리 매개변수를 사용해 조금 더 복잡한 코드를 추가해 역순도 가능하고 asc순서로도 가능하게 해보았는데 코드를 좀 더 봐보면서 이해가 필요해보인다.

- 쿼리 매개변수에 대해서는 아직 공부가 더 필요하다고 생각이 된다. 여기서는 asc, desc 즉 알파벳 순서대로 역순대로 이걸 변경하는데 사용하였는데 페이지가 로드되면서 내용이 변경되는데 사용된다고 생각이 되는데 공부가 더 필요해보인다. 쿼리 매개변수는 저 용도만이 아닌 페이지 로드를 하면서 사용하는 다른 부분에서도 사용될 수 있기 때문에 더 학습이 필요하다.

- 개인적으로 라우트 매개변수는 선택 사항이면서도 반 필수적으로 들어가야하는거 같고, 쿼리 매개변수는 선택 사항인데 이 또한, 필요한 상황이 빈번해 보인다.

- 오늘 라우터와 쿼리 매개변수에 대해 배웠는데 좀 복잡해서 다른걸 전혀하지 못한거같다. 이제 빠르게 넘어가는 것이 아닌 확실하게 이해하고 넘어가도록 노력하기에 급하게 하지않고 차분히 나아갈 예정이다.

<br />

# 내일 할 일

- 100일 코딩 챌린지 계속 진행하기 (속도보단 복습과 꾸준한 연습으로 튼튼하게 다지기)

- ExpressJS에 대해 더 깊게 공부하기 (EJS와 함께)

- 코드 리팩토링, 쿼리 매개변수

- new 키워드, FormData(), get(), trim() 찾아보고 내용추가

- Tic Tac Toe 게임의 endGame 함수에서 매개변수 한번 더 봐보기 + 매개변수에 대해 추가 공부

- require, createServer, listen 에 대해 알아보기
