# 오늘 한 일

### 100일 코딩 챌린지 (51~52일차)

- ExpressJS : 동적 경로

  - 일부 데이터에 대한 동적 플레이스 홀더로 동적 경로를 정의할 수 있다.
  - params
    - 자체에는 실제로 객체가 포함되어 있고 해당 객체에는 이 경로에서 속성으로 키로 정의한 동적 플레이스 홀더가 있다.

  ```
  app.get("/restaurants/:id", function (req, res) {
    const restaurantId = req.params.id;
    res.render("restaurant-detail", { rid: restaurantId });
  });
  ```

- NPM : uuid 패키지 (uniform unique ID)

  - npm install uuid로 설치
  - 고유한 ID를 할당해주는 패키지
  - 다른 패키지와 마찬가지로 `const uuid = require("uuid")` 참조해주고 사용
  - ex) `restaurant.id = uuid.v4()`
  - 예시의 restaurant.id에서 id는 임의의 이름으로 내가 정한다.
  - v4 메서드
    - v4()
    - 무작위로 생성되지만 고유함을 보장하는 유용한 고유한 ID를 제공해준다.
    - 문자열로 제공해준다. (일부 텍스트인 문자열)

  <br />

- JS : return

  - 값을 반환하기도 하지만 함수 실행도 중지할 수 있다.

  <br />

- ExpressJS : use 미들웨어를 추가해 404 처리

  - 존재하지 않는 페이지에 대한 처리

  ```
  app.use(function (req, res) {
    res.render("404");
  });
  ```

- ExpressJS : use 미들웨어 추가해 서버 에러 500 처리

  - 서버에서 오류가 발생한 경우에 실행되는 미들웨어 처리
  - 고유한 오류 핸들링 미들웨어 처리
  - 4개의 매개변수가 들어간다. (error, req, res, next)
  - error, next에 대한 추가적인 내용은 이후에 추가

  ```
  app.use(function (error, req, res, next) {
    res.render("500");
  });
  ```

- ExpressJS : status 메서드

  - status()
  - 단순히 업데이트된 응답 객체를 반환한다.
  - status를 통해 사용자 정의 상태 코드를 반환할 수 있다.
  - 설정할 수 있고 기본값으로 200이 되어있다.

  ```
  app.use(function (req, res) {
    res.status(404).render("404");
  });

  app.use(function (error, req, res, next) {
    res.status(500).render("500");
  });
  ```

- ExpressJS : 코드 리팩토링

  - 단순히 다른 js파일에 함수로 만들어서 가져와서 사용하는게 아니다.
  - 먼저 return으로 반환해줘야한다.
  - 그 다음 매개변수가 필요한 부분을 추가해 사용해줘야한다.
  - 아직 리팩토링에 대해 다 배운게 아니기때문에 이후 추가내용을 작성할 예정이다.

<br />

# 오늘 느낀 점

- 오늘 확실히 느낀건데 백엔드 부분에서 많이 어렵다고 느끼는거 같다. 아무리 JS로 한다고 해도 처음 듣는 부분도 꽤 있고 많이 부족하다고 생각이 된다.

- 고유 id를 부여할 때 예전에 했던 방법으로는 현재 시간을 고유id로 쓴다던지 순차적으로 id를 부여하는 그런 방법을 썼는데, 임의로 고유 id를 할당해주는 패키지를 써보니 편하다고 생각이 되었다.

- 미들웨어를 사용해서 404, 500 이런 오류 페이지를 단순하게 적용하는건 간단하였다. 하지만 그건 단지 사용자에게 보여지는 페이지를 표현한 것 일뿐 사실상 개발자 화면에서는 404, 500 오류가 제대로 확인이 되지않았는데, 물론 사용자 시점에서 보면 별거 아니지만 개발자 입장에서는 이 부분도 중요하기 때문에 그 부분을 status 메서드를 사용해서 직접 어떤 오류로 상태 코드를 반환하는지 지정할 수 있어서 좋다고 생각이 되었다.

- 코드 리팩토링에 대해 배우면서 진행중인데 아직 좀 많이 어렵고 헷갈리는 부분도 있다고 생각이 된다. 그리고 완벽하게 코드 리팩토링이 끝난게 아니기 때문에 내일 추가로 배우면서 사용해보고 이해해보려고 노력해야한다고 생각이 된다.

<br />

# 내일 할 일

- 100일 코딩 챌린지 계속 진행하기 (속도보단 복습과 꾸준한 연습으로 튼튼하게 다지기)

- ExpressJS에 대해 더 깊게 공부하기 (EJS와 함께)

- 코드 리팩토링에 대해 공부

- new 키워드, FormData(), get(), trim() 찾아보고 내용추가

- Tic Tac Toe 게임의 endGame 함수에서 매개변수 한번 더 봐보기 + 매개변수에 대해 추가 공부

- require, createServer, listen 에 대해 알아보기
