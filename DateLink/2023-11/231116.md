# 오늘 한 일

### React 공부

- React 앱에 애니메이션 넣기

  - 모듈 소개
    - React 앱에 애니메이션을 넣어 생동감을 주는 법을 배우는 섹션
    - 애니메이션이 없는 정적 앱도 잘 작동하지만, 애니메이션이 있으면 더 보기 좋고 느낌 있어서 사용자의 웹 사이트 참여율이 높아질 수 있다.
    - 사용할 데모 프로젝트
      - 웹 사이트 사용자가 챌린지를 생성하고 관리하는 챌린지 페이지
      - 챌린지마다 제목, 이미지를 설정할 수 있다.
      - 사용자는 챌린지를 성공 또는 실패로 표시할 수 있고, 탭을 오가며 챌린지를 종류별로 볼 수 있다.
      - 이 상태로도 잘 작동하고 보기 좋지만, 애니메이션을 추가해 개선할 수 있다.
        - 애니메이션이 들어가면 더 보기 좋고 느낌 있어서 웹 사이트 방문자들이 나의 웹 앱에 더 오래 머물고 싶어할 수 있다.
        - 어떤 웹 앱을 빌드하든 결국 궁극적인 목표는 사용자가 더 많이 방문하고 오래 머물수 있도록 하는 것이 목표이다.
    - 이 섹션에서 React 앱에 애니메이션을 넣는 법을 배울 텐데, CSS만 활용한 방식부터 볼 것이다.
      - 웹 사이트에 애니메이션을 넣을 때 쓸 수 있는 CSS 내장 기능에 대해 모르는 사람도 있기 때문이다.
      - 섹션을 보다 보면, CSS 애니메이션으로 충분한 유스 케이스가 있고 그렇지 않은 경우가 있다.
    - 이번 섹션은 대부분 "**프레이머 모션**"이라는 서드 파티 패키지 위주로 볼 예정이다.
      - 복잡한 애니메이션을 빌드하고 제어하는 놀라운 패키지
      - 이 패키지 사용법을 배우면 화면의 요소를 넣었다 뺐다 하며 리스트에 애니메이션을 넣을 수 있고 웹 사이트에서 사용자의 스크롤에 반응하는 스크롤 기반 애니메이션도 빌드할 수 있다.

  <br />

  - CSS 트랜지션으로 애니메이션 넣기
    - 프레이머 모션으로 들어가기 전에, 바닐라 CSS 내장 기능인 트랜지션과 애니메이션만 필요한 유스 케이스를 사용해서 작업
      - 자잘한 애니메이션을 넣겠다고 굳이 새 라이브러리를 설치해 공부할 필요는 없기 때문이다.
    - 이 아래는 전부 index.css의 CSS 클래스에서 작업하는 내용을 작성
    - challenge-item-details-icon CSS 클래스에서 구성 확인
      - challenge-item-details-icon는 transform: rotate(180deg)가 적용되어 있다.
        - 이 애니메이션이 적용되진 않았지만, 아이콘을 회전하려고 한 것을 알 수 있다.
        - 이 애니메이션을 활성화하기 위해 상세 정보가 보일 때를 조건으로 expanded 클래스를 추가해야 한다.
    - ChallengeItem.jsx 파일의 버튼 관련 className 수정
      - 클래스 이름을 동적 값으로 바꿔주고, 템플릿 리터럴 구문을 적용해 구성
        - 백틱을 쓰는 이유는 스트링에 동적 값을 넣기 쉽기 때문이다.
      - 중괄호를 추가해, 동적 값을 넣어서 isExpanded가 참인지 확인하는 조건을 추가
        - isExpanded가 참이면 expanded 클래스를 클래스 리스트에 추가
        - isExpanded가 거짓이면 빈 문자열 추가
        - `challenge-item-details ${isExpanded ? "expanded" : ""}`
      - 이렇게 변경하고 확인하면 View Details 아이콘의 방향이 바뀌는 것을 확인할 수 있다.
    - 버튼에 애니메이션을 넣으려면 rotate(180deg)에 애니메이션을 적용하라고 CSS에 알려야 한다.
      - 이 작업을 하기 위해선 CSS 트랜지션이라는 기능이 필요하다.
    - CSS 트랜지션
      - CSS 트랜지션을 사용하려면 transition 프로퍼티를 규칙에 추가하면 된다.
    - challenge-item-details-icon CSS 클래스에 transition 추가
      - 아이콘에 항상 적용되는 기본 규칙에 transition 추가
        - 부모가 확장된 상태일 때만 활성화되는 규칙이 아닌, 늘 활성화돼 있는 규칙으로 추가
      - 어느 CSS 프로퍼티의 어느 변경 사항에 애니메이션을 적용할지 CSS에 알려야 한다.
        - `transform: rotate(180deg)`
        - 지금 예시에선, transform에 애니메이션을 적용할 거니까 `transition: transform`처럼 작성하면 된다.
        - 해당 프로퍼티에 변화가 생기면 변화에 애니메이션을 적용한다.
        - CSS가 애니메이션을 적용하는 것이다.
        - 요소에 변화를 주는 모든 CSS 프로퍼티에 애니메이션을 넣겠다면 `transition: all`처럼 써도 되지만 여기서는 transform만 사용
      - 애니메이션이 실행되는 지속 시간도 지정해야 한다.
        - ex) `0.3s`
      - 애니메이션의 속도를 조절해 느낌에 영향을 주는 ease 함수도 추가할 수 있다.
        - `ease-out` 또는 `ease-in` 같은 ease 함수 값을 추가할 수 있다.
        - 여기선 ease-out으로 사용
      - 최종 형태
        - `transition: transform 0.3s ease-out;`
        - 화살표에 애니메이션이 들어가서 화살표가 돌아가는 것을 확인할 수 있다.
      - 라이브러리를 따로 추가하지 않고, CSS에 내장된 기능으로 해결할 수 있다.
        - CSS 내장 기능을 반드시 알아 두는 것이 좋다.
        - CSS가 제공하는 내장 애니메이션 지원 기능으로 해결될 때도 많기 때문이다.
    - 자세한 코드 [깃허브](https://github.com/jeongsangtae/react-complete-training-animation/commit/87852e6344ebb6a99b61b3ba58ac7cbacb627a46)

  <br />

  - CSS 애니메이션으로 애니메이션 넣기
    - 아이콘에 애니메이션을 넣을 땐 유용하지만, 이걸로 부족할 때도 있다.
      - 가령 모달 창을 연다고 할 때, 열리는 순간에 애니메이션이 살짝 들어가면 좋다.
        - 창이 아래에서 위로 올라오며 서서히 나타나도록 할 수 있다.
        - 적어도 이 애플리케이션은 CSS 트랜지션이 아닌 기본 CSS로 가능하다.
    - Header.jsx 살펴보기
      - Header.jsx 파일에 있는 NewChallenge 컴포넌트는 isCreatingNewChallenge 상태에 따라 조건적으로 DOM에 추가된다.
        - 늘 DOM에 포함되어 있진 않다.
        - 창이 열릴 때만 DOM에 포함되는 방식
      - NewChallenge 컴포넌트는 CSS 트랜지션을 쓸 수 없다는 뜻이기도 하다.
        - 모달 창이 열릴 때 transition으로 초기 값에 애니메이션을 적용할 수 없기 때문이다.
        - 처음에 모달 창 요소가 없어서 초기 값이랄 게 없기 때문이다.
        - 다른 CSS 내장 기능으로 애니메이션을 넣을 수 있다.
          - CSS 애니메이션을 사용하면 가능
    - CSS 애니메이션
      - 특정한 애니메이션, 즉 일련의 단계를 내가 직접 정의하는 것이다.
        - `@keyframes`라는 특수한 구문을 통해 가능하다. 그리고 애니메이션에 원하는 이름을 붙인다.
      - ex) `@keyframes slide-up-fade-in {}`
        - 중괄호 안에는 애니메이션이 거칠 단계를 정의하면 된다.
        - 이러한 요소가 DOM에 포함되어 있지 않아도 초기 상태를 정의할 수 있고 최종 상태와 수 많은 중간 상태도 맘껏 정의할 수 있다.
      - `@keyframes` 중괄호 내부 구성
        - from {}, to {} 또는 % {}로 가능하다.
          - 0%는 초기 상태를 100%는 최종 상태를 뜻한다.
          - 각 상태의 중괄호 안에는 CSS 프로퍼티를 지정한다.
        - 초기 상태 구성
          - 현재 모달 창은 처음에 살짝 밑에 두어야 애니메이션이 재생되면서 올라오게 된다.
          - 이번에도 transform 프로퍼티를 사용
            - `transform: translateY(30px)`로 창을 30px 내려준다.
          - `opacity: 0 `으로 지정해 DOM에 포함된 요소를 처음엔 보이지 않게 한다.
        - 최종 상태 구성
          - `translateY(0)`으로 바꿔 창이 내려가지 않게 하고, `opacity: 1`로 불투명하게 바꾼다.
        ```
        @keyframes slide-up-fade-in {
          0% {
            transform: translateY(30px);
            opacity: 0;
          }
          100% {
            transform: translateY(0);
            opacity: 1;
          }
        }
        ```
      - 정의한 CSS 애니메이션을 CSS 선택자로 가서 해당 애니메이션을 적용할 요소에 애니메이션을 첨부
        - modal 창에 정의한 애니메이션을 첨부해야 한다.
        - animation이라는 특별한 CSS 프로퍼티를 써서 modal 요소에 애니메이션을 첨부한다.
          - 이제 animation은 요소가 DOM에 나타날 때마다 CSS에 의해 자동으로 실행된다.
        - animation 구성
          - animation에 정의한 애니메이션 이름을 넣어준다.
          - 지속 시간도 적어준다.
          - ease 함수도 넣어준다.
          - forwards라는 특별한 키워드도 붙인다.
            - forwards는 지속 시간이 끝나 애니메이션이 종료되면 최종 상태를 유지하라는 뜻이다.
        - 추가 설정도 가능하지만, 여기서 사용한 기능들이 CSS 애니메이션 기능 중에서 가장 중요한 설정 항목이니 꼭 알아두면 좋다.
        ```
        .modal {
          ...
          animation: slide-up-fade-in 0.3s ease-out forwards;
        }
        ```
    - 설정을 저장하고 다시 돌아가 확인해보면 창이 밑에서 위로 올라오며 서서히 나타나는 것을 확인할 수 있다.
      - 이렇게 애니메이션을 적용하는 법도 알아 둬야 한다.
      - 기본 CSS만 활용한 방법과 CSS 애니메이션 및 CSS 트랜지션을 활용한 방법이 있다.
        - 이 2가지 강력한 기능만 알면 웬만한 건 해결될 것이다.
    - 자세한 코드 [깃허브](https://github.com/jeongsangtae/react-complete-training-animation/commit/1b0d08a1f617a9cfa135341a62df9cdbb22015a1)

  <br />

  - 프레이머 모션 소개
    - CSS 트랜지션과 CSS 애니메이션은 매우 강력하지만 여전히 한계는 있다.
      - 첫 번째 한계
        - 그 중 하나는 CSS 애니메이션으로 DOM의 요소를 나타나게 할 순 있지만, 사라지게 할 순 없다.
        - 이유는 이런 모달 창 같은 요소가 DOM에서 삭제되면 그 즉시 사라져 애니메이션을 적용할 수 없기 때문이다.
          - 적어도 CSS만으로는 불가능하다.
      - 두 번째 한계
        - 복잡한 애니메이션은 어렵다.
          - 예로, 탭을 전환할 때마다 텍스트 언더 바 막대에 애니메이션을 넣고 싶은 경우, CSS만 써서 하면 가능은 하지만 아주 복잡하고 어렵다.
        - CSS만 써서 하기엔 너무 복잡한 작업이 하나 더 있는데 바로 특정 애니메이션을 현실감 있게 표현하는게 어렵다.
          - 예로, 화살표의 애니메이션은 잘 작동하고 보기에도 별 이상 없는데, 다른 비슷한 애니메이션과 비교하면 자연스러움이 떨어진다.
      - 요소가 사라지는 애니메이션은 구현할 수 없다는 점, 그리고 특정 애니메이션을 현실감 있게 표현하려면 복잡한 과정을 거쳐야 하는 점 때문에 프레이션 모션 같은 외부 라이브러리를 쓰는 것이다.
    - [프레이머 모션](https://www.framer.com/motion/)
      - 아주 강력한 React 애니메이션 라이브러리
      - 프로젝트에서 프레이머 모션을 사용하려면 설치부터 해야 한다.
        - `npm install framer-motion`
      - 직접 공식 문서를 읽어봐도 되는데 이건 섹션을 마치고 나서 하는 걸 추천한다고 한다.
        - 프레이머 모션이 워낙 복잡하고, 강력한 라이브러리라 일단 섹션에서 기초를 배우고 다른 설정 옵션과 고급 기능에 대해 더 자세히 알아보면 좋을 거라고 한다.

  <br />

  - 프레이머 모션 기초
    - 새로운 프로젝트에서 프레이머 모션 기초에 대해 배우는 시간
    - 새로운 프로젝트에는 상자와 입력 필드가 있다.
      - 입력 필드에 값을 입력하면 상자의 애니메이션이 적용된다.
      - 현재는 프레이머 모션으로 구현하지 않아서 위치 변화나 회전 애니메이션이 적용되지 않는다.
    - 프레이머 모션 프로젝트의 App.jsx
      - 사용자 입력 값을 받으려고 몇몇 state를 관리하고 있다.
      - 프레이머 모션으로 상자에 애니메이션을 넣으려면 motion을 import해야 한다.
        - `import { motion } from "framer-motion";`
      - 애니메이션을 넣을 요소의 div를 motion.div로 바꿔준다.
        - `<motion.div id="box" />`
        - 이렇게 하면 페이지에는 여전히 div로 렌더링되지만, 프레이머 모션이 제어하는 특별한 div라 애니메이션 성능이 아주 뛰어나게 바뀐다.
          - framer-motion은 성능이 뛰어난 애니메이션으로, 괜히 컴포넌트 재렌더링이나 애플리케이션 속도 저하를 일으키지 않고 가능한 최대 성능을 보여준다.
            - 이게 framer-motion 패키지의 핵심이다.
          - 그래서 motion.div 처럼 특별한 요소를 쓰는 것이다.
      - motion.div만 있는 것이 아니다.
        - 거의 모든 HTML 요소에 `motion.`이 붙을 수 있어서, 애니메이션을 적용할 수 있다.
      - 특수한 motion 컴포넌트를 사용한 컴포넌트에 특수한 프로퍼티 추가
        - animate 프로퍼티
          - motion.div를 썼기 때문에 가능한 프로퍼티
          - 기본적으로 객체를 값으로 받는데, 중괄호 안에 재생할 애니메이션을 적는다.
          - 프레이머 모션이 워낙 강력하다 보니 다양한 것들에 애니메이션을 적용할 수 있다.
            - 텍스트 색상이나 요소의 배경 색상, 회전이나 x, y 위치 등 여러 가지에 적용할 수 있다.
          - 주로 애니메이션을 적용하는 건 요소의 위치
            - 요소가 웹 사이트 여기저기로 이동해야 하기 때문이다.
            - 가로축으로 이동하는 애니메이션은 요소의 x 좌표에 애니메이션을 적용하면 된다.
              - `animate={{ x: x }}`
              - 뒤에 있는 x는 state의 x를 x의 값으로 넘긴 것이다.
              - 이렇게 하면 x 좌표의 state가 업데이트될 때마다 애니메이션이 다시 재생된다.
          - animate 프로퍼티를 설정하면 애니메이션을 적용한 값이 변할 때마다 애니메이션을 재실행해 요소를 움직인다.
            - 값을 입력하는 것에 따라 움직이고, 움직일 때 애니메이션도 적용된다. 그리고 애니메이션이 살짝 현실감도 있다.
            - 튕김이 있어서 실제로 블록을 이리저리 미는 것처럼 보인다.
            - 프레이머 모션에 내장된 기능으로 애니메이션에 자연스러움을 더한다.
          - 프레이머 모션을 사용할 때 animate는 가장 중요한 프로퍼티 중 하나이다.
            - 이유는, 선언적으로 요소에 애니메이션을 적용할 수 있기 때문이다.
          - y축으로 움직이는 애니메이션 추가, rotate도 추가
            - `animate={{ x: x, y: y, rotate: rotate }}`
        - transition 프로퍼티
          - 또 다른 중요한 프로퍼티로, 재생될 애니메이션을 설정할 때 사용한다.
          - transition에 객체를 넘겨야 하는데, 이 객체는 다양한 것들이 될 수 있다.
            - ex) duration, type, bounce 등등
          - duration 프로퍼티
            - 값 변화에 적용될 애니메이션의 지속 시간을 설정할 수 있다.
            - ex) `duration: 3`처럼 지정할 수 있다.
            - 이 예시는 3초라는 뜻으로 값을 변경하면 애니메이션이 느리게 진행되며 최종 상태까지 3초가 걸린다.
          - type 프로퍼티
            - 재생될 애니메이션의 타입을 제어할 수 있다.
            - spring은 transition 추가 이전의 기본 타입으로 살짝 튕김을 줘서 자연스러운 느낌을 낸다.
              - `type: "spring"`
            - tween으로 설정하면 spring과 달리 초기 값에서 최종 값까지 물리적 효과가 전혀 없는 단순한 애니메이션이 적용된다.
              - `type: "tween"`
              - tween을 설정하면 어떤 bounce 요소를 설정했든 아무 튕김이 없다.
            - tween을 쓰고 싶을 때도 있지만, 보통 spring을 쓴다.
              - 요소의 위치나 크기에 애니메이션을 넣을 때, 물리적 효과가 있어야 사용자들이 가장 자연스럽다고 느끼기 때문이다.
          - bounce 프로퍼티
            - 튕김 정도를 조절하는 용도
            - `bounce: 1`
            - 1로 지정하면 심하게 튕기게 된다.
            - 0으로 지정하면 안 튕긴다.
            - 0과 1 사이의 아무 값으로 설정해 튕김 정도를 조절할 수 있다.
    - 자세한 코드 [깃허브](https://github.com/jeongsangtae/react-complete-training-animation/commit/2655b0b576c178ef7dc7c44164b1097ff4f5fbda)

# 오늘 느낀 점

- CSS 트랜지션이나 CSS 애니메이션은 예전에 몇 번 사용해본 경험이 있어서 내용을 알고 있지만, 프레이머 모션은 이번에 처음 사용해보는데 잠깐 사용한 느낌으로는 되게 신기한 경험이었다. 보통 앱에 애니메이션을 추가한다면 CSS 파일에서 작업을 해서 애니메이션이 작동하도록 하는데, 프레이머 모션은 컴포넌트 파일에서 추가해서 작동하도록 하는 부분이 신기했던 것 같다. 아직 프레이머 모션의 기초 밖에 배우지 못했지만, 공식 문서에서 예시로 보여주는 내용을 살펴보고 작동해보니 재밌다고 느껴져서 앞으로 프레이머 모션에 대해 배울 내용이 좀 기대된다. 그리고 재미도 재미지만, 기능 부분에서 프레이머 모션이 성능도 뛰어나고, 재렌더링이나 애플리케이션 속도 저하를 일으키지 않고 가능한 최대 성능을 보여주는 부분에서 정말 좋다고 하기 때문에 제대로 배워서 활용해볼 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작 (영화 추천 사이트)

- 거래 명세서 프로젝트 제작 (React, Python, MySQL)

- Python으로 웹 스크래퍼 만들어보기 (조금 뒤로 밀림)

- Python, PHP 공부할 거 찾아보기 (조금 뒤로 밀림)

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기 (조금 뒤로 밀림)

- Python 데이터 분석도 한번 봐보기 (조금 뒤로 밀림)
