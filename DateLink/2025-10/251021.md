# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- CSS 코드 정리 및 사용자 프로필 폼 이미지 관련 내용 추가
  - 여러 CSS 파일에 주석 처리되어 더이상 필요하지 않은 내용을 삭제해 정리하고, 사용자 프로필 폼에 아바타 모드 관련 내용과 아바타 이미지 URL 관련 내용을 추가해 아바타 색 또는 아바타 이미지 URL이 전환되도록 구성하고, 이미지 URL을 넣으면 해당 이미지가 보여지도록 구성 추가
  - 프론트엔드
    - EditUserProfileForm
      - avatarMode useState 추가
        - 초기값은 false로 구성
      - avatarImageUrl useState 추가
        - 초기값은 빈 문자열로 구성
      - avatarModeChangeHandler 함수 추가
        - 아바타 모드가 반대로 전환되도록 구성
      - avatarImageUrlChangeHandler 함수 추가
        - 이미지 URL 모드에서 input에 넣은 이미지 URL을 감지하도록 구성
      - JSX 코드 내용 수정
        - 아바타 헤더 영역
          - avatarMode 상태를 조건부로 사용해 true면 아바타 이미지, false면 아바타 색 텍스트가 보이도록 구성
          - avatarMode 상태를 조건부로 사용해 true면 아바타 색으로 전환하는 버튼, false면 아바타 이미지로 전환하는 버튼이 보이도록 구성
        - 아바타 관련 내용 영역
          - avatarMode 상태를 조건부로 사용해 true면 이미지 미리보기 내용과 이미지 URL을 넣는 입력창이 보이도록 구성
          - avatarMode 상태가 false면 이전에 구성한 아바타 색 변경과 관련된 내용이 보이도록 구성
  - CSS
    - EditUserProfileForm
      - avatar-image-preview
        - 정렬을 위해 display, justify-content, align-items 내용 추가
        - margin-top을 0.5rem으로 구성
      - avatar-image-preview img
        - width, height를 80px로 구성
        - 이미지가 박스에 맞게 잘리면서 꽉 차도록 object-fit을 cover로 구성
        - 원형 아바타로 표시되도록 border-radius를 50%로 구성
        - border에 2px 두께의 회색 테두리 추가
    - Chats
      - date-line::before, date-line::after
        - 배경, 크기 등 주석 처리된 내용 삭제
    - Chat
      - chat-header
        - 정렬 관련 주석 처리된 내용 삭제
      - chat-message
        - 줄바꿈 관련 주석 처리된 내용 삭제
    - ChatInput
      - chat-input-container
        - position, bottom, left, width, z-index 관련 주석 처리된 내용 삭제
      - input-wrapper textarea
        - padding, 배경, border 관련 주석 처리된 내용 삭제
      - input-wrapper button
        - 해당 내용 관련된 className도 없으므로 삭제
      - send-button
        - padding, 배경, right, top, transform, bottom 관련 주석 처리된 내용 삭제
    - DirectChatSideBar
      - sub-sidebar
        - 높이 관련 주석 처리된 내용 삭제
    - DirectChatPanel
      - direct-chat-panel
        - 높이 관련 내용 주석 처리되어 사용하지 않기 때문에 삭제
      - direct-chat-other-info
        - 가로 길이와 공간 차이 관련 내용 주석 처리되어 사용하지 않으므로 삭제
      - direct-chat-other-info-avatar
        - position, top, right 관련 주석 처리된 내용 삭제
      - friend-since-label
        - 정렬 관련 주석 처리된 내용 삭제
      - mutual-group-chat-icon
        - position 관련 주석 처리된 내용 삭제
  - 채팅 관련 CSS 파일과 다이렉트 채팅 관련 CSS 파일을 확인해 주석 처리된 상태로 사용되지 않는 내용을 삭제하고, 사용자 프로필 폼 컴포넌트에 아바타 모드 관련 내용을 추가해 아바타 색 또는 아바타 이미지 URL 내용으로 전환되도록 구성 그리고, 아바타 이미지 URL 관련 내용을 추가해 사용자가 이미지 URL을 넣으며 해당 이미지 미리보기를 볼 수 있도록 구성해 확인한 결과, 채팅 관련 CSS 파일과 다이렉트 채팅 관련 CSS 파일이 좀 더 깔끔해진 것을 확인했고, 사용자 프로필 폼에서 아바타 색 대신 아바타 이미지 URL 내용으로 전환해 이미지 URL을 넣으면 미리보기로 보여지는 것을 확인할 수 있었다.
    - 아바타 이미지 URL을 전달해 저장할 수 있도록 구성 필요
    - 아바타 이미지 URL을 넣었을 때 미리보기로 보여지는 공간에 대한 CSS, 아바타 색과 아바타 이미지 URL 내용에 대한 CSS도 수정 필요
    - 수정한 채팅 목록 구조와 버튼들이 문제없는지 다시 한 번 확인을 해봐야 함
    - 로그인, 회원가입 페이지 배경에 사용되는 여러 이미지를 더 추가해 테스트해봐야 함
    - 해야 할 일에 정리된 내용 처리 필요
    - 아바타에서 단순히 배경색만 변경하는 것이 조금 아쉽다는 생각이 들어서, 이미지 파일 자체를 추가하는 것이 아닌 이미지 URL을 가져와 사용할 수 있도록 구성하는 것을 고려중
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/7800150224f385a0480c5e3759cb8fb12bf05198)

# 오늘 느낀 점

- 채팅 관련 CSS 파일과 다이렉트 채팅 관련 CSS 파일만 정리한 상태라서 추가로 다른 CSS 파일도 확인을 해봐야 하고, 현재 사용자 프로필 폼에서 단순히 정해진 아바타 색으로만 변경하는 것이 아닌, 아바타 이미지 URL을 넣을 수 공간을 만들고 해당 내용으로 전환할 수 있도록 구성한 뒤 이미지 URL을 넣으면 이미지 미리보기가 보여지도록 구성을 해봤는데 이 내용까지는 문제없는 것을 확인했다. 새로운 내용을 추가하면서 UI가 조금 보기 불편한데, 이 내용은 이미지 URL 관련 기능을 다 구성한 뒤에 수정할 생각이고, 이미지 URL을 넣어서 미리보기는 가능하기 때문에 해당 내용을 백엔드와 DB에 전달해 저장할 수 있도록 구성해야 하며, 해당 내용을 불러와 아바타 대신 이미지 아바타가 보이도록 구성해볼 생각이다. 그리고 DB에 저장할 때 기존 아바타 색 데이터를 덮어서 이미지 URL을 저장할 지 아니면 아바타 색은 그대로 남겨두고 아바타 이미지 URL을 별도로 구성해 아바타 이미지 URL이 있을 때만 보여주고, 없을 경우 대체로 아바타 색 내용이 보여지도록 할 지 고민을 해보고 결정을 해줄 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
