# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 채팅 목록 내의 새로운 메시지, 최신 메시지 버튼 조건부 수정 및 알림 배경색 수정 및 로그인, 회원가입 페이지 배경 이미지 CSS 수정, 이미지 추가
  - 새로운 메시지 버튼이 보여지고 스크롤을 내리면 최신 메시지 버튼이 보이지 않도록 조건부를 수정하고, 알림 배경색을 조금 더 어둡게 수정해 레이아웃과 구분이 되도록 구성 그리고 로그인, 회원가입 페이지 배경 이미지 조금 옅게 보여져 모달창이 더 눈에 띄도록 CSS 수정하고 새로운 이미지를 추가해 테스트
  - 프론트엔드
    - assets 폴더
      - 로그인, 회원가입 페이지에 사용될 새로운 이미지 추가
    - AuthLayout
      - assets 폴더에서 background4 이미지 파일을 불러오도록 구성
      - JSX 코드 내용 수정
        - 백드롭 관련 내용 수정
          - 추가한 style 내용을 backgroundImage만 남기고, backgroundSize와 backgroundPosition 그리고 backgroundRepeat 내용은 CSS 파일에서 구성하기 위해 삭제
          - backgroundImage를 추가해 불러온 이미지 파일을 사용하도록 구성
          - backgroundSize를 추가해 cover로 구성
            - 요소 전체 영역을 꽉 채우도록 구성
          - backgroundPosition를 추가해 center로 구성
            - 배경 이미지를 요소의 중앙에 위치시키도록 구성
          - backgroundRepeat를 추가해 no-repeat로 구성
            - 배경 이미지를 한 번만 표시하고 반복하지 않도록 구성
            - 이미지가 요소보다 작더라도 한 번만 표시함
    - Chats
      - handleScroll 함수 수정
        - isAtBottom 변수 추가
          - "scrollTop + clientHeight >= scrollHeight - 1"로 구성
        - isAtBottom를 확인하는 조건부 수정
          - 조건부 내용이 true일 경우 기존 내용 그대로 유지
          - else if를 추가해 조건부는 "!isAtBottom && !showNewMessageButton"로 구성
          - 스크롤이 최하단에 있지 않거나, 새로운 메시지 버튼이 보이지 않을 경우 최신 메시지 버튼이 보이도록 구성
          - 반대로 새로운 메시지 버튼이 보인다면 해당 else if문은 실행되지 않아서 최신 메시지 버튼이 보이지 않게 됨
  - CSS
    - AuthLayout
      - backdrop
        - background-size를 cover로 구성
        - background-position를 center로 구성
        - background-repeat를 no-repeat로 구성
      - backdrop::before
        - content는 ""로 구성
        - position은 absolute로 구성
        - inset은 0, 배경색은 별도로 추가하지 않고 투명도를 0.5로 구성
        - z-index를 0으로 구성
      - modal
        - z-index를 1로 구성
    - Notification
      - notification-item
        - 배경색을 조금 더 어둡게 구성
  - 채팅 목록에서 새로운 메시지가 추가되면 새로운 메시지 버튼이 보여지고 그 다음 스크롤을 내리면 최신 메시지 버튼이 함께 보여지는데 해당 문제를 해결하기 위해 조건부를 수정하고, 알림 배경색을 조금 더 어둡게 구성해 다른 레이아웃 내용과 구분이 되도록 수정하고, 로그인과 회원가입 페이지 배경에 사용될 새로운 이미지를 추가해 확인하고 인라인 스타일로 구성된 CSS 내용을 CSS 파일에 옮기고 이미지가 조금 눈에 덜 띄도록 CSS를 수정해 확인한 결과, 새로운 메시지가 추가되어 버튼이 보여질 때 스크롤을 내리면 더이상 최신 메시지 버튼이 보이지 않는 것을 확인했고, 알림 배경색도 좀 더 어두워져 눈에 띄는것을 확인했으며, 로그인과 회원가입 페이지 배경에 사용될 새로운 이미지를 추가한 뒤 투명도를 조금 수정한 내용이 이전보다 더 나은 UI로 보이는 것을 확인할 수 있었다.
    - 로그인, 회원가입 페이지 배경에 사용되는 이미지가 이전보다 나은 것 같긴한데, 개인적인 생각이라서 다른 이미지도 더 추가해 생성해보고 확인해봐야 함
    - 그룹 채팅방 삭제 시에 바로 삭제되지 않고 확인을 위한 창이 한 번 띄워진 다음 삭제 버튼 클릭하면 삭제되도록 수정해야 함
    - 콘솔창이 켜진 상태에서 채팅 목록 내의 새로운 메시지 버튼 크기가 조정되지 않아서 UI가 깨지기 때문에 수정 필요
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/7d5546fce2c9e6f27f30fda0b29d5d230b5c4522)

<br />

- 그룹 채팅방 삭제 관련 확인창 컴포넌트와 내용 추가 및 그룹 채팅방 스토어, 모달 스토어, 인증 스토어 타입 정의 수정
  - 그룹 채팅방 삭제 시에 바로 삭제되지 않고 확인창을 통해 삭제될 수 있도록 그룹 채팅방 확인창 컴포넌트를 추가해 기본 구성을 해놓고, 이와 관련된 모달 스토어에서 수정한 내용으로 인해 타입 에러가 발생하면서 연관된 그룹 채팅방 스토어, 인증 스토어 모두 타입 정의를 수정해 타입 에러 처리
  - 프론트엔드
    - authStore
      - AuthStore 타입 정의에 구성된 editUserProfileForm 내용 수정
        - modalData 내용의 method 타입 에러가 발생하지 않도록 "DELETE"를 추가
    - modalStore
      - ModalStore 타입 정의에 구성된 modalData, toggleModal 내용 수정
        - method 타입 에러가 발생하지 않도록 "DELETE" 추가
    - groupChatStore
      - GroupChatStore 타입 정의에 구성된 groupChatForm, groupChatAnnouncementForm, groupChatAnnouncementDelete 내용 수정
        - modalData 내용의 method 타입 에러가 발생하지 않도록 "DELETE"를 추가
    - GroupChat
      - GroupChatConfirm 컴포넌트 불러와 구성
      - useModalStore Zustand에서 activeModal 상태를 불러오도록 구성
      - 테스트용 groupChatConfirmHandler 함수 추가
        - toggleModal 액션에 groupChatConfirm, DELETE, \_id 내용 전달하도록 구성
      - JSX 코드 내용 수정
        - 확인창 여는 테스트 버튼 추가
          - onClick을 추가해 groupChatConfirmHandler로 구성
        - activeModal 상태와 "groupChatConfirm"가 일치하는지 확인하는 조건부 추가
          - 일치할 경우, GroupChatConfirm 컴포넌트 내용이 보여지도록 구성
          - GroupChatConfirm 컴포넌트에 onToggle props를 통해 toggleModal 액션을 전달하도록 구성
          - "groupChatConfirm" 내용을 toggleModal 액션에 포함해 전달
    - GroupChatConfirm
      - useModalStore Zustand에서 modalData 상태를 불러오도록 구성
        - 불러오고 아직 구성은 하지 않음
      - useGroupChatStore Zustand에서 deleteGroupChat 액션을 불러오도록 구성
        - 불러오고 아직 구성은 하지 않음
      - JSX 코드 내용 추가
        - Modal 컴포넌트를 래퍼로 구성하고 onToggle props를 추가해 onToggle 내용이 전달되도록 구성
        - 제목과 설명 그리고 삭제와 취소 버튼으로 구성
  - 그룹 채팅방 우클릭 시에 수정, 삭제 또는 나가기 그리고 확인창 여는 테스트 버튼이 보여지도록 구성하고, 해당 버튼 클릭 시에 삭제 확인창이 뜨도록 구성을 해주었으며 여러 Zustand 내용에 modalData 관련 타입 에러가 발생하지 않도록 수정하고 확인한 결과, 그룹 채팅방을 우클릭 하면 확인용 버튼이 보여지며 해당 버튼 클릭 시 모달창이 띄워지는 것을 확인했지만 아직 내용이 제대로 구성되지 않아서 기능이 작동하지 않는 것을 확인했고, 다른 내용에서 새롭게 추가한 DELETE method 관련 타입 에러는 더이상 발생하지 않는 것을 확인할 수 있었다.
    - 로그인, 회원가입 페이지 배경에 사용되는 여러 이미지를 더 추가해 테스트해봐야 함
    - 그룹 채팅방 삭제 확인창 관련 로직을 구성해야 함
    - 콘솔창이 켜진 상태에서 채팅 목록 내의 새로운 메시지 버튼 크기가 조정되지 않아서 UI가 깨지기 때문에 수정 필요
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/b90ccb6c24397e9ca502b72075019c670831c949)

# 오늘 느낀 점

- 채팅 목록에서 새로운 메시지 버튼이 보여지면 최신 메시지 버튼이 동시에 보이지 않도록 내용을 수정하고, 알림 배경색도 수정해 좀 더 눈에 띄도록 해주었으며 로그인과 회원가입 페이지 배경에 사용될 새로운 이미지도 추가한 뒤 투명도를 조절해주었는데 이 내용은 이전보다 확실히 나아지긴 했지만 더 적절한 이미지가 있는지 확인을 해봐야 할 것 같고, 그룹 채팅방 삭제 시에 확인창이 보여지기 위해 대충 구조와 수정된 타입 정의 관련 에러가 발생하지 않도록 내용을 구성했지만 아직 제대로된 로직이 추가되지 않은 상태로 모달창만 보여지고 있기 때문에 추가 수정을 해줄 생각이다. 이제 그룹 채팅방 삭제 확인을 위한 모달창이 정상적으로 작동될 수 있도록 로직을 추가해야 하고, 로그인과 회원가입 페이지 배경에 사용될 이미지도 더 추가해 테스트해볼 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 출력되는 채팅 메시지 목록에 스크롤 관련 내용을 추가 수정해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
