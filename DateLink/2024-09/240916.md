# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 메인헤더, 관리자 메인헤더 NavLink 내용 분리
    - 메인헤더, 관리자 메인헤더 컴포넌트에서 사용중인 NavLink 컴포넌트 내용을 별도의 컴포넌트 파일로 분리하면 재사용할 수 있고, 중복되는 부분을 줄일 수 있다고 생각되어서 NavigationLinks 컴포넌트 파일을 추가하고 NavLink 내용을 조건부로 구성해서 재사용될 수 있도록 구성해주었다.
    - 프론트엔드 구성
      - NavigationLinks
        - AuthContext API 내용을 추가
        - navLinkPath 변수를 추가
          - NavLink 컴포넌트의 to 내용이 조건부로 다르게 적용되도록 구성
          - Context API에 저장된 사용자 역할을 확인하고 관리자 계정일 경우, "/admin"으로 이동하고 아닌 경우에는 ""로 이동하도록 구성
        - NavLink 홈, 게시판, 사용자 버튼의 to에는 navLinkPath 변수에 필요한 추가 경로가 적용되도록 구성
          - 게시판의 경우 "/posts"
          - 사용자의 경우 "/users"
        - NavLink 버튼의 className 내용은 사용되는 컴포넌트에서 navLinkClass라는 prop을 전달 받아서 사용될 수 있도록 구성
        - 관리자 메인헤더의 경우 홈, 게시판, 사용자로 구성되어 있기 때문에 사용자 버튼은 Context API에 저장된 사용자 역할을 확인하고 관리자 계정일 경우에만 보여지도록 구성
      - MainHeader, AdminMainHeader
        - 기존의 NavLink 컴포넌트 대신에, NavigationLinks 컴포넌트 하나만 사용될 수 있도록 구성
        - NavigationLinks 컴포넌트에 navLinkClass prop을 추가해서 className 내용을 전달
    - 별도로 분리한 NavLink 컴포넌트 내용이 메인헤더와 관리자 메인헤더에서 문제없이 보여지는 것을 확인할 수 있었고, to 내용을 조건부로 적용시키는 내용에서 조금 오류가 있었으나, 이 문제 또한 수정해서 문제없이 작동되는 것을 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/a01bf9da87a31f24553a292103a9cad7094c18a2)

  <br />

  - 모바일 환경의 프로필 페이지 조건부, CSS 수정 및 AdminSearch 컴포넌트, CSS 파일 삭제
    - 사용자 페이지의 프로필 페이지 내용이 모바일 환경에서는 조건부로 구조가 변경되어 보여지고 있는데, 조건부가 전체로 적용되어서 중복되는 코드가 있는 상태로 구조가 변경되기 때문에, 코드 중복을 줄이고 변경되는 내용에서만 조건부가 사용될 수 있도록 수정해주고 그에 맞춰서 CSS 내용 또한 수정해주었으며, 관리자 페이지의 게시글 목록에서 검색 기능을 AdminSearch 컴포넌트를 사용하는 것이 아닌, Search 컴포넌트를 재사용해서 구성했기 때문에 AdminSearch 컴포넌트와 CSS 파일을 삭제해주었다.
    - 프론트엔드 구성
      - AdminSearch
        - 이 컴포넌트 대신에 Search 컴포넌트를 재사용하므로, 해당 파일 삭제
      - AdminPostDetails
        - 주석 처리하고 사용하지 않는 변수 삭제
      - Profile
        - 페이지 제목과 게시글 총 갯수가 보여지는 부분에서만 조건부를 적용해서 데스크탑 환경일 때는 기존의 구조가 보여지도록 구성해주고, 모바일 환경에서는 달라지는 구조 내용이 보여지도록 구성
        - 밑줄 부터 게시글이 존재하지 않을 때 보여지는 텍스트, 검색과 페이지네이션 기능은 구조가 달라지지 않기 때문에 하나의 내용만 구성해서 데스크탑 환경과 모바일 환경에서 사용될 수 있도록 구성
          - 달라지는 구조에서 페이지 제목과 게시글 총 갯수가 하나의 div에 포함되어 구성되기 때문에, 별도의 className을 적용시켜 다른 CSS가 적용되도록 구성
          - 해상도에 따라서 크기 관련 CSS 내용이 달라질 수 있도록 미디어 쿼리를 사용
    - CSS 구성
      - AdminSearch
        - 컴포넌트 파일이 삭제되면서, 더 이상 해당 CSS 파일이 함께 사용되지 않기 때문에 삭제
      - Profile
        - sub-menu를 post-count로 변경
          - 내용은 그대로 유지
        - posts
          - text-align: center 내용을 삭제
          - 이 내용으로 인해, 게시글 내용의 작성자 이름 위치가 가운데 위치하기 때문에 삭제
        - 기존의 모바일 환경 CSS를 미디어 쿼리 내용으로 이동
        - 해상도 767px에 적용될 미디어 쿼리 수정
          - 페이지 제목과 총 게시글 갯수를 묶는 div class 추가
            - 양 쪽 끝에 내용들이 위치하도록 justify-content: space-between 사용
            - 좌우 margin 내용 수정
          - heading
            - margin을 0으로 구성해서 기존의 heading margin이 적용되지 않도록 구성
            - 폰트 크기 축소
          - post-header p
            - 폰트 크기 축소
        - 해상도 420px에 적용될 미디어 쿼리 수정
          - post-header
            - 좌우 margin 축소
          - heading, post-header p
            - 폰트 크기 축소
    - 사용자 페이지의 프로필 페이지에서 사용되는 해상도 관련 조건부 내용 위치가 변경되면서 중복되는 코드를 줄일 수 있었고, CSS 내용 또한 코드가 줄어든 것을 확인할 수 있었다. 그리고 추가로 드롭다운 메뉴 컴포넌트나, 다른 컴포넌트에서 구조를 더 간단하게 해줄 내용이 있는 지 찾아봤으나, 딱히 없다고 생각되어서 남은 Posts와 Post 컴포넌트 내용만 관리자 페이지에서 작업한 것처럼 수정해주면 될 것 같다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/0fa724acc61bc64ac8d834a69c70b12373e7197e)

<br />

- 추가 및 해결 해야 할 내용
  - 컴포넌트를 분리해줄만한 곳이 있는지 확인해봐야 함
    - 컴포넌트 분리만이 아닌, 조건부나 이런 내용에서 중복된 부분을 줄이고 코드 가독성을 향상 시켜줘야 함
  - 마지막 기능 추가로, 관리자 권한을 부여하는 내용을 생각하고 있음
    - 가입할 때는 일반 사용자로 가입을 할 수 있고, admin 관리자 계정으로 관리자 페이지에서 관리자 권한을 부여하는 내용을 생각 중
  - 반응형 관련된 작업 구성
    - 관리자 페이지를 제외한 사용자 페이지 완료
    - 관리자 페이지도 완료
  - 새롭게 발견한 문제
    - 관리자 채팅의 사용자 리스트에서 사용자와 나눈 마지막 메시지 내용을 가져오는데, 이 때 새로고침을 하지 않으면 당장 채팅을 나눠도 실시간으로 마지막 메시지가 갱신되지 않아서 새로운 메시지가 있는 지 확인할 수 없기 때문에 추가하는 것도 고려해야 함
    - 한편으로는, 관리자 채팅이라서 사용자가 겪는 불편함이 아니기 때문에 그냥 놔두는 것도 고려 중

# 오늘 느낀 점

- 메인헤더와 관리자 메인헤더 컴포넌트에서 사용되는 NavLink 컴포넌트 내용을 별도의 컴포넌트로 분리해주고 재사용될 수 있도록 구성해주었는 데, 문제없이 작동되며 이전보다 코드가 좀 줄어들면서 좀 더 가독성이 좋아졌다고 생각이 된다. 그리고 사용자 페이지의 프로필 페이지 내용에서 전체 내용에 해상도 관련 조건부를 사용하는 것이 아닌, 구조가 변경되는 부분에서만 조건부를 적용해서 중복되는 코드를 제거해줬는데, 이전보다 코드 구성이 깔끔해져서 코드를 읽기도 더 쉬워졌다고 생각이 된다. 관리자 페이지의 게시글 목록과 게시글 내용에서 해상도 관련 조건부 내용 위치가 변경된 것처럼 사용자 페이지의 게시글 목록과 게시글 내용에서도 작업을 해줘야 하고, 추가로 다른 해상도 관련 조건부가 적용된 컴포넌트에서도 내용을 수정해서 코드를 줄일 수 있는 지 확인이 필요하다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
