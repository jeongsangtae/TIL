# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 메인헤더 컴포넌트 NavLink 이름, CSS 수정 및 드롭다운 메뉴 컴포넌트 토글 함수, content class에 조건부 렌더링, 모바일 드롭다운 내용 CSS 추가
    - 메인헤더 컴포넌트에서 사용되는 NavLink class 이름을 수정해서 모두 적용시키고, hover 내용은 모바일에서 필요없기 때문에 삭제해주고, 모바일에서 드롭다운 메뉴 내용이 메인헤더 항목 안에 보여지는 것이 아닌 바깥에서 보여질 수 있도록 구성해주고, 드롭다운 메뉴 컴포넌트에 드롭다운 메뉴 내용이 열리고 닫히도록 함수를 추가하고, 모바일 환경에서 적용되도록 구성해놓은 className을 변수로 구성해서 JSX 코드에서는 단순하게 보이도록 해주고, 모바일 환경에서 다른 CSS가 적용되도록 내용을 추가해주었다.
    - 프론트엔드 구성
      - MainHeader
        - desktopClass에서 desktopNavLinkClass로 변경 후 적용
        - mobileClass에서 mobileNavLinkClass로 변경 후 적용
      - DropDownMenu
        - 드롭다운 메뉴가 클릭 시 열리고 닫히는 것을 구성하기 위해서 함수와 useState 추가
          - 함수에서 모바일 환경인 지 확인하고 토글이 적용되도록 구성
          - 데스크탑 환경에서는 커서를 올리면 드롭다운 메뉴가 열리기 때문에 클릭 함수가 적용되지 않도록 구성
        - 드롭다운 메뉴 내용에 적용되는 className이 해상도 환경에 따라서 다른 className이 적용되도록 조건부를 추가 해주고, 토글 내용에 따라서 드롭다운 메뉴 내용이 보이도록 조건부를 추가
        - 모바일 환경에서 드롭다운 메뉴 내용이 전체적으로 메인헤더 항목 UI와 비슷한 구조를 가지도록 className에 조건부 추가
    - CSS 구성
      - MainHeader
        - is-mobile
          - z-index 수치를 줄여서 로그인이나 회원가입 모달 위로 메인헤더 항목이 보이지 않도록 구성
          - 드롭다운 메뉴 내용이 메인헤더 항목 내부에서 보이지 않고 바깥쪽에서 보이도록 overflow: hidden 내용을 삭제
          - overflow: hidden으로 인해 강제로 안에서 보이게 됨
        - 모바일 환경에서는 hover 내용이 필요없기 때문에 삭제
      - DropDownMenu
        - is-mobile
          - 메인헤더에서 사용되는 CSS를 가져와서 적용했으나, 생각했던 UI와 많이 다르고 굳이 필요없다고 생각되어서 주석 처리
        - mobile-dropdown-content
          - 드롭다운 메뉴 내용이 메인헤더 항목과 조금 간격을 유지한채로 보여지고, 해당 내용이 중앙에 위치해서 출력될 수 있도록 구성
          - position, top, left, transform, width, padding, 등 내용을 추가
          - 열릴 때 아래로 슬라이드되는 느낌을 적용하기 위해서 애니메이션 추가
        - display-none
          - 드롭다운 메뉴를 토글하는 내용이 false 되었을 때, 데스크탑 환경의 드롭다운 메뉴가 보여지지 않기 위해서 display: none을 추가
    - 수정한 CSS가 모두 이상없이 적용된 것을 확인할 수 있었고, 드롭다운 메뉴에서 추가한 드롭다운 메뉴를 토글하는 내용과 className을 조건부로 변화되는 내용이 문제없이 작동되는 것도 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/74ec372169b239913b9a432b2781ecf7805118a9)

  <br />

  - 메인헤더 컴포넌트 드롭다운 버튼 className, CSS 수정 및 드롭다운 메뉴 컴포넌트 테마 모드, 드롭다운, 사용자 원과 관련된 모바일 환경 className, CSS 추가
    - 메인헤더 컴포넌트의 드롭다운 버튼 className 변수가 해상도에 따라서 다른 내용이 적용되도록 조건부를 추가하고 그에 따라서 CSS도 변화하도록 해주었으며, 드롭다운 메뉴 컴포넌트에서 테마 모드 전환, 드롭다운 전체 틀, 사용자 배경 원 내용이 모바일 환경에서는 className이 추가되며 그에 따라서 CSS 내용도 추가되어 UI 구성이 되도록 해주었다.
    - 프론트엔드 구성
      - MainHeader
        - 드롭다운 버튼 className 변수가 해상도에 따라서 다른 className이 적용되도록 구성
          - 데스크탑 환경은 기존의 className 적용
          - 모바일 환경이라면 새롭게 추가한 className이 적용
      - DropDownMenu
        - 테마 모드 전환 버튼에 모바일 환경에서는 className이 추가되도록 조건부 추가
        - 테마 모드 전환에 따라서 라이트 모드와 다크 모드 텍스트가 변화되도록 구성
        - 드롭다운 메뉴 전체 틀 className에서 더 이상 사용되지 않는 "is-mobile" className을 삭제하고, 모바일 환경에서 className이 추가되도록 조건부 추가
    - CSS 구성
      - MainHeader
        - is-mobile
          - 배경색 수정 및 border를 추가해서 테두리 선 구성
          - 로그인과 회원가입 모달 백드롭 클릭 시 닫히도록 z-index를 추가로 수정
        - mobile-button
          - 메인헤더 항목 버튼이 딱 버튼만 클릭되었을 때 이동하도록 width 내용을 삭제
        - button.mobile
          - 다크 모드 색 추가
        - mobile-dropdown-button
          - 모바일 환경에서 드롭다운 버튼들이 조금 다른 UI를 가지도록 margin, font-size, width 수정
        - 메인헤더 항목이 열릴 때 좀 더 부드럽게 열리도록 애니메이션 수정
      - DropDownMenu
        - is-mobile
          - 사용되지 않는 코드이기 때문에 삭제
        - toggle-button.mobile
          - 모바일 환경에서의 테마 모드 변경 내용이 위치가 맞지 않아서 중앙에 최대한 맞도록 margin-left 추가
        - dropdown.mobile
          - 드롭다운 메뉴 버튼이 기존의 CSS에서는 margin-left가 적용되어서 다른 버튼과 간격이 적용되어 있지만, 모바일 환경에서는 오른쪽으로 치우쳐진 상태이기 때문에 margin-right를 추가해서 중앙에 위치하도록 구성
        - mobile-dropdown-content
          - 배경색과 다크 모드 배경색 추가
        - mobile-icon
          - margin-right로 인해 오히려 오른쪽으로 치우쳐지기 때문에 삭제
    - 모바일 환경에서 추가되는 className이 문제없이 적용되어서 수정한 CSS가 정상적으로 적용되는 것을 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/b20b93c5e57898d0920e3ba71723bd69ac620e4d)

<br />

- 추가 및 해결 해야 할 내용
  - 컴포넌트를 분리해줄만한 곳이 있는지 확인해봐야 함
    - 컴포넌트 분리만이 아닌, 조건부나 이런 내용에서 중복된 부분을 줄이고 코드 가독성을 향상 시켜줘야 함
  - 마지막 기능 추가로, 관리자 권한을 부여하는 내용을 생각하고 있음
    - 가입할 때는 일반 사용자로 가입을 할 수 있고, admin 관리자 계정으로 관리자 페이지에서 관리자 권한을 부여하는 내용을 생각 중
  - 반응형 관련된 작업 구성
    - react-responsive 라이브러리를 추가해서, 적용이 되는 지 테스트를 진행
      - 완료
    - 해상도에 따라서 다른 내용의 JSX 코드가 보여지도록 구성해야 함
  - 새롭게 발견한 문제
    - 관리자 채팅의 사용자 리스트에서 사용자와 나눈 마지막 메시지 내용을 가져오는데, 이 때 새로고침을 하지 않으면 당장 채팅을 나눠도 실시간으로 마지막 메시지가 갱신되지 않아서 새로운 메시지가 있는 지 확인할 수 없기 때문에 추가하는 것도 고려해야 함
    - 한편으로는, 관리자 채팅이라서 사용자가 겪는 불편함이 아니기 때문에 그냥 놔두는 것도 고려 중

# 오늘 느낀 점

- 메인헤더와 드롭다운 메뉴에 대한 반응형 작업이 얼추 끝난 것 같은데, 엄청 화려하게 UI를 구성하지 않고 그냥 모바일의 작은 화면에서 버튼들이 짤리지 않고 최대한 잘 보이도록 해주었으며, 사용할 수 있는 버튼은 모두 보여지도록 구성을 해주었다. 추가로 테스트해본 결과, 모바일 환경에서 채팅 버튼이 메인헤더 항목에 보이기 때문에 이 위치를 수정해줘야 하고, 메인 헤더의 로고와 햄버거 버튼이 점점 작아지는 해상도에 따라서 양쪽 끝에 위치할 수 있도록 내용을 구성해줘야 할 것 같다. 이 내용들을 구성하면 이제 게시글 목록 페이지를 수정할 생각인데, 여기서는 전체적으로 조건부 렌더링을 적용해서 모바일 환경에서는 게시글들이 한 줄씩 보여지도록 구성을 해줄 생각이다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
