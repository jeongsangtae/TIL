# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 채팅 관련 날짜 데이터 라인 CSS 수정
  - 채팅 목록에서 날짜 별로 채팅 목록을 구분하는데, 이 때 보여지는 날짜 내용 양 옆에 실선을 추가해 더 명확하게 구분할 수 있도록 수정
  - CSS
    - Chats
      - date-line
        - 정렬을 위해 display, align-items, justify-content 추가
        - 폰트를 두껍게 구성하고 색은 밝은 회색계열로 구성
        - margin-top을 1.5rem으로 수정하고, gap은 0.5rem으로 구성
      - date-line::before, date-line::after
        - 실선이 보여지도록 content 추가
        - flex는 1로 구성
        - height는 1px로 구성
        - border-top을 1px, solid로 구성하고 실선으로 보이도록 rgba로 구성해 128, 128, 128, 0.2로 구성
        - 배경색을 추가하고, transform과 transform-origin으로 비슷하게 구성할 수는 있지만, 이 내용으로 구성하면 실선이 중앙에서 좀 아래로 내려온 것처럼 보이기 때문에 border-top을 사용해 구성
  - 채팅 목록에서 날짜 데이터로 구분하는 내용에 실선이 보이도록 구성하고 확인한 결과, 양 옆으로 실선이 보여지며 이전보다 훨씬 깔끔하게 구분되는 것을 확인할 수 있었다.
    - 사용자 정보를 수정하는 공간에 아바타 배경색을 수정하는 내용을 추가하고, 배경색 중에 선택해 고를 수 있도록 관련 내용을 추가하는 방향으로 생각중
    - 닉네임 수정과 마찬가지로 아바타 배경색을 수정하면 동시에 관련된 내용에서 업데이트되고, 실시간 반영까지 되어 보여지도록 구성하는 내용도 추가 필요
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/ab19302b07b038a1ec5768cf7b39dd768c5078a7)

<br />

- 사용자 아바타 색 수정하는 내용 추가 (간단한 구성만 추가)
  - 닉네임을 수정하는 컴포넌트 내용에서 아바타 색 목록이 텍스트가 아닌 색상이 나열되어 보여지도록 구성하고, 닉네임 수정과 아바타 색을 함께 수정할 수 있도록 간단한 구성 추가
  - 프론트엔드
    - EditNicknameForm
      - 컴포넌트 이름을 변경해야 함
        - ex) EditProfileForm 같은 포괄적인 이름으로 변경할 예정
      - avatarColors 배열 추가
        - 20가지의 아바타 배경색이 들어간 배열 내용
      - avatarColor useState는 추가했으나 주석 처리
        - 아직 관련 로직 구성을 하지 않은 상태라서 현재는 주석 처리
      - JSX 코드 내용 수정
        - 사용자 닉네임 변경 텍스트를 프로필 수정으로 변경
          - 앞으로 사용자 닉네임만이 아닌, 아바타 배경색도 함께 수정할 예정이기 때문에 좀 더 포괄적인 이름으로 변경
        - 이전 닉네임 텍스트를 닉네임으로 변경
        - 아바타 색상과 관련된 내용 추가
          - 20가지 색 배열에 map 사용
          - type은 button으로 구성하고, key는 20가지 색 코드가 하나씩 들어가도록 구성
          - style
            - backgroundColor에 20가지 색 코드가 들어가도록 구성
            - width, height는 2rem으로 구성
            - borderRadius는 50%로 구성
            - border는 사용자 정보 아바타 배경색을 확인해 20가지 색 코드중 일치하는 내용에 2px solid black을 추가하고, 일치하지 않는 내용은 none으로 구성
          - style 내용중 정적으로 구성된 내용은 CSS 파일에 옮겨야 함
  - 닉네임 수정하는 컴포넌트에 아바타 색 목록과 기본 구성을 추가해 확인한 결과, 수정 아이콘을 클릭하면 닉네임 수정 내용 아래에 아바타 색 목록이 보여지는 것을 확인할 수 있었다.
    - 아바타 색 수정과 관련된 내용은 현재 기본적인 구성만 추가된 상태이기 때문에, 수정과 관련된 로직을 추가해 테스트해봐야 함
    - 별도의 컴포넌트로 아바타 색을 수정하는 것도 고려를 했으나, 하나의 컴포넌트에서 2개의 내용을 함께 제출하는 것이 더 나은 방법이라고 생각되어 선택했고, 모달 형태로 구성된 내용을 페이지로 나누는 것도 고려했으나 굳이 페이지로 변경할 필요가 없다고 생각되어 모달 형태로 진행할 예정
    - 닉네임 수정 컴포넌트의 이름을 좀 더 포괄적인 이름으로 변경하고, 아바타 색 변경과 관련된 로직을 추가해 클릭한 아바타 색 내용이 닉네임 수정 내용과 함께 전달되도록 구성해야 함
    - 닉네임 수정과 마찬가지로 아바타 배경색을 수정하면 동시에 관련된 내용에서 업데이트되고, 실시간 반영까지 되어 보여지도록 구성하는 내용도 추가 필요
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/3f52ef78a2d8ebcb523be2a18b342ec90ccb9977)

# 오늘 느낀 점

- 채팅 목록에서 보여지는 날짜로 구분하는 내용 양 옆에 실선이 보여져 좀 더 명확하게 구분되도록 구성하고, 닉네임 수정하는 컴포넌트에 아바타 색 관련 내용을 추가해 수정 아이콘을 클릭하면 아바타 색 배열 내용이 보여지도록 구성해주었다. 아바타 색 수정과 관련된 로직이 아직 구성되어 있지 않기 때문에, 관련 로직을 추가해야 하는데 아바타 색 목록에서 현재 아바타 색은 검정색 테두리로 보여지고 있기 때문에, 선택한 아바타 색은 흰색 테두리로 보여져 선택한 것을 알 수 있도록 구성해야 하고, 수정한 데이터를 전달할 때 선택한 아바타 색이 함께 전달되거나 아바타 색을 따로 선택하지 않은 상태라면 기존 사용자 정보에 저장된 아바타 색을 전달하도록 구성할 생각이다. 그리고 현재 아바타 색 목록이 한 줄로 쭉 나열되어 보여지고 있는데 이 내용을 4개 또는 5개씩 끊어서 다음 줄에 보이도록 구성해봐야 하고, 아바타 색 목록에서 색 내용만 보여지는 것이 아닌 사용자 닉네임 첫 글자가 함께 보이도록 구성해, 아바타 색을 수정하면 어떻게 보여질지 미리보기가 되는 것도 구성하면 좋을 것 같아서 추가할 생각이다. 이 외에 구성하면서 추가로 더 필요할 것 같은 내용은 생각나는 대로 추가할 생각이며, 최대한 빠르게 구성해 동시에 여러 내용에서 업데이트되고 실시간 반영까지 되도록 구성해 볼 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 서브 사이드바 관련 UI 수정 필요

- 아바타 배경색 관련 여러 내용 추가 필요

- 닉네임 수정 시에 공백으로 제출하면 alert를 통해 에러 메시지 출력이 아닌, 다른 방법으로 표시하도록 수정 필요

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 로그아웃 버튼 등 여러 버튼들이 텍스트가 아닌 아이콘으로 보여지도록 수정 필요

- 그룹 채팅방은 그룹 채팅방에 참여한 사용자 목록이 사이드바 옆으로 보여지고, 그 옆에 채팅 관련 내용이 보여지도록 수정 필요

- 출력되는 채팅 메시지 목록에 스크롤을 추가해 보기 편하도록 변경해야 하고, 메시지가 언제 추가되었는지 구분할 수 있도록 저장된 날짜 데이터를 불러와 표기해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 삭제 시에 다이렉트 채팅방 삭제 확인 로직 필요 (친구 삭제 시에 다이렉트 채팅방을 그대로 남겨놓고 삭제 확인창은 따로 추가하지 않을 예정)

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 그룹 채팅방 초대하고 알림을 전송하는 기능에서, 로그인한 사용자가 아닌 친구에게 보내는 그런 구조로 작동되도록 수정이 필요 (비로그인 상태여도 상관이 없음 단순하게 친구한테 친구 요청하면 알림 메시지가 전달되어야 함)

- 추가된 친구와 대화를 나눌 수 있는 다이렉트 채팅방 (진행중)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
