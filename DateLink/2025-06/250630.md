# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 닉네임 공백 관련 내용 수정 및 제출 버튼 활성화, 비활성화 CSS 추가 및 아바타 색 관련 CSS 내용 수정 및 아바타 색 테두리, 높이, 너비 조건부 수정
  - 닉네임 공백과 관련된 에러를 alert가 아닌 닉네임 수정 입력창 아래에 표시되도록 수정하고, 입력창이 공백인 상태에서 엔터키를 누르면 제출되는 문제도 함께 수정해 주었으며, 제출하는 수정 버튼 활성화와 비활성화 관련 CSS를 추가해 공백 관련 문제를 추가로 방지하고, 아바타 색 관련된 테두리, 높이, 너비 내용이 조건부로 다른 CSS가 적용되도록 내용을 구성해 기존의 인라인 방식은 삭제하고, CSS 내용을 수정해 처리되도록 구성
  - 프론트엔드
    - EditUserProfileForm
      - errorMessage useState 추가
        - 초기값은 빈 문자열로 구성
        - 닉네임 수정 입력창에서 공백 관련 문제가 발생하거나, 제출하려고 할 때 공백 관련 문제가 발생하면 해당 useState로 메시지 내용이 넘어와 저장
      - inputChangeHandler 함수 수정
        - value 변수를 추가하고 event.target.value로 구성
        - setNickname을 통해 value 변수 내용이 전달되도록 구성
        - 공백 관련 확인 후 에러 메시지 저장하는 조건문 추가
          - `value.trim().length < 2`로 공백 제거 후에 길이가 2보다 작을 경우 setErrorMessage를 통해 에러 메시지를 업데이트
          - 위 조건문이 false일 경우, 빈 문자열로 업데이트
      - submitHandler 함수 수정
        - trimmedNickname 확인하는 조건문 수정
          - `trimmedNickname.length < 2`로 공백 제거 후에 길이가 2보다 작을 경우 setErrorMessage를 통해 에러 메시지를 업데이트하고, return을 통해 종료하도록 구성
          - 에러 메시지가 계속 존재할 경우, return에 의해 제출되지 않으므로 엔터 키를 클릭해도 공백인 상태로는 제출 불가능
      - JSX 코드 내용 수정
        - errorMessage를 조건부로 사용해, true일 경우 에러 메시지를 출력하도록 구성
          - error className 추가
        - 아바타 색 목록에 avatar-color-list className 추가
        - 아바타 색 버튼 className 수정
          - avatar-color-button은 기본으로 들어가고, `avatarColor === color`를 조건부로 사용해 true일 때 selected className이 추가되고, false일 경우 빈 문자열이 추가되도록 구성
        - style 내용 수정
          - selected className이 추가되어 조건부로 사용되면서 style에 구성된 border, width, height는 필요없으므로 삭제
        - 제출 버튼 submit-button className 추가
  - CSS
    - EditUserProfileForm
      - error
        - 색은 빨간색 계열로 구성
        - 폰트 크기는 0.85rem, margin-top은 0.25rem으로 구성
      - avatar-color-list
        - display를 grid로 구성
          - 아바타 색 목록을 한 줄이 아닌, 5x4 또는 4x5 배열 형태로 출력하기 위한 그리드 스타일 추가
        - grid-template-column을 repeat(5, 1fr)로 구성
          - 5x4로 표시되도록 구성
          - ex) 4x5로 표시하려면 repeat(4, 1fr)로 구성하면 됨
        - 아바타 색 버튼 간의 간격을 위해 gap은 0.5rem로 구성
        - 아바타 색 목록과 다른 내용 간의 간격 및 공간 확보를 위해 padding은 0.5rem으로 구성
      - avatar-color-button
        - width, height 내용을 다시 추가해 2rem으로 구성
        - transition을 추가해 transform 0.15s ease-in-out으로 구성
        - 호버될 때 아바타 색 버튼이 기존보다 조금 커지는 효과를 위해 scale을 1.125로 구성
      - avatar-color-button.selected
        - 선택한 아바타 색 버튼의 크기가 조금 더 커지도록 scale을 1.125로 구성
        - 프론트엔드에서 조건부로 구성한 흰색 테두리 내용을 가져와 구성
      - submit-button
        - 버튼이 오른쪽 끝에 위치하도록 text-align을 end로 구성
        - margin을 0.5rem으로 구성해 간격 추가
      - active
        - 버튼색은 초록색, 텍스트는 흰색으로 보이도록 구성
        - border는 none으로 구성하고, padding 추가
        - 폰트 크기는 0.85rem으로 구성하고 마우스를 올렸을 때 커서가 보여지도록 구성
        - 호버되었을 때 좀 더 진한 초록색이 보여지도록 구성
      - disable
        - 조건부로 인해 false가 되면, 비활성화 되어 클릭하지 못하도록 pointer-events는 none으로 구성
        - 배경색은 어두운 회색 계열로 구성하고, 텍스트는 밝은 회색 계열로 구성
        - border는 none, padding은 active 내용과 동일하게 구성
        - 폰트 크기는 0.85rem, 커서는 default로 구성
  - 공백 관련 문제를 해결하기 위해 닉네임 수정 입력창, 제출하는 함수를 수정하고, 아바타 색 목록이 한 줄로 나열되는 것이 아닌 5x4 배열 형태로 보여지도록 CSS 수정, 그리고 선택한 아바타 색은 별도의 추가된 CSS 내용이 적용되며, 제출 버튼 활성화 및 비활성화 관련된 CSS, 아바타 색 관련 여러 CSS 내용을 추가하고 확인한 결과, 공백 관련된 문제 발생 시에 alert 창이 아닌 입력창 아래에 에러 메시지가 출력되고, 공백만으로 구성된 내용은 엔터키를 눌러도 제출이 되지 않게 되었으며, 아바타 색 목록은 5x4 배열 형태로 보여져 이전보다 훨씬 보기 좋은 UI를 가지게 되었고, 입력된 닉네임 글자 수에 따라 제출 버튼이 활성화되거나 비활성화되어 보여지는 것을 확인할 수 있었다.
    - 공백으로 제출하려고 할 때 발생하는 에러 메시지로 인해 모달창이 늘어나는 문제가 있기 때문에 이에 대한 공간 확보가 필요하며, 전체적인 모달 CSS를 추가해 UI가 더 자연스럽도록 구성해야 함
    - 사용자 정보 수정만이 아닌, 그룹 채팅방 친구 초대 같은 다른 모달창 CSS도 제대로 구성되지 않아서 UI가 많이 불편하기 때문에 이와 관련해 CSS 내용을 추가해줘야 함
    - 할 일을 정리해놓은 내용에서 처리된 내용은 삭제해 어떤 내용이 남아있는지 확인 필요
    - 아바타가 사용되는 곳에서 사용자 온라인, 오프라인 여부를 표시할 수 있는지 확인하고 처리해야 함
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/18aba4c34102ab9f85d6bf2fb40d852dabc42aaf)

# 오늘 느낀 점

- 닉네임 수정창과 제출하는 내용에서 공백 관련된 조건문을 추가해 에러 메시지가 alert로 출력되는 것이 아닌 입력창 아래에 보여지도록 구성했고, 공백만으로 내용을 구성해 엔터키로 제출되지 않도록 문제를 해결해 주었다. 그리고 아바타 색을 선택했을 때 보여지는 테두리나 크기 관련된 내용을 조건부로 className이 추가되어 보여지도록 구성하면서 기존의 인라인 방식의 조건부 내용은 대부분 삭제를 해주었고, 아바타 색 목록이 이제 한 줄로 나열되어 보여지는 것이 아닌, 5개씩 4줄의 배열을 가진채로 보여지게 되었다. 이 외에 여러 CSS 내용 그리고, 아바타 색 버튼에 커서를 올리면 호버되어 조금 커지는 효과도 보여지게 되었는데, 아직 모달창 전체적인 CSS 내용이 부족하기 때문에 좀 더 보기 편한 UI를 가질 수 있도록 모달창 관련 CSS를 추가로 수정할 생각이다. 추가로 사용자 정보 수정 모달창만이 아닌, 그룹 채팅방 친구 초대 관련 모달창이나 새로운 그룹 채팅방 생성 같은 모달창 내용의 CSS도 구성되지 않아서 보기 불편한 UI를 가지고 있기 때문에 이와 관련된 CSS 구성부터 추가하고 그 다음 아바타가 사용되는 내용에서 사용자 온라인 여부를 표시하는 내용에 대한 처리를 해 줄 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 서브 사이드바 관련 UI 수정 필요

- 아바타 배경색 관련 여러 내용 추가 필요

- 닉네임 수정 시에 공백으로 제출하면 alert를 통해 에러 메시지 출력이 아닌, 다른 방법으로 표시하도록 수정 필요

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 로그아웃 버튼 등 여러 버튼들이 텍스트가 아닌 아이콘으로 보여지도록 수정 필요

- 그룹 채팅방은 그룹 채팅방에 참여한 사용자 목록이 사이드바 옆으로 보여지고, 그 옆에 채팅 관련 내용이 보여지도록 수정 필요

- 출력되는 채팅 메시지 목록에 스크롤을 추가해 보기 편하도록 변경해야 하고, 메시지가 언제 추가되었는지 구분할 수 있도록 저장된 날짜 데이터를 불러와 표기해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 삭제 시에 다이렉트 채팅방 삭제 확인 로직 필요 (친구 삭제 시에 다이렉트 채팅방을 그대로 남겨놓고 삭제 확인창은 따로 추가하지 않을 예정)

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 그룹 채팅방 초대하고 알림을 전송하는 기능에서, 로그인한 사용자가 아닌 친구에게 보내는 그런 구조로 작동되도록 수정이 필요 (비로그인 상태여도 상관이 없음 단순하게 친구한테 친구 요청하면 알림 메시지가 전달되어야 함)

- 추가된 친구와 대화를 나눌 수 있는 다이렉트 채팅방 (진행중)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
