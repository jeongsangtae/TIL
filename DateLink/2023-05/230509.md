# 오늘 한 일

### JS 토이 프로젝트 제작 (JS, ExpressJS, MongoDB로 만드는 게시판 + EJS)

- 게시판 제작 진행 과정

  - 패스워드 저장 관련 방법 중 저장하지 않는 방법을 선택
    - 여러 가지 방법을 생각했는데 최종적으로는 패스워드는 저장하지 않는 방법을 선택하게되었다.
    - 나중에 해싱된 비밀번호가 저장되도록 바꿀 수도 있지만 현재는 저장하지 않는 쪽으로 구성함
    - 단순하게 패스워드 저장 부분을 mongodb에 저장되지않도록 구성해서 해결함
    - 해싱된 비밀번호 저장되는 부분도 테스트 해보았는데 user.password를 가져오면 해싱되어있는 사용자의 비밀번호가 저장되는 것을 확인하였다.
    - 마지막 방법은 글쓰기에서만 비밀번호 칸이 빠지면 UI가 좀 부족해보여서 위의 방법을 선택하게되었다.
  - 패스워드 오류에 대한 모달창 구성
    - 여러가지 방법으로 시도를 해보았는데 결과는 모달창은 현재는 실패다.
    - js, html, css를 추가해 ajax를 사용하고, expressjs와 클라이언트 기술을 조합해서 구현해야하는데 해보다가 시간이 너무 오래 걸릴 거 같다는 생각도 들었고, 내가 혼자서 구현하는 것보다 도움을 많이 받을 것 같아서 현재는 중단한 상태이다.
    - 클라이언트 기술과 서버 기술을 결합해 만드는 좋은 기회이긴 하지만 현재는 먼저 다른 기능들을 구성하는게 우선이라고 생각되어 나중에 다시 추가해볼 생각이다.
  - 비밀번호가 틀렸을 때 제목과 내용의 데이터가 사라지지않고 유지된채로 다시 비밀번호만 입력해서 게시글을 생성할 수 있도록 함
    - 생각보다 간단한 문제를 내가 어렵게 생각하고 여러 시도를 해보았는데 결과적으로는 구현이되었다.
    - 입력한 input 값을 create-post를 render할 때 보내주고, get 라우터 create-post에서 ""로 초기 값을 빈 문자열로 할당해주며, 초기화된 값을 출력한다.

  <br />

- 게시판 제작 진행 다음 목표

  - 본인이 작성한 게시글만 수정, 삭제할 수 있게 해야함 + 게시글 수정 및 삭제시 로그인한 이메일의 비밀번호를 확인해 삭제되도록 변경해야함
    - 이 부분은 게시글에 사용자의 정보를 저장할 때 패스워드도 저장하면 생각보다 간단하게 수정, 삭제 문제를 해결할 수 있을 거 같다는 생각이 드는데, 보안의 문제가 있기 때문에 사용자의 `_id`가 저장되어 있기 때문에 그 `_id`를 확인해 비밀번호를 비교해 해당 비밀번호가 맞을 때 수정, 삭제되도록 하는 방법도 생각중
  - 페이지당 5개의 게시글까지만 보여지도록 해놓았으니, 이제 페이지네이션도 똑같이 한 화면에는 5개까지의 페이지버튼이 보이도록하고, 그 다음 6~10 이런 페이지 버튼은 다음 페이지 버튼을 클릭 시 보이도록 하려고 생각 중 (보류)
  - 한 가지 확인해야 할만한게 수정 페이지에 가게되면 조회수가 1씩 계속 증가되는데 수정하지 않고, 취소해도 증가하는 부분을 확인해봐야함 (이 부분은 로그인 기능을 추가하면 그 ID를 통해서 쿠키나 세션을 사용해 저장하고, 사용자가 클릭 시 조회수가 중복으로 상승하지 않도록 하는 로직을 구상 중)
  - CSS + UX 부분에서 조언을 구해야할 부분
    - input에서 focus 되었을 때 background color 변경 유무
    - navbar 글씨 크기
    - 회원가입, 로그인 UI 그리고 border 또는 box-shadow 사용 유무 어떤게 나은지
    - 회원가입, 로그인에서 a태그로 만든 부분 색 관련 물어보기
    - 회원가입 이름이 적당한지 그냥 가입하기가 맞는지
    - 회원가입, 로그인 label, input 간격이 괜찮은지 물어보기
    - 회원가입, 로그인 하러가기 버튼이 괜찮은지 좀 변경이 필요한지
    - 글 작성 페이지나 보여지는 페이지에서 글쓴이가 괜찮은지 작성자가 더 나아보이기도 하기 때문에 물어보기
    - 게시글 목록에서 등록 버튼이 사용자 인증이 되지 않았을 때 존재 하지않으면서 원천적으로 차단,사용자 인증이 되든 안되든 등록 버튼이 존재하고 사용자 인증 유무에 따라 이동하는 페이지가 다르게 구성 두 가지 중 고민좀 해봐야함
  - 새로운 문제를 발견했는데 로그인 상태에서 글쓰기 페이지를 들어간 상태로 로그아웃을 하고 뒤로가기 버튼으로 다시가면 문제없이 글쓰기 페이지로 이동되는 문제를 발견
    - 확인해본 결과 글쓰기 페이지로 이동은 되지만 거기서 게시글을 생성해도 생성되지않고, 페이지 오류가 뜨면서 막히긴 하지만 그 이후에 다시 게시글 목록 페이지나 다른 페이지도 보여지지않고 페이지 오류가 뜨는 문제를 수정해야한다.
    - 로컬에서 테스트를 해서 계속 페이지 오류가 뜨는건지 이 부분은 확실하게 모르겠는데 이 부분은 좀 찾아볼 필요가 있다.
    - js파일을 다시 저장하면 페이지 오류 문제는 해결된다.
  - 문제가 하나 있는데 비밀번호를 확인하고 일치했을 때 게시글이 생성되는 것은 좋은데 그 비밀번호를 저장하는게 사용자의 비밀번호를 그대로 저장을 하고 있기 때문에 이 부분을 변경해야 함
    - 방법1 해싱된 상태의 비밀번호가 저장이 되도록 한다. (현재는 이 방법으로 구성)
    - 방법2 비밀번호는 게시글에 저장하지 않도록 한다. (테스트는 해봄)
  - 비밀번호가 일치하지 않을 때 500페이지로 이동하는게 아닌 따로 비밀번호가 틀렸다고 알려주는 모달창을 만들 생각 중 또는 경고창이 뜨도록 할 생각

<br />

# 오늘 느낀 점

- 모달창을 만드는데 현재는 실패했지만 다시 시도해볼 생각이다. 모달창을 만들기 전에 일단 expressjs prompt 기능을 사용하거나 아니면 alert로 경고창만 뜨도록 되는지 확인을 해봐야할 것 같다. alert기능이 expressjs에서 제대로 작동하지 않았던 거 같은데 다시 테스트를 해봐야한다. 좀 더 생각해보니 prompt 기능까지는 필요없을 거 같고, 정확하게 내가 하고 싶은 로직은 prompt창이나 모달창으로 값을 넣는게 아닌 경고창만 뜨도록 하고 싶은데 그 부분을 모달창으로 만들면 UI적으로 훨씬 좋다고는 생각되는데 너무 복잡하고 내가 할 수준이 안된다면 경고창이 뜨도록 하고 싶다.

- 비밀번호 저장과 관련해서 좀 많이 고민해보았는데 현재는 저장하지않는 방법을 선택했는데 나중에 수정, 삭제 이런 부분을 수정할 때 필요하다면 해싱된 비밀번호가 들어가도록 할 생각이다. 이 부분도 좀 더 찾아보거나 물어봐야할 것 같다.

- 글쓰기 페이지에서 비밀번호가 틀렸을 때 데이터를 유지하도록 구현할 때 signup, login 부분에서 했던 것과 비슷하게 만드려고 했는데 signup, login 부분은 session을 사용했기 때문에 조금 다르게 구현해야했는데 비슷하게 만드려고 혼자서 어렵게 생각한 것 같다. 조금만 더 빨리 생각했다면 더 간단하고 쉽게 해결할 수 있는 문제였는데 로직을 제대로 이해하지 못했던 것 같다. 비슷한 코드를 다시 쓰더라도 변형을 해야한다면 좀 더 생각을 해보고 사용하는 것도 중요해보인다. 물론 여러 시도를 해본 것도 좋은 경험이었지만 더 빠르게 해결할 수 있는 부분을 질질 끌린게 좀 아쉽다는 생각이 든다.

- TIL을 작성하면서 계속 생각해본게 있는데 현재 비밀번호가 틀리다면 작성 내용이 그대로 유지되고, 비밀번호만 다시 치면 되도록 되어있는데 이 부분에 대해 아주 만족스럽게 생각한다. 그래서 여기에 모달창을 추가하면 좋겠다는 생각도 들지만 경고창이 뜨도록 하는 것도 괜찮다는 생각이 드는데 비밀번호가 틀렸을 때 데이터가 유지되는 부분은 해결했으니 이제 경고창이 뜨고 그 페이지가 그대로 유지되면서 데이터가 남아있도록 하면 될 것 같다는 생각이다. 경고창 부분을 해결해야하는데 이 부분은 좀 더 찾아봐야할 것 같다. 경고창 부분을 찾아보면서 모달창 관련 정보도 좀 더 찾아봐야할 것 같다.

<br />

# 내일 할 일

- JS, ExpressJS, MongoDB로 게시판 제작 + (EJS)

<br />

# 앞으로 해야 할 일

- Advanced-js(고급 JS)에 대해 공부하며 이해하기 (JS 공부)

- Python으로 웹 스크래퍼 만들어보기

- Python, PHP 공부할 거 찾아보기

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기

- Python 데이터 분석도 한번 봐보기
