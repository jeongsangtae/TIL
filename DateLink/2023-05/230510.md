# 오늘 한 일

### JS 토이 프로젝트 제작 (JS, ExpressJS, MongoDB로 만드는 게시판 + EJS)

- 게시판 제작 진행 과정

  - 게시글 생성시 비밀번호 오류에 대한 모달창 추가
    - 어제 만드는데 실패했던 모달창을 다시 도전해 만들어서 추가하였다.
    - errorMessage를 추가했는데 비밀번호 오류가 생겼을 때 에러 메시지가 템플릿엔진으로 전달되도록 구성하였다.
    - router.post에서는 errorMessage를 직접 입력해 추가해놓고, router.get에서는 빈 문자열로 errorMessage를 추가해 데이터가 전송이 되도록 함
    - 먼저 signup, login에서 해봤던 것처럼 에러메시지를 따로 입력해놓고 router 부분에서 패스워드가 다를때에 해당 템플릿 엔진으로 이동하도록 되어있는데 그때 에러메시지를 전달하도록 한다.
    - 템플릿 엔진에서는 이미 앞에서 비밀번호가 다를때 해당 에러메시지가 넘어오도록 되어있기 때문에 해당 에러메시지를 if문으로 조건으로 넣어주고 에러메시지가 참일 때 에러메시지를 보여주도록 했다.
    - 테스트로 p 태그를 사용해 그 안에 에러메시지를 넣어주고, 제대로 출력되는지 확인했는데 정상적으로 출력이 되고 있는 것을 확인해 p 태그를 삭제하고 따로 div로 모달창 틀을 만들어서 구성하였다.
    - 또 새로운 걸 알게 되었는데 ejs(html)에서 close 버튼을 만들기위해서 'X'를 직접 타이핑해서 사용하는게 아닌, `&times;`를 사용해 만드는 것을 알게 되었다.
    - ejs에서 구성을 해놓은 close 버튼이 제대로 작동하도록 script파일을 따로 추가해서 해당 버튼과 모달창을 담당하는 div를 가져와서 close 버튼을 클릭했을 때 모달창의 display를 none으로 바꿔주면서 화면에서 보이지않도록 설정해주었다.
    - css 구성은 모달창이 띄워지게되면 뒤에 게시글 작성 페이지는 반투명으로 보이도록 설정해주고, 가운데에 흰색창이 띄워져 경고창처럼 보이도록 구성하였다. 추가로 그 경고창을 닫을 수 있는 버튼 위치를 오른쪽 상단에 위치하게하고, 경고창의 텍스트는 빨간색 계열로 보이도록 설정하였다.

  <br />

- 게시판 제작 진행 다음 목표

  - 본인이 작성한 게시글만 수정, 삭제할 수 있게 해야함 + 게시글 수정 및 삭제시 로그인한 이메일의 비밀번호를 확인해 삭제되도록 변경해야함
    - 이 부분은 게시글에 사용자의 정보를 저장할 때 패스워드도 저장하면 생각보다 간단하게 수정, 삭제 문제를 해결할 수 있을 거 같다는 생각이 드는데, 보안의 문제가 있기 때문에 사용자의 `_id`가 저장되어 있기 때문에 그 `_id`를 확인해 비밀번호를 비교해 해당 비밀번호가 맞을 때 수정, 삭제되도록 하는 방법도 생각중
  - 페이지당 5개의 게시글까지만 보여지도록 해놓았으니, 이제 페이지네이션도 똑같이 한 화면에는 5개까지의 페이지버튼이 보이도록하고, 그 다음 6~10 이런 페이지 버튼은 다음 페이지 버튼을 클릭 시 보이도록 하려고 생각 중 (보류)
  - 한 가지 확인해야 할만한게 수정 페이지에 가게되면 조회수가 1씩 계속 증가되는데 수정하지 않고, 취소해도 증가하는 부분을 확인해봐야함 (이 부분은 로그인 기능을 추가하면 그 ID를 통해서 쿠키나 세션을 사용해 저장하고, 사용자가 클릭 시 조회수가 중복으로 상승하지 않도록 하는 로직을 구상 중)
  - CSS + UX 부분에서 조언을 구해야할 부분
    - input에서 focus 되었을 때 background color 변경 유무
    - navbar 글씨 크기
    - 회원가입, 로그인 UI 그리고 border 또는 box-shadow 사용 유무 어떤게 나은지
    - 회원가입, 로그인에서 a태그로 만든 부분 색 관련 물어보기
    - 회원가입 이름이 적당한지 그냥 가입하기가 맞는지
    - 회원가입, 로그인 label, input 간격이 괜찮은지 물어보기
    - 회원가입, 로그인 하러가기 버튼이 괜찮은지 좀 변경이 필요한지
    - 글 작성 페이지나 보여지는 페이지에서 글쓴이가 괜찮은지 작성자가 더 나아보이기도 하기 때문에 물어보기
    - 게시글 목록에서 등록 버튼이 사용자 인증이 되지 않았을 때 존재 하지않으면서 원천적으로 차단,사용자 인증이 되든 안되든 등록 버튼이 존재하고 사용자 인증 유무에 따라 이동하는 페이지가 다르게 구성 두 가지 중 고민좀 해봐야함
  - 새로운 문제를 발견했는데 로그인 상태에서 글쓰기 페이지를 들어간 상태로 로그아웃을 하고 뒤로가기 버튼으로 다시가면 문제없이 글쓰기 페이지로 이동되는 문제를 발견
    - 확인해본 결과 글쓰기 페이지로 이동은 되지만 거기서 게시글을 생성해도 생성되지않고, 페이지 오류가 뜨면서 막히긴 하지만 그 이후에 다시 게시글 목록 페이지나 다른 페이지도 보여지지않고 페이지 오류가 뜨는 문제를 수정해야한다.
    - 로컬에서 테스트를 해서 계속 페이지 오류가 뜨는건지 이 부분은 확실하게 모르겠는데 이 부분은 좀 찾아볼 필요가 있다.
    - js파일을 다시 저장하면 페이지 오류 문제는 해결된다.
  - 문제가 하나 있는데 비밀번호를 확인하고 일치했을 때 게시글이 생성되는 것은 좋은데 그 비밀번호를 저장하는게 사용자의 비밀번호를 그대로 저장을 하고 있기 때문에 이 부분을 변경해야 함
    - 방법1 해싱된 상태의 비밀번호가 저장이 되도록 한다. (현재는 이 방법으로 구성)
    - 방법2 비밀번호는 게시글에 저장하지 않도록 한다. (테스트는 해봄)

<br />

# 오늘 느낀 점

- 처음에 모달창 대신에 script로 추가해서 단순하게 alert를 사용해서 경고창을 띄우려고 했으나, alert를 사용하면 뒤에 게시글 작성 페이지가 보이지 않게 되는 불편한 UX를 제공하고 있어 다른 방법을 생각해보다가 어제 만들다가 나중으로 미룬 모달창을 다시 시도해보았는데 결과적으로는 만드는데 성공했고, 구현된 모달창은 만족스럽다고 생각이 된다.

- 어제 내가 착각 하고 있던 부분이 템플릿 엔진으로 데이터를 보내는게 변수로 만들어진 정보만 보낼 수 있다고 생각을 했던 거 같다. 하지만 변수로 만들어진 정보뿐만 아니라, res.render()를 통해 보내는 정보에도 변수 안에 객체를 통해서 변수, 텍스트 등 여러 정보를 보낼 수 있는데, 여기서 생각한게 단순 텍스트 형식으로 만들어진 데이터도 보낼 수 있을 거 같다는 생각이 들어 에러메시지를 보내서 테스트해보았는데 그 에러메시지가 출력되는 것을 확인하고 모달창을 만들게되었다.

- 조금만 생각해보면 단순하게 저런 텍스트 같은 데이터도 보낼 수 있다고 생각을 해봤어야했는데 항상 변수에 넣거나 객체에 추가하거나 하는 방식으로 사용해서 저렇게도 가능할까 라는 생각을 안해봤던 거 같다. 또 다르게 생각해보면 그냥 변수에 텍스트를 넣어서 보내도 문제가 없는건데 다시 생각해보면 앞에 했던 signup, login과 같이 유사하게 만들어서 데이터를 보내보려고 생각해서 그 고정관념에 막혀있었던 것 같다. 좀 더 능동적으로 생각을 해보았다면 충분히 더 빠르게 시도해보고 해결할만 했다고 생각도 들지만 또 한편으로는 그래도 지금이라도 알고 해결해서 모달창을 만든게 다행이라는 생각도 든다. 내가 expressjs를 통해 템플릿 엔진으로 데이터를 보내는 그 과정을 제대로 파악하지 않고 사용하고 있었다고 생각도 되는데 이번에 프로젝트를 하면서 많은 걸 배워가고 있고, 앞으로도 더 많이 배우게 될 것 같다는 생각이 된다.

<br />

# 내일 할 일

- JS, ExpressJS, MongoDB로 게시판 제작 + (EJS)

<br />

# 앞으로 해야 할 일

- Advanced-js(고급 JS)에 대해 공부하며 이해하기 (JS 공부)

- Python으로 웹 스크래퍼 만들어보기

- Python, PHP 공부할 거 찾아보기

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기

- Python 데이터 분석도 한번 봐보기
