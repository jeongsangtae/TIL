# 오늘 한 일

### JS 토이 프로젝트 제작 (JS, ExpressJS, MongoDB로 만드는 게시판 + EJS)

- 게시판 제작 진행 과정

  - UI/UX 변경
    - input이 활성화 되었을 때 백그라운드 색을 다시 추가해주었다. 추가해준게 좀 더 어떤게 클릭되었는지 구분이 되어 더 좋다고 생각되어 추가
    - 회원가입, 로그인에서 바로 로그인, 회원가입 하러가는 버튼을 a태그로만 만들어놓았는데 이 부분을 버튼식으로 변경해주었는데 더 깔끔하게 구성이 된 거 같음
    - 가입하기 이렇게 해놓은 부분을 전부 회원가입으로 수정해놓았는데 뭔가 가입하기보다 회원가입이 훨씬 텍스트가 깔끔해보여서 수정함
    - 게시글을 작성한 사람이 글쓴이로 되어있었는데 이 부분도 전부 작성자로 수정해주었다. 작성자가 좀 더 그럴싸하게 보이는 느낌이 있어서 수정함
    - 스크립트를 추가해서 모달창이 띄워지게 하는 부분도 다 수정했는데 이게 좀 더 UX에서는 확실하게 알려주기 때문에 좋다고 생각하지만 이벤트리스너 에러를 잡지 못해서 이 부분이 신경쓰여서 전체적으로 수정하게 되었다.
    - 패스워드 오류 스크립트는 작성자와 비밀번호 아래에 회원가입, 로그인에서 처럼 p태그로 텍스트로 보여주는 방식으로 변경하였다.
    - 수정, 삭제 버튼은 두 가지를 생각했는데 비활성화해서 버튼은 있으나 클릭이 되지않도록 하는 방법, 그리고 아이에 버튼이 보이지않도록 하는 방법 이렇게 두 가지를 생각했는데 여기서 아이에 버튼이 보이지않도록 하는 방법을 선택해서 변경하였다.
    - 또 다른 방법으로 자동으로 카운트를 세면서 이벤트리스너를 사용하지않아도 똑같이 문제가 발생해서 아이에 스크립트를 사용하지 않는 방법으로 수정을 해주었다.

  <br />

- 게시판 제작 진행 다음 목표

  - 본인이 작성한 게시글만 수정, 삭제할 수 있게 해야함 + 게시글 수정 및 삭제시 로그인한 이메일의 비밀번호를 확인해 삭제되도록 변경해야함
    - 이 부분은 게시글에 사용자의 정보를 저장할 때 패스워드도 저장하면 생각보다 간단하게 수정, 삭제 문제를 해결할 수 있을 거 같다는 생각이 드는데, 보안의 문제가 있기 때문에 사용자의 `_id`가 저장되어 있기 때문에 그 `_id`를 확인해 비밀번호를 비교해 해당 비밀번호가 맞을 때 수정, 삭제되도록 하는 방법도 생각중
  - 페이지당 5개의 게시글까지만 보여지도록 해놓았으니, 이제 페이지네이션도 똑같이 한 화면에는 5개까지의 페이지버튼이 보이도록하고, 그 다음 6~10 이런 페이지 버튼은 다음 페이지 버튼을 클릭 시 보이도록 하려고 생각 중 (보류)
  - 한 가지 확인해야 할만한게 수정 페이지에 가게되면 조회수가 1씩 계속 증가되는데 수정하지 않고, 취소해도 증가하는 부분을 확인해봐야함 (이 부분은 로그인 기능을 추가하면 그 ID를 통해서 쿠키나 세션을 사용해 저장하고, 사용자가 클릭 시 조회수가 중복으로 상승하지 않도록 하는 로직을 구상 중)
  - 새로운 문제를 발견했는데 로그인 상태에서 글쓰기 페이지를 들어간 상태로 로그아웃을 하고 뒤로가기 버튼으로 다시가면 문제없이 글쓰기 페이지로 이동되는 문제를 발견
    - 확인해본 결과 글쓰기 페이지로 이동은 되지만 거기서 게시글을 생성해도 생성되지않고, 페이지 오류가 뜨면서 막히긴 하지만 그 이후에 다시 게시글 목록 페이지나 다른 페이지도 보여지지않고 페이지 오류가 뜨는 문제를 수정해야한다.
    - 로컬에서 테스트를 해서 계속 페이지 오류가 뜨는건지 이 부분은 확실하게 모르겠는데 이 부분은 좀 찾아볼 필요가 있다.
    - js파일을 다시 저장하면 페이지 오류 문제는 해결된다.
  - 문제가 하나 있는데 비밀번호를 확인하고 일치했을 때 게시글이 생성되는 것은 좋은데 그 비밀번호를 저장하는게 사용자의 비밀번호를 그대로 저장을 하고 있기 때문에 이 부분을 변경해야 함
    - 방법1 해싱된 상태의 비밀번호가 저장이 되도록 한다. (현재는 이 방법으로 구성)
    - 방법2 비밀번호는 게시글에 저장하지 않도록 한다. (테스트는 해봄)
  - 패스워드, 수정, 삭제 에러 관련 동작에서 모달창이 뜨고 그 모달창을 닫는 이벤트리스너가 콘솔에서 에러를 발생시키는데 이 부분을 해결해야한다.
    - 방법2 패스워드 부분은 p태그로 표기하고 수정, 삭제는 본인이 쓴 게시글이 아니면 버튼이 안보이도록 한다.
    - 방법2로 수정 해놓았는데 이벤트리스너에 대해 좀 더 찾아보고 모달창 다시 시도해볼 생각
  - 수정, 삭제 권한이 없으면 아이에 가능하지 않도록 했으니 이제 수정에서 데이터를 변경할 때 입력한 비밀번호와 해싱한 비밀번호를 확인하는 로직을 추가해야 함
  - 삭제할 때 비밀번호 확인이 필요한가...? 좀 고민해봐야 함 애초에 권한 유무로 삭제하기 때문에 굳이 라는 생각도 들기 때문에 좀 의견을 물어볼 필요가 있음
  - 로그인이 안된 상태에서 게시글을 볼 수 없어서 이 부분을 수정해야함

<br />

# 오늘 느낀 점

- UI/UX에 대해 의견을 받아서 수정했는데 이전보다 조금 나아진거 같다는 생각이 든다. 그리고 패스워드, 수정, 삭제 에러 메시지에 대한 모달창을 없애고 스크립트도 그냥 빼버리고 다른 방법으로 수정했는데 어제 생각한 방법2로 선택해 수정하였다. 나쁘지않은 방법같은데 모달창을 빼버린게 좀 아쉽지만 사실 작동에 문제는 없지만 그래도 콘솔에서 계속 null 에러가 발생하는 건 불편해서 에러가 없도록 수정해주었다. 또 제작을 하면서 다른 방법이 생각이 나면 수정할 수도 있을 거 같은데 현재는 이 상태로 만족한다. 그리고 다 만들고나서 저 이벤트리스너 에러에 대해 또 다른 방법을 찾아봐야할 것 같다.

- 이제 수정할 때 패스워드를 확인해서 맞으면 수정이 되도록 하는 부분을 바꿔주어야하고, 그리고 이게 문제가 하나 있는데 로그인이 안된 상태에서 세션에 있는 이메일을 가져오지 못해서 게시글 목록에서 게시글을 클릭하면 해당 내용을 볼 수가 없어서 이 부분을 수정을 해주어야한다. 어제 이런 상황이 생겨서 어떻게 수정을 했던 거 같은데 따로 저장해놓지 않아서 여러가지 테스트해봐야할 것 같다.

<br />

# 내일 할 일

- JS, ExpressJS, MongoDB로 게시판 제작 + (EJS)

<br />

# 앞으로 해야 할 일

- Advanced-js(고급 JS)에 대해 공부하며 이해하기 (JS 공부)

- Python으로 웹 스크래퍼 만들어보기

- Python, PHP 공부할 거 찾아보기

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기

- Python 데이터 분석도 한번 봐보기
