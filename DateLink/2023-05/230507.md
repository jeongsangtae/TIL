# 오늘 한 일

### JS 토이 프로젝트 제작 (JS, ExpressJS, MongoDB로 만드는 게시판 + EJS)

- 게시판 제작 진행 과정

  - 세션 만료 시간 변경
    - 세션 만료 시간을 24시간으로 해놓았는데 너무 쓸데없이 길어서 다시 웹 브라우저를 통해 게시판을 열어보면 그대로 로그인해놓은 상태가 유지되고 있어서 2시간으로 변경하였다.
    - 세션 쿠키 부분에서 수치만 바꿔주며 간단하게 해결
  - 가입하는 부분에 이름 추가
    - 가입하는 부분에 이름을 추가해서 그 데이터가 mongodb에 저장이 되도록 하고, 로그인할 때 세션에도 저장이 되도록 함
    - 가입할 때 이름은 일단 최대 6자리까지 되도록 했는데 더 길게도 가능하지만 굳이 그럴 필요도 없고 너무 길어지면 게시글 목록에서 작성자 이름이 입력되도록 할 때 정해진 틀을 벗어나기 때문에 현재는 6자리로 제한해놓음
    - 가입하는 부분에서 이름을 이메일, 패스워드와 함께 mongodb에 저장하고 사용자 인증이 되면서 로그인되면 이메일과 이름을 같이 세션에 저장하도록 변경했다.
  - 가입하는 부분에 input으로 이름 부분을 추가
    - 이메일 입력 부분을 가져와서 이름으로 변경해줌
  - 프로필에서 이메일로 사용자를 구분했으나, 이제는 이름으로 알 수 있게 해놓음
    - 단순하게 user.email에서 새로 추가해 저장된 name을 사용 user.name

  <br />

- 게시판 제작 진행 다음 목표

  - 본인이 작성한 게시글만 수정, 삭제할 수 있게 해야함 + 게시글 수정 및 삭제시 로그인한 이메일의 비밀번호를 확인해 삭제되도록 변경해야함
    - 이 부분은 게시글에 사용자의 정보를 저장할 때 패스워드도 저장하면 생각보다 간단하게 수정, 삭제 문제를 해결할 수 있을 거 같다는 생각이 드는데, 보안의 문제가 있기 때문에 사용자의 `_id`가 저장되어 있기 때문에 그 `_id`를 확인해 비밀번호를 비교해 해당 비밀번호가 맞을 때 수정, 삭제되도록 하는 방법도 생각중
  - 페이지당 5개의 게시글까지만 보여지도록 해놓았으니, 이제 페이지네이션도 똑같이 한 화면에는 5개까지의 페이지버튼이 보이도록하고, 그 다음 6~10 이런 페이지 버튼은 다음 페이지 버튼을 클릭 시 보이도록 하려고 생각 중 (보류)
  - 한 가지 확인해야 할만한게 수정 페이지에 가게되면 조회수가 1씩 계속 증가되는데 수정하지 않고, 취소해도 증가하는 부분을 확인해봐야함 (이 부분은 로그인 기능을 추가하면 그 ID를 통해서 쿠키나 세션을 사용해 저장하고, 사용자가 클릭 시 조회수가 중복으로 상승하지 않도록 하는 로직을 구상 중)
  - CSS + UX 부분에서 조언을 구해야할 부분
    - input에서 focus 되었을 때 background color 변경 유무
    - navbar 글씨 크기
    - 회원가입, 로그인 UI 그리고 border 또는 box-shadow 사용 유무 어떤게 나은지
    - 회원가입, 로그인에서 a태그로 만든 부분 색 관련 물어보기
    - 회원가입 이름이 적당한지 그냥 가입하기가 맞는지
    - 회원가입, 로그인 label, input 간격이 괜찮은지 물어보기
    - 회원가입, 로그인 하러가기 버튼이 괜찮은지 좀 변경이 필요한지
    - 글 작성 페이지나 보여지는 페이지에서 글쓴이가 괜찮은지 작성자가 더 나아보이기도 하기 때문에 물어보기
    - 게시글 목록에서 등록 버튼이 사용자 인증이 되지 않았을 때 존재 하지않으면서 원천적으로 차단,사용자 인증이 되든 안되든 등록 버튼이 존재하고 사용자 인증 유무에 따라 이동하는 페이지가 다르게 구성 두 가지 중 고민좀 해봐야함
  - 새로운 문제를 발견했는데 로그인 상태에서 글쓰기 페이지를 들어간 상태로 로그아웃을 하고 뒤로가기 버튼으로 다시가면 문제없이 글쓰기 페이지로 이동되는 문제를 발견
    - 확인해본 결과 글쓰기 페이지로 이동은 되지만 거기서 게시글을 생성해도 생성되지않고, 페이지 오류가 뜨면서 막히긴 하지만 그 이후에 다시 게시글 목록 페이지나 다른 페이지도 보여지지않고 페이지 오류가 뜨는 문제를 수정해야한다.
    - 로컬에서 테스트를 해서 계속 페이지 오류가 뜨는건지 이 부분은 확실하게 모르겠는데 이 부분은 좀 찾아볼 필요가 있다.
    - js파일을 다시 저장하면 페이지 오류 문제는 해결된다.
  - 가입할 때 이름도 추가했기 때문에 이제 글을 쓸 때 작성자와 비밀번호는 따로 작성하지않고, 로그인한 사용자의 이름과 패스워드가 그대로 넘어오도록 해야한다. 실질적으로 글을 작성할 때 제목과 내용만 작성하면 될 것 같다는 생각이다.

<br />

# 오늘 느낀 점

- 첫 번째로 다시 게시판 페이지를 확인하기 위해 로컬 환경으로 실행시키면 전에 로그인해놓은 상태로 종료하면 그대로 로그인이 유지되어있어 이 부분을 24시간이 만료 시간이 아닌 2시간으로 일단 변경해놓았다. 사실 게시판이 세션 만료 시간이 길 필요도 없고 금융기관, 공공기관 이런 곳은 보통 30분~1시간으로 설정하기 때문에 게시판은 2시간도 충분한 시간이라고 생각이 되어 변경하였다. 변경한 부분이 제대로 작동하는지 내일 다시 코드를 작성하기 전에 실행시켜본 후 확인해봐야 할 것 같다.

- 프로필에서 '~의 게시글 목록' 이 부분에서 이메일로 구분하는 것이 아닌 이름으로 구분하기위해 이름을 가입할 때부터 추가하도록 변경했는데 생각보다 추가하고 변경하는 부분은 별 거 아닌거 같았는데 여러 테스트를 해본 시간이 좀 길었던 거 같다. 그리고 가입하는 부분 추가는 바로 해결했는데 로그인 부분에서 굳이 이름 필드를 추가해서 입력할 필요가 없기 때문에 어떻게 추가를 해줘야하나 싶었는데 로그인 부분에서 users 컬렉션에서 email로 데이터를 찾는 부분이 있는게 그걸 사용해 세션에 그 데이터의 이름을 추가해서 저장하도록 구성해 해결하였다.

- 가입하는 필드에 이름도 추가를 했기 때문에 글쓰기 페이지에서 작성자와 비밀번호 부분을 로그인한 사용자의 정보로 자동으로 기입되어있도록 해야할 것 같다. 아이에 입력 필드를 없애고, 제목과 내용만 작성하면 게시글 목록에서는 작성자 이름이 그대로 보이게 하고 패스워드는 mongodb에 자동으로 저장되도록 해도 괜찮을 거 같다는 생각이 든다. 이 부분은 조금 생각이 필요해보이지만 후자가 좀 더 좋아보이기도 한다. 또 다른 방법으로 작성자는 그대로 텍스트로 삽입시키고, 비밀번호만 입력하도록 하는 것도 괜찮아보인다.

<br />

# 내일 할 일

- JS, ExpressJS, MongoDB로 게시판 제작 + (EJS)

<br />

# 앞으로 해야 할 일

- Advanced-js(고급 JS)에 대해 공부하며 이해하기 (JS 공부)

- Python으로 웹 스크래퍼 만들어보기

- Python, PHP 공부할 거 찾아보기

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기

- Python 데이터 분석도 한번 봐보기
