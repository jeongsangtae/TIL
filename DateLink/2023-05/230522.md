# 오늘 한 일

### JS 토이 프로젝트 제작 (JS, ExpressJS, MongoDB로 만드는 게시판 + EJS)

- 게시판 제작 진행 과정

  - 댓글 기능을 추가하려고 기본 UI를 구성중
    - 댓글 기능을 추가해야할까 좀 고민을 하다가 조언을 구했는데 그래도 한번 구현해보자는 말이 나와서 일단 UI부터 구성을 해보고 있다.
    - 처음에 댓글 기능을 어떻게 구현해야할까 머릿속으로 많이 생각해봤는데 갑자기 가능할 거 같다는 생각이 들고 어느정도 구상이 되어서 바로 작업을 해보았다.
    - 현재 UI 구성부터 하고 있는데 기본 틀을 구성해놓고 테스트 해보았는데 기본 구성은 괜찮게 된거 같다.
    - 여기서 이제 textarea에서 내용이 늘어나면서 줄이 넘어갈때 그 전체 댓글을 감싸고 있는 div도 함께 늘어나는 부분이 조금 애를 먹었는데 이 부분은 javascript를 사용해 정적으로 작동해야해서 조금 도움을 받았다.
    - 아직 완벽하게 구성이 된건 아닌데 어떻게 해야할지 감은 잡은 상태이다. 일단 현재 문제는 댓글의 내용이 늘어날 때 div가 함께 늘어나는 건 좋은데 textarea와 버튼이 같은 블록에서 있는 것처럼 늘어나서 이 부분을 수정해주어야한다.
    - 또 다른 문제는 그 textarea 내용을 삭제했을 때 인데 내용을 삭제하면 늘어났던 만큼의 크기만큼 삭제할 때도 같은 크기가 줄어들어야하는데 줄어들때는 좀 다르게 줄어들어서 div 크기가 늘어나있는 상황이 발생했다. 이 부분을 수정하니 줄어드는건 이전과 같은데 마지막 남아있는 줄의 내용을 삭제했을 때 한번에 div 크기가 줄어들면서 UI가 좀 이상하게 느껴지는데 이 부분도 어떻게 해야할지 좀 감을 잡아서 내일 고쳐봐야할 것 같다.
  - 실제로 댓글의 데이터가 저장되는 부분도 어느정도 구상은 해놓음
    - 게시글에 댓글 부분을 추가해서 데이터가 저장되도록 업데이트를 사용해서 하면 될 거 같다는게 현재 생각
    - 그리고 그 데이터가 textarea를 입력해서 등록 시 추가되도록 하고, 그 게시글의 댓글을 가져와서 보여지도록 하면 될 거 같다는게 현재 머릿속으로 그려져있는 상태이다.
    - UI 구성을 하고 실제 기능을 작업해봐야겠지만 현재는 크게 어렵지 않을 거 같다라는 생각이다.

  <br />

- 게시판 제작 진행 다음 목표

  - 댓글 기능은 조금 고민좀 해봐야 할듯
    - 어느정도 머릿속으로 그림은 그려놓은 상태
    - UI 구성하고 데이터 부분 작업을 해보아야함
    - 마지막 기능 작업이 될 거 같음
  - 구성은 되어있는데 혹시나 수정할 수도 있는 부분
    - 문제가 하나 있는데 비밀번호를 확인하고 일치했을 때 게시글이 생성되는 것은 좋은데 그 비밀번호를 저장하는게 사용자의 비밀번호를 그대로 저장을 하고 있기 때문에 이 부분을 변경해야 함
      - 방법1 해싱된 상태의 비밀번호가 저장이 되도록 한다. (테스트는 해봄)
      - 방법2 비밀번호는 게시글에 저장하지 않도록 한다. (현재는 이 방법으로 구성)
      - 이 부분은 더 이상 생각하지 않아도 될 거 같음 굳이 해싱된 비밀번호를 저장하지 않아도 될 거 같다는 생각 그래서 아이에 비밀번호를 게시글에 저장하지 않도록 해놓음
    - 패스워드, 수정, 삭제 에러 관련 동작 처리
      - 최종적으로 다시 모달창으로 변경해주었다. 이벤트리스너 에러를 if문으로 조건을 추가해 해당 페이지에 들어왔을 때 바로 작동하지 않도록 해주며 해결하였다.
      - 수정, 삭제는 그냥 게시글 작성자가 아니라면 버튼이 보이지 않도록 해 막아주었다.
      - 추가로 해당 게시글 작성자가 아닌데 url로 접속시도를 하는경우 401페이지로 이동하도록 해주었다.
    - 페이지당 5개의 게시글까지만 보여지도록 해놓았으니, 이제 페이지네이션도 똑같이 한 화면에는 5개까지의 페이지버튼이 보이도록하고, 그 다음 6~10 이런 페이지 버튼은 다음 페이지 버튼을 클릭 시 보이도록 하려고 생각 중
      - 이 부분도 수정해서 예로 13번까지 페이지 버튼이 있다면 5개 단위로 끊어져있고, 5페이지에서 다음 버튼 클릭시 6번으로 넘어가면서 6~10이 보여지고 또 10 페이지에서 다음 버튼 클릭시 11~13이 보여지도록 되어있다. (이 방법으로 구성되어있음)
      - 다른 방법으로 페이지 버튼이 이전과 다음 버튼으로 아이에 정해진 단위대로 이동하는 것
      - 또 다른 방법으로 현재 보이는 페이지를 페이지 버튼에서 중앙으로 잡고 이전과 다음 버튼으로 -1, +1 씩 이동하는 방식
    - 한 가지 확인해야 할만한게 수정 페이지에 가게되면 조회수가 1씩 계속 증가되는데 수정하지 않고, 취소해도 증가하는 부분을 확인해봐야함
      - 조회 수를 시간 간격을 10초 정도로 주며, 중복된 사용자나 다른 사용자가 다시 클릭해도 10초가 지나지않으면 오르지 않도록 설정해놓았다.
        - 이 부분도 시간을 좀 수정하거나 이 정도만 확인하면 될 것 같다.
      - 세션 만료시 일정 시간 후에 세션 데이터가 자동으로 삭제되도록 하는 코드를 추가해놓았는데 정상적으로 작동해서 이 부분은 이제 해결이 된 것 같다. (세션 부분 파일을 따로 분리해놓은 곳에서 추가해놓음)
    - 삭제할 때 비밀번호 확인이 필요한가...? 좀 고민해봐야 함 애초에 권한 유무로 삭제하기 때문에 굳이 라는 생각도 들기 때문에 좀 의견을 물어볼 필요가 있음
    - 방법1. 그냥 삭제가 되도록한다.
    - 방법2. 예, 아니오 창이 떠서 거기서 한번 더 의사를 물어보고 삭제할지 안할지 결정(이 방법으로 구성)
    - 방법3. prompt창을 사용해서 비밀번호를 입력해서 삭제한다.
    - 방법4. 모달창에서 비밀번호를 입력해서 비밀번호가 맞을 시 삭제

<br />

# 오늘 느낀 점

- textarea의 내용에 따라 외부의 크기도 변경하는게 단순하게 html, css에서도 가능한지 확인해보았는데 이 부분은 불가능해서 스크립트를 추가해서 작업을 진행했는데 아직 현재 진행형이다. 위에서 말한 문제들을 고쳐야하는데 어느정도 파악은 해서 여러가지 시도를 해볼 생각이다. 스크립트 구성의 기본 틀은 도움을 받아서 구성했기 때문에 이후에 고치는 문제는 스스로 해결해봐야할 것 같다.

- UI도 UI지만 안에 실제로 댓글의 데이터가 쌓이는 부분도 생각을 했는데 이 부분은 해당 게시글에 comment 부분을 추가해서 그 내용이 들어가도록 하면 될 거 같다는 생각이 든다. 현재는 크게 어려울 거 같다는 생각은 들지 않는데 일단 UI 구성을 하고, 그 다음에 데이터를 추가해서 그 데이터가 저장되는지 확인을 하고 그 데이터를 가져와서 보여지도록 하면 될 것 같다. 현재 머릿속으로 생각해본 구성은 이렇게 되어있는데 기존의 코드에 조금씩만 추가하면 될 것 같아서 가능할 거 같다는게 현재 생각이다.

- textarea와 외부를 감싸는 div를 추가해서 ui를 구성해놓았는데 이 댓글 UI는 네이버 카페의 댓글 기능을 참고해서 비슷하게 구성해보려고 그린다음에 비슷한 동작을 하도록 구성해보고 있는 상황이다. UI에서도 스크립트를 추가해서 동적으로 늘어나고 줄어들도록 해줘야하는데 이 부분의 기본 구성은 도움을 받았으니 이제 그걸 사용해서 변형하는건 내 몫이라고 생각이 된다. 처음에 댓글 기능 할 수 있을까 생각이 들었는데 씻으면서 생각해보니 UI도 어느정도 머릿속으로 구상이 되었고, 데이터 부분도 될 거 같다는 생각이 들어서 현재 진행형이다. 빠르게 UI 부분 작업해놓은걸 고쳐보고 데이터 부분까지 해결 해볼 생각이다.

<br />

# 내일 할 일

- JS, ExpressJS, MongoDB로 게시판 제작 + (EJS)

<br />

# 앞으로 해야 할 일

- Advanced-js(고급 JS)에 대해 공부하며 이해하기 (JS 공부)

- Python으로 웹 스크래퍼 만들어보기

- Python, PHP 공부할 거 찾아보기

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기

- Python 데이터 분석도 한번 봐보기
