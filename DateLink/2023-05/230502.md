# 오늘 한 일

### JS 토이 프로젝트 제작 (JS, ExpressJS, MongoDB로 만드는 게시판 + EJS)

- 게시판 제작 진행 과정

  - res.locals 미들웨어 추가
    - 사용자에 관한 정보와 인증 관련 미들웨어를 따로 분리해놓았다.
    - 여러 템플릿에 전달하기 위해서 따로 분리하였는데 다른 라우터에서 이 사용자에 대한 정보와 인증 관련 데이터를 전달하려면 또 따로 추가하고 복잡하거나 에러가 발생할 수 있기 때문에 따로 미들웨어 폴더를 만들어 user.js로 분리해 res.locals로 전역 변수 선언을 해주면서 모든 템플릿에서 사용할 수 있게 해주었다.
    - res.locals를 사용해 사용자 인증이 된 상태에서는 게시글, 글쓰기, 프로필, 로그아웃 버튼이 보여지게하고(로그인한 상태), 사용자 인증이 되지 않은 상태에서는 게시글, 가입하기, 로그인 버튼이 보이게 하였다.(로그아웃한 상태)
    - 임시 방편이지만, 사용자 인증이 된 상태에서만 게시글 목록에서 등록 버튼이 보이게해서 글쓰기로 갈 수 있도록 하였다.
    - 아직 url을 통한 이동은 막아놓지 못한 상태인데 이 부분은 수정이 필요하다.
    - res.locals는 인증 전용이 아니기 때문에 원하는 모든 것에 res.locals를 사용할 수 있다고 한다.
    - 원하는 모든 것에 대한 사용자 정의 미들웨어를 만들 수 있다고 하는데 이 정보로 게시글에 대한 res.locals 미들웨어를 따로 분리해서 다른 템플릿에서도 사용해볼 생각이다.

  <br />

- 게시판 제작 진행 다음 목표

  - 본격적으로 회원가입, 로그인 관련 로직을 구성해야함 (express-session, connect-mongodb-session, bcryptjs 패키지를 추가해 작업할 예정)
  - 회원가입, 로그인 로직을 구성하고 프로필 내용을 구성할 생각인데, 이 내용은 로그인한 계정이 작성한 게시글의 목록을 볼 수 있도록 할 생각
  - 게시글 삭제시, 로그인한 이메일의 비밀번호를 확인해 삭제되도록 변경해야함
  - 페이지당 5개의 게시글까지만 보여지도록 해놓았으니, 이제 페이지네이션도 똑같이 한 화면에는 5개까지의 페이지버튼이 보이도록하고, 그 다음 6~10 이런 페이지 버튼은 다음 페이지 버튼을 클릭 시 보이도록 하려고 생각 중 (보류)
  - 한 가지 확인해야 할만한게 수정 페이지에 가게되면 조회수가 1씩 계속 증가되는데 수정하지 않고, 취소해도 증가하는 부분을 확인해봐야함 (이 부분은 로그인 기능을 추가하면 그 ID를 통해서 쿠키나 세션을 사용해 저장하고, 사용자가 클릭 시 조회수가 중복으로 상승하지 않도록 하는 로직을 구상 중)
  - CSS 부분에서 조언을 구해야할 부분
    - input에서 focus 되었을 때 background color 변경 유무
    - navbar 글씨 크기
    - 회원가입, 로그인 UI 그리고 border 또는 box-shadow 사용 유무 어떤게 나은지
    - 회원가입, 로그인에서 a태그로 만든 부분 색 관련 물어보기
    - 회원가입 이름이 적당한지 그냥 가입하기가 맞는지
    - 회원가입, 로그인 label, input 간격이 괜찮은지 물어보기
  - 추가로 인증이 되지않은 상태에서 url에서 따로 입력시 문제 없이 이동되고, 이동 후 게시글을 생성할 수 있는데 이 부분도 수정이 필요해보인다. (바로 확인해봐야함 req.locals.isAuth로 확인 해보기)

<br />

# 오늘 느낀 점

- res.locals를 사용해서 다른 라우터에서 따로 추가하지않고, 게시글 목록 템플릿에서 추가해서 사용했는데 너무 편리하다고 생각이 되었다. 근데 res.locals에 대해 조금 헷갈리는 부분이 있는데 알려준 강의에서는 원하는 모든 것에 사용할 수 있다고 했는데 이 개념에 대해 chatgpt에게 물어보니 res.locals에 저장된 변수는 해당 라우터 함수에서 렌더링하는 뷰에서만 사용하고, 라우터 함수에서 렌더링하지 않는 다른 뷰 템플릿 엔진에서는 res.locals를 사용할 수 없다고 해 조금 헷갈리는데 특정 라우터 함수에서 렌더링하는 뷰만 사용가능한건지 아니면 라우터 함수에서 어떤 뷰 템플릿이든 렌더링을 하기만 하면 되는건지 이 부분에 대해서는 좀 더 알아봐야할 것 같다. 그리고 board-list에서 보여지는 내용인 그 게시글 목록을 profile에서도 보여지게 하고 싶은데 이 부분도 좀 생각이 필요할 것 같다. 단순하게 게시글 목록의 전체 내용을 보여지게 하려는게 아니기 때문에 먼저 로그인된 사용자만 게시글을 쓸 수 있게 하는 부분부터 추가를 해서 작업을 해야할 것 같다.

- res.locals을 사용해 일단 헤더에 있는 버튼들에 대해 로그인 했을 때와 로그아웃이 된 상태에서 버튼을 분리해 보여지도록 하는 부분에 대해서는 매우 만족이다. 그리고 임시방편이지만 로그인이 되지 않은 상태에서 게시글 목록의 등록 버튼은 비활성화시켜 게시글을 등록하지 못하게 하였다. 이제 인증이 안된 상태에서 url로 이동해도 인증되지않음 페이지가 뜨도록 문제를 해결해야한다.

<br />

# 내일 할 일

- JS, ExpressJS, MongoDB로 게시판 제작 + (EJS)

<br />

# 앞으로 해야 할 일

- Advanced-js(고급 JS)에 대해 공부하며 이해하기 (JS 공부)

- Python으로 웹 스크래퍼 만들어보기

- Python, PHP 공부할 거 찾아보기

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기

- Python 데이터 분석도 한번 봐보기
