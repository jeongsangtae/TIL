# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 알림 관련 내용 분리 및 알림 컴포넌트, CSS 추가
  - 친구 요청, 그룹 채팅방 초대, 새로운 메시지 알림이 전역적으로 보여질 수 있도록 별도의 컴포넌트로 구성하고 CSS를 추가해 구분되도록 구성
  - 프론트엔드
    - RootLayout
      - Notification 컴포넌트를 추가
        - 알림이 전역적으로 보여지도록 구성
    - DirectChats
      - 알림과 관련된 내용을 주석 처리하고 Notification 컴포넌트로 옮김
    - Notification
      - 알림과 관련된 Zustand, 변수 JSX 내용 추가
      - 알림 컨테이너 전체 내용과 내용을 보여주는 부분 CSS가 적용될 수 있도록 className 추가
  - CSS
    - Notification
      - notification-container
        - 알림 위치 조정, 알림 간 간격 내용 추가
      - notification-item
        - 배경색, 전체 크기, 애니메이션 추가
      - keyframe fadeIn
        - 알림이 추가될 때 오른쪽에서 왼쪽으로 등장하도록 애니메이션 구성
  - 여러 알림 내용들이 전역적으로 보여질 수 있도록 구성하고 테스트한 결과, 문제없이 적용되어 홈 화면, 다른 그룹 채팅방 등에서 친구 요청, 그룹 채팅방 초대, 새로운 메시지 추가 관련 알림 메시지가 출력되는 것을 확인할 수 있었다.
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/3556140903e3ec1fdc1d3e6672d11f44af7fd43a)

<br />

- 다이렉트 채팅 Zustand 추가 및 친구 컴포넌트 다이렉트 채팅 내용 추가 및 다이렉트 채팅방 컴포넌트 정리
  - 다이렉트 채팅과 관련해서 사용될 수 있도록 별도의 Zustand를 추가하고, 친구 컴포넌트에 다이렉트 채팅방으로 이동할 수 있도록 내용을 추가하고, 다이렉트 채팅방 컴포넌트에서 더이상 사용되지 않는 알림 내용을 정리
  - 프론트엔드
    - directChatStore
      - Zustand 구성을 위한 create import
      - 실시간 반영을 위해 Socket 관련 내용 추가
      - api 동적 경로를 위해 apiURL 변수 추가
      - getDirectChat, directChatForm 액션 추가만하고 내용 구성은 하지 않은 상태
        - 어떤식으로 작동되고 실행되는 것이 맞는지 아직 생각중
    - DirectChats
      - 주석 처리되어 사용하지 않는 알림 관련 코드 삭제
    - Friend
      - useDirectChatStore Zustand 추가 및 getDirectChats, directChatForm 액션 불러오도록 구성
      - useNavigate를 추가해 navigate로 이동될 수 있도록 구성
      - directChatHandler 함수 추가
        - userId 내용을 확인하고, directChatForm 액션을 실행하도록 구성
        - 현재 생각한 구조는 getDirectChat 내용을 불러와서 존재하는지 확인하고, 기존 채팅방이 없다면 새롭게 생성하고 만약 존재할 경우 바로 이동시키는 방식을 생각 중
      - 닉네임 내용에 onClick을 추가해 클릭 시에 directChatHandler 함수가 실행될 수 있도록 구성
  - 기본적인 구조와 관련된 내용만 추가하고, 실질적인 로직 구성은 하지 않아서 테스트를 진행할 내용이 없으며, 다이렉트 채팅방 구조와 동작에 대한 내용를 정리한 후에 로직 구성을 해 줘야 한다.
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/37c2a4d503df52eb35addeb06d83385f47712502)

# 오늘 느낀 점

- 친구 요청, 그룹 채팅방 초대, 새로운 메시지 추가 같은 내용에 대한 알림이 전역적으로 출력될 수 있도록 내용을 구성, 그리고 다이렉트 채팅방 관련 내용을 구성하려고 했으나 구조나 틀이 제대로 그려지지 않아서, 정리를 먼저해 주고 그 다음 구성을 하는 쪽으로 진행할 계획이다. 현재 생각한 구조는 친구 목록에서 친구를 클릭하면 다이렉트 채팅방으로 이동되도록 구성할 생각이고, 여기서 만약 이전에 이미 생성된 다이렉트 채팅방이 있다면 그 다이렉트 채팅방으로 바로 이동되고, 만약 없을 경우에는 먼저 생성하고 이동되도독 구성을 할 생각이다. 그리고 다이렉트 채팅방은 목록에서 X 버튼을 클릭하면 사라지는데 이 때 채팅방 내용이 모두 사라지는 것이 아닌, 단순히 해당 채팅방만 숨겨지는 형태로 안보이도록 해 주고, 다시 친구를 클릭하면 기존의 다이렉트 채팅방이 보여지는 방식을 생각하고 있는데, 우선 이 내용보다는 이동하고 생성하는 내용부터 구성을 해 줘야 할 것 같다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 그룹 채팅방 초대하고 알림을 전송하는 기능에서, 로그인한 사용자가 아닌 친구에게 보내는 그런 구조로 작동되도록 수정이 필요 (비로그인 상태여도 상관이 없음 단순하게 친구한테 친구 요청하면 알림 메시지가 전달되어야 함)

- 추가된 친구와 대화를 나눌 수 있는 다이렉트 채팅방

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
