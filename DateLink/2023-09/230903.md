# 오늘 한 일

### React 공부

- 세 번째 연습 프로젝트
  - 모달 위치 변경
    - 장바구니 버튼에 있던 모달을 App.js로 옮기고 헤더, 장바구니 버튼 컴포넌트에는 prop으로 전달해 열고 닫기하도록 변경
  - 입력한 갯수를 가져오는 기능 구성
    - 이 부분을 Input 컴포넌트에서 구성을 해보았는데 뭔가 잘못된 거 같다는 생각이 들었다.
    - 우선 form을 사용하는 컴포넌트가 분리가 되어있어서 Input 컴포넌트에서 구성하는 것이 아닌, form이 있는 컴포넌트에서 구성을 하고 prop으로 전달하고 상태 끌어올리기로 데이터를 다시 받는게 맞다고 생각 되어 그렇게 다시 구성해봐야 함
  - 갯수 끌어올리기
    - 예상대로 Input 컴포넌트에서 구성하는 것이 아닌, form이 있는 MealItemForm 컴포넌트에서 state를 사용해서 구성을 하고 변경된 입력 값 내용을 저장하는 핸들러를 추가, Input 컴포넌트에서는 MealItemForm 컴포넌트의 변경된 입력 값 내용을 저장하는 핸들러를 작동하는 용도로 사용
    - MealItemForm 컴포넌트에서 변경된 입력 값을 state를 통해서 저장하고 제출될 때 해당 내용을 상위 컴포넌트인 MealItem 컴포넌트로 전달 (상태 끌어올리기)
      - form이 submit되어 제출될 때 새로고침 되지 않도록 `event.preventDefault()` 추가
  - map 함수 위치 변경 및 App.js로 식사 데이터 끌어올리기
    - MealItem에서 더미 데이터를 가져와 map 함수를 사용해 데이터가 보여지도록 구성해놓았는데 더미 데이터를 사용해 가격 계산을 하기 위해서 MealItem에서 더미 데이터를 사용하는 것을 더 상위 컴포넌트인 AvailableMeals 컴포넌트에 옮겨서 더미 데이터를 map 함수를 사용해 새로운 배열을 만들고 MealItem에 새롭게 만든 배열을 전달하도록 변경
      - key prop은 MealItem에서 사용될 수 있도록 map 함수를 통해 만든 새로운 배열의 id를 바로 사용
    - mealItem에서는 AvailableMeals에서 전달된 새로운 배열 데이터의 가격과 MealItemForm에서 받은 갯수를 곱해 해당 식사의 총합을 계산
    - 객체를 생성해 객체의 속성으로 더미 데이터에 저장된 이름, 앞에서 계산한 식사의 총합, MealItemForm에서 받은 갯수를 저장
      - 여기서 계산된 총합과 갯수는 숫자형으로 저장
    - MealItem에서 name, desc, price 내용은 AvailableMeals 컴포넌트로부터 받은 데이터를 사용해 출력
    - MealItem에서 객체로 구성한 데이터를 AvailableMeals로 전달 그리고 다시 App.js로 전달
    - App.js에서 새로운 useState를 생성해 AvailableMeals로부터 받은 객체 데이터를 배열에 저장
    - 배열에 저장된 객체 데이터를 Modal 컴포넌트에 전달
  - App.js에서 이전 상태에 의존해 데이터 저장
    - 이전에 구성해놓은 코드는 새로운 데이터가 App.js로 전달될 때 기존의 데이터를 없애버리고 배열에 저장되기 때문에 이전에 추가해놓은 데이터도 저장이 되고, 새로운 데이터도 저장이 되도록 이전 상태에 의존해 데이터를 저장하도록 구성
  - Modal 컴포넌트에 전달된 데이터를 Cart 컴포넌트에 전달 및 객체 속성 이름 변경
    - App.js에서 Modal 컴포넌트에 전달한 데이터를 Cart 컴포넌트에서 사용하기 위해서 Cart 컴포넌트로 전달
    - 전달한 데이터를 사용하기 위해 코드를 구성해보다가 먼저 총합을 계산할 수 있도록 배열에서 가격 데이터만 뽑아서 계산해보려고 했으나, 아직 제대로 구현하지 못함
      - filter를 사용해서 기능을 구현하려고 했으나, 제대로 작동하지 않아서 다시 시도를 해봐야 함
    - 객체 속성에서 속성 이름을 좀 더 단순하게 변경
    - prop의 이름도 조금씩 변경
      - 핸들러를 사용하지 않는 prop은 on을 빼고 다른 이름으로 변경

<br />

# 오늘 느낀 점

- 모달의 위치를 변경했는데 App.js가 괜찮다고 생각되어 옮기게 되었다. 식사 메뉴로 옮기기엔 뭔가 그 곳에서 식사 메뉴를 제출했을 때 바로 장바구니가 열리는게 아니기 때문에 마땅치 않다고 생각되었고, 장바구니 버튼을 클릭해야 모달창이 뜨기 때문에 App.js에 구성했다. 그리고 입력한 갯수를 가져올 수 있도록 기능을 추가했고, form에서 갯수를 입력하고 제출될 때 상위 컴포넌트로 전달되도록 상태 끌어올리기를 사용했다. map 함수도 위치를 변경해주었는데 기존에 식사 아이템 컴포넌트에서 구성을 해놓았으나, 식사 아이템 컴포넌트에서 하위 컴포넌트로부터 받은 갯수 데이터와 더미 데이터의 가격을 곱해서 갯수에 따른 가격을 구해야 하는데 식사 아이템 컴포넌트에서 더미 데이터를 map 함수를 사용해 구성하면 사용할 수 없다고 생각이 되어 더 상위 컴포넌트인 AvailableMeals 컴포넌트에서 더미 데이터를 가져와 먼저 map 함수를 사용해 새로운 배열로 만들어서 전달하도록 구성했다. 이렇게 구성함으로써 식사 아이템 컴포넌트에서 상위 컴포넌트인 AvailableMeals, 하위 컴포넌트인 MealItemForm으로부터 각각 전달 받은 데이터를 사용해 계산할 수 있고 계산된 데이터와 더미 데이터의 이름, MealItemForm에서 전달 받은 갯수까지 객체로 묶어서 상태 끌어올리기를 통해 AvailableMeals로 데이터를 전달할 수 있게 되었다. 그리고 데이터를 전달받은 AvailableMeals에서 다시 App.js로 상태 끌어올리기를 통해 전달하고 App.js에서 이전 상태에 의존해 데이터를 저장하고 앞에서 먼저 입력된 데이터가 삭제되지 않고 저장되도록 해주었다. 그 저장된 데이터를 이제 장바구니에서 사용할 수 있도록 Modal에 전달, 그리고 Modal에서 Cart로 전달해주었다.

- 현재 구성한 기능과 내용은 갯수 데이터를 상위 컴포넌트로 끌어올려서 가격과 곱해서 새로운 데이터를 만들고 해당 데이터와 다른 데이터를 포함해 객체를 만들고 객체 데이터를 다시 끌어올려서 저장하고 그걸 다른 형제 컴포넌트로 전달까지 완료하였다. 근데 조금 문제가 생긴 부분이 있는 것 같은데 여기서 App.js에서 이전 상태에 의존해 데이터를 저장하는 것은 좋은데 여기서 기존에 추가한 것과 같은 식사 메뉴의 갯수를 설정하고 추가하면 기존의 동일한 식사 메뉴에서 추가되는 것이 아닌, 배열 안에서 새로운 객체 데이터로 저장이 되는데 이 부분을 다시 살펴봐야할 것 같다. 내 생각엔 기존의 동일한 식사 메뉴 배열에 갯수가 추가되며, 추가된 갯수만큼 가격도 추가가 되도록 구성을 해야 할 것 같은데 이 부분은 확인이 좀 필요하다. 해당 부분 수정과 Cart 컴포넌트에서 앞에서 저장된 데이터를 사용해 장바구니에서 보이도록 하고, 장바구니에서 갯수를 수정해서 해당 식사 메뉴 가격과 총합 가격이 수정되도록 해주는 부분만 남았는데 이 부분이 쉽지 않을 거 같지만 그래도 강의를 듣지 않고 혼자서 끝까지 구성을 해보고 싶다는 생각이 든다. 기능을 다 구성하고 나서 이제 portal, context, reducer와 같은 기능을 사용해서 코드를 좀 더 좋게 수정을 해줘야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

- React Hook나 React 내용 따로 정리

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작 (영화 추천 사이트)

- 거래 명세서 프로젝트 제작 (React, Python, MySQL)

- Python으로 웹 스크래퍼 만들어보기 (조금 뒤로 밀림)

- Python, PHP 공부할 거 찾아보기 (조금 뒤로 밀림)

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기 (조금 뒤로 밀림)

- Python 데이터 분석도 한번 봐보기 (조금 뒤로 밀림)
