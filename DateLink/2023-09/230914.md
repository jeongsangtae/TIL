# 오늘 한 일

### React 공부

- React의 백그라운드 작업에 대해 알아보기

  - React가 어떻게 내 컴포넌트와 연동이 되는지 어떻게 컴포넌트를 업데이트를 하고 상태 객체는 이 모든 것과 어떻게 관련되어 있는지를 보는 섹션
  - React가 실제로 작동하는 방식
    - React DOM은 웹에 대한 인터페이스
    - React는 컴포넌트를 관리하고 상태 객체를 관리하고 또한 다른 객체의 상태와 컴포넌트가 바뀌어야 하는지를 확인하고 컴포넌트의 변경 전후의 상태를 확인하는 라이브러리
    - React는 변경된 내용과 어떤 화면이든간에 화면에 표시되어야 할 정보 모두를 현재 사용중인 인터페이스에 전달
      - ex) React DOM과 같은 것
    - React DOM은 브라우저의 일부인 실제 DOM에 대한 작업을 하므로 사용자가 보고 있는 화면에 무언가를 표시하는 역할은 React DOM의 몫이다.
    - React는 컴포넌트만 신경쓴다.
      - React는 props를 관리
      - props는 컴포넌트에 전달하는 데이터로 컴포넌트 구성을 가능하게 해주고, 부모-자식 컴포넌트간의 통신을 연결해준다.
      - React는 컴포넌트 내부의 데이터인 state라는 것을 다룬다.
      - 컴포넌트 전체의 데이터인 context라는 것도 다룬다.
    - React는 컴포넌트를 다루며, 최종적으로 React가 하는 역할이란 가상 DOM이라는 개념을 사용하는 것이라고 할 수 있다.
      - 이 가상 DOM은 앱이 마지막에 만들어내는 컴포넌트 트리를 결정한다.
      - 각각의 하위 트리를 갖고 있는 컴포넌트들은 JSX 코드를 반환하는데 이 가상 DOM은 컴포넌트 트리의 현재 모양과 최종 모양을 정한다.
      - 상태가 업데이트되면 이 정보는 React DOM으로 전달되어 갱신 전후의 상태 차이를 인식하고 React가 컴포넌트 트리를 통해 구성한 가상 스냅샷인 가상 DOM과 일치하도록 실제 DOM을 조작하는 방법을 알 수 있게 한다.
    - React는 가상 DOM과의 비교를 통해 최종 스냅샷과 현재의 스냅샷을 실제 DOM에 전달하는 구조를 갖는다. 이 것이 React가 작동하는 방식이다.
      - 가상 DOM을 통해 2개의 스냅샷 간의 차이점을 알아낸다.

  <br />

  - React 재평가에 대한 중요한 내용
    - 상태나 props, context, 컴포넌트에 변경이 발생하면 컴포넌트 함수가 재실행되어 React가 이를 재평가하게 된다.
    - 하지만 이 재평가가 DOM을 다시 렌더링하는 것은 아님을 알고 있어야 한다.
    - React에 의해 컴포넌트 함수가 재실행된다고 해서 실제 DOM의 각 부분들이 다시 렌더링된다던가 재평가되는 것은 아니다.
    - 컴포넌트 부분과 React 부분, 그리고 실제 DOM을 구분할 줄 알아야 한다.

  <br />

  - 컴포넌트
    - state, props, context가 변경될 때 재평가된다.
    - 이러면 React는 컴포넌트 함수를 다시 실행한다.
  - 실제 DOM
    - React가 구성한 컴포넌트의 이전 상태와 트리, 그리고 현재의 상태간의 차이점을 기반으로 변경이 필요할 때만 업데이트된다.
    - 실제 DOM은 필요한 경우에만 변경된다.
    - 이 부분은 성능 측면에서 매우 중요한데 이전과 현재의 상태를 가상으로 비교한다는 것은 간편하고, 자원도 적게 들기 때문이다. 이 작업은 메모리 안에서만 발생하기 때문이다.
    - 실제 DOM을 사용하게 된다면, 즉 브라우저에 직접 렌더링하는 것은 성능 측면에서 자원이 많이 필요하게 된다.
    - 실제 DOM을 사용하는 작업은 성능 부하가 많이 발생한다.
      - 한 곳에서의 작은 변경이면 모르겠지만 여러 곳에서 소규모 변경이 발생한다면 실제 DOM을 그만큼 많이 사용하므로 페이지가 느려질 수 있다.

  <br />
      
  - 예시로 알아보는 DOM 작동 방식
    - ex) state가 변경되어 기존의 코드에 h1 태그가 있고, p 태그가 새로운 문장이 추가된 경우
      - 이 경우에서 React는 이전과 현재 두 스냅샷간의 차이점이 p 태그 문장임을 확인하고 이를 React DOM에 보고하면 React DOM은 실제 DOM을 업데이트하고 새로운 문장인 p태그를 집어넣는다.
      - React DOM은 전체 DOM을 재렌더링하지 않는다.
      - h1이나 div 요소는 건드리지 않고, div 안의 h1 요소 다음에 p 태그 문장만을 추가한다.
      - 이와 같은 방식이 백그라운드에서 React가 작동하는 방식이다.

  <br />

  - 컴포넌트 업데이트
    - state 변경이 발생하면 컴포넌트 전체가 재실행되고, 재평가된다는 사실을 확인할 수 있다.
      - state나 props 또는 context와 같은 변경되는 컴포넌트는 재실행, 재평가된다.
    - 실제 DOM을 통한 업데이트는 가상 스냅샷 간의 차이점만 반영이 된다.
      - element 탭에서 확인해보면 추가된 p태그가 깜빡거리고, 삭제되면 div만 깜빡거리는 것을 확인할 수 있다.
      - 이 내용을 이해하는 것이 매우 중요하다.
    - state 관리는 계속 이루어지고 있기 때문에 다른 컴포넌트의 단락에 시각적으로만 영향을 준다고 해서 App 컴포넌트가 재평가되지 않는다던가, 그런 것은 아니다.
    - state에 대한 관리를 하고 있기 때문에 App 컴포넌트가 재평가되고, 재실행 되는 것이다.
      - props, context 등이 결국은 state 변화를 일으킨다고 보면 된다.
    - 컴포넌트 재평가와 컴포넌트 함수의 재실행이 일어나도 실제 DOM이 다시 렌더링되거나, 변경되는 것은 아니다.
    - 컴포넌트가 재실행되면 이의 모든 자식 컴포넌트들 역시 재실행, 재평가된다.
      - 과연 이렇게 실행되는 것이 괜찮은가?
        - 연결된 모든 컴포넌트 함수가 재실행되면 굉장히 많은 함수가 가상 비교가 된다는 것인데 성능에 영향을 미치지는 않을까 하는 질문이 생길 수 있다.
      - 사실, 전혀 그렇지 않다. (괜찮다는 말)
        - 예시처럼 DemoOutput은 변경되지 않았으므로, 재평가하지 않는다.
        - 하드 코드된 props만이 바뀐 것
        - 만약 props가 없다면 App 컴포넌트의 상태 변경이 없으므로 출력 결과 역시 바뀌는 것이 없다.
        - DemoOutput과 모든 자식 컴포넌트를 재실행하는 것은 낭비
    - 예시 코드는 React의 백그라운드 작업에 대해 알아보기 내용의 9/15에 commits한 [children component reassess detail](https://github.com/jeongsangtae/react-complete-training-behind-the-scenes-optimization-technique) 내용을 봐보면 된다.

<br />

# 오늘 느낀 점

- 오늘 reducer와 context 내용에 대해 한 번 더 읽어보며 복습하고 React의 백그라운드 작업에 대해 알아보는 시간을 가졌는데, 이 내용은 엄청 깊게 공부하는 것보다는 좀 빠른 속도로 이런 내용이구나~ 하고 넘어가야 할 것 같다. 해당 내용은 React의 구조를 짜는 것이 아닌, React 뒤에서 어떤 식으로 작업이 진행되고 있는지 알고 가는 섹션이기 때문에 현재는 내용을 한 번 쭉 듣는 것으로 만족을 해야 한다고 생각이 된다. 일단 현재 들은 내용의 핵심은 state나 props, context와 같이 컴포넌트 변경이 발생하면 재실행, 재평가되는데 이 재평가가 DOM을 다시 렌더링하는 것은 아니라는 것을 알고 있어야 한다. React에 의해 컴포넌트 함수가 재실행된다고 해서 실제 DOM의 각 부분들이 다시 렌더링 되는 것은 아니며, 컴포넌트 부분과 React 부분, 실제 DOM을 구분할 줄 알아야 한다. 컴포넌트가 재실행되면 해당되는 모든 자식 컴포넌트들 역시 재실행, 재평가 되는데 이 부분에서 성능에 영향을 미치지 않을까 생각이 들 수 있는데, 사실 전혀 그렇지 않고 state 내용이 변경되지 않으면 재평가 되지 않으므로 출력 결과 역시 바뀌는 것이 없어 괜찮다고 한다. 아직 React의 백그라운드 작업에 대한 내용이 조금 더 남아있고, 그 다음으로 최적화 부분도 있는데 이 내용들은 중요한 내용만 넘겨서 듣고 자세한 내용은 추후에 필요해졌을 때 다시 듣는게 좋다고 생각이 된다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작 (영화 추천 사이트)

- 거래 명세서 프로젝트 제작 (React, Python, MySQL)

- Python으로 웹 스크래퍼 만들어보기 (조금 뒤로 밀림)

- Python, PHP 공부할 거 찾아보기 (조금 뒤로 밀림)

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기 (조금 뒤로 밀림)

- Python 데이터 분석도 한번 봐보기 (조금 뒤로 밀림)
