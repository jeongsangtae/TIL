# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 그룹 채팅방 위치 드래그 관련 스타일 CSS, 타입 정의 수정 및 드래그하는 그룹 채팅방, 드래그 관련 이벤트 타입 정의 수정 및 드래그 오버레이 관련 내용 추가 및 코드 정리
  - 그룹 채팅방 드래그 시에 다른 채팅방 위로 지나가도록 스타일 CSS를 수정하고, 관련 타입 정의도 함께 수정해 타입 에러 해결 및 드래그 관련 그룹 채팅방 컴포넌트와 드래그 관련된 함수 이벤트 타입 정의를 수정해 타입 에러를 해결하고 드래그 오버레이 관련된 내용을 추가하고 주석 처리
  - 프론트엔드
    - GroupChats
      - core 라이브러리에서 DragOverlay를 추가로 불러오도록 구성
      - core 라이브러리에서 DragStartEvent, DragOverEvent 타입을 추가로 불러오도록 구성
      - activeGroupChatId useState를 추가하고 주석 처리
        - 초기값은 null, 타입은 string또는 null로 구성
      - dragStartHandler 함수 수정
        - event 관련 타입 정의를 DragStartEvent로 구성
      - dragOverHandler 함수 수정
        - event 관련 타입 정의를 DragOverEvent로 구성
      - activeGroupChat useMemo 추가
        - 그룹 채팅방 목록에 find를 사용해 그룹 채팅방 ID와 activeGroupChatId를 비교하고 일치하면 반환하도록 구성
        - 의존성 배열은 activeGroupChatId, groupChats로 구성
        - 구성하고 테스트해보지 못했으며 주석 처리
      - JSX 코드 내용 수정
        - DragOverlay 추가
          - activeGroupChat를 조건부로 구성하고 true면 내용이 보여지고, false면 null로 인해 아무것도 보여지지 않도록 구성
          - 아직 전부 구성한 상태가 아니므로 주석 처리
    - SortableGroupChat
      - SortableGroupChatProps 타입 정의를 불러오도록 구성
      - props로 넘어오는 내용들에 대한 타입 정의를 SortableGroupChatProps로 수정
      - showTopLine, showBottomLine 내용에 관한 주석 추라
      - style 변수 수정
        - style 변수 타입을 "React.CSSProperties"로 구성
        - zIndex를 추가하고 isDragging을 조건부로 사용해 true면 1000, false면 undefined가 적용되도록 구성
        - position을 추가하고 isDragging을 조건부로 사용해 true면 "relative", false면 undefined가 적용되도록 구성
      - JSX 코드 내용 수정
        - 주석 처리한 내용들 모두 삭제
    - types
      - SortableGroupChatProps 타입 정의 추가
        - \_id, hostId, title, contextMenu, setContextMenu는 GroupChatProps에서 타입 정의한 내용과 동일하게 구성
        - activeIndex, overIndex를 추가해 number 또는 null이 적용되도록 구성
      - GroupChatProps 타입 정의 수정
        - isDragging의 옵셔널 타입을 삭제하고 항상 받도록 수정
  - CSS
    - SortableGroupChat
      - 주석 처리한 여러 테스트 내용 모두 삭제
  - 그룹 채팅방을 드래그해 이동할 때 겹치는 다른 채팅방 뒤가 아닌 앞으로 지나가도록 스타일 CSS를 수정하고 관련 타입 정의도 추가해 타입 에러가 발생하지 않도록 구성해주었으며, 드래그 관련 그룹 채팅방 컴포넌트와 드래그에 사용되는 함수 이벤트 타입 정의를 수정해 마찬가지로 타입 에러가 발생하지 않도록 구성하고, 드래그 오버레이 관련 내용을 추가해 확인한 결과, 그룹 채팅방 드래그 시에 겹친 채팅방 뒤가 아닌 앞으로 지나가는 것을 확인했고, 추가 및 수정한 타입 정의가 더이상 타입 에러를 발생시키지 않는 것을 확인했으며, 드래그 오버레이 관련 내용은 일부만 구성한 상태라서 추가로 더 구성해본 뒤 테스트해볼 예정이다.
    - 드래그해 옮기는 채팅방이 완전히 해당 위치에 이동하기 전에 겹친 채팅방이 드래그하는 채팅방 위치로 이동하고 있기 때문에 해당 내용을 수정해, 미리 이동하지 않도록 구성해봐야 함
    - 그룹 채팅방 목록 변경 시 관련 내용을 저장하지 않아 새로고침 시에 초기화되기 때문에 해당 내용 추가 수정 필요
    - 다이렉트 채팅방 목록, 그룹 채팅방 내의 사용자 목록, 사용자 정보가 보여지는 아바타 내용에서 테두리 두께 설정 확인 필요
    - 로그인, 회원가입 페이지 배경에 사용되는 여러 이미지를 더 추가해 테스트해봐야 함
    - 해야 할 일에 정리된 내용 처리 필요
    - 다이렉트 채팅방 순서가 변경될 때 부드럽게 변경되는 기능
    - 그룹 채팅방 우클릭 시에 보여지는 컨텍스트 메뉴 CSS 수정 필요 (위치, UI 등)
    - 다크 모드 및 라이트 모드 관련 내용
    - 화면 투명도 관련 내용
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/853ba3d3cc78aecfbd1cd2c31ef592b7af924f5a)

# 오늘 느낀 점

- 그룹 채팅방 드래그 시에 겹친 채팅방 뒤가 아닌 앞으로 이동하도록 구성하고 여러 타입 정의 관련 내용을 추가해 타입 에러를 해결한 내용은 모두 문제가 없지만, 드래그 오버레이 관련 내용은 일부만 구성하고 전체적으로 작동할만한 구성을 하지 못한 상태라서 추가로 구성을 한 뒤 테스트를 진행해볼 생각이다. 현재 생각한 내용으로는 그룹 채팅방 드래그 시에 드래그하는 채팅방의 기존 위치에 그림자 같은 그룹 채팅방이 보여져 해당 위치에 존재하고 드래그해 다른 채팅방 위치로 이동한 뒤 드롭할 경우, 해당 그림자 형태의 그룹 채팅방이 사라지는 구조를 생각하고 있는데, 여기서 그림자 형태의 채팅방이 어떤식으로 보여질 지 제대로 구성하지 못한 상황이기에 이 부분을 추가 구성한 뒤 테스트해볼 생각이다. 이 구성이 빠르게 진행되면 변경된 그룹 채팅방 목록이 저장되어 새로고침 시에도 그대로 보여지는 내용까지 구현해볼 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

- 다크 모드 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
