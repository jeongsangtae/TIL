# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 스크롤 로직 수정 (실패)
    - 스크롤 관련해서 현재 동작이 원하는 동작과 다르게 이루어지고 있기 때문에 내용을 수정해서 테스트해보았다.
    - 프론트엔드 구성
      - 새로운 메시지가 추가되면 스크롤이 내려가는 함수와 새로운 메시지 버튼 클릭 시 스크롤이 내려가는 함수에서 `behavior: "smooth"` 내용을 삭제
        - 이 내용이 있는 상태에서 스크롤이 내려가면 새로운 메시지 버튼이 계속 보여진 상태로 내려가기 때문에, 삭제해서 바로 맨 아래로 스크롤이 떨어지면서 새로운 메시지 버튼이 보여지지 않도록 구성 변경
      - 스크롤이 이동될 때, 내용을 확인할 수 있게 새로운 console.log를 추가해서 테스트해보고, scrollTop, scrollHeight, clientHeight를 객체 디스트럭처링하도록 변경
      - useEffect에서 messages를 의존성 배열로 구성하고, messages가 변경된다면 스크롤이 하단으로 이동되도록 구성했는데, 여기에 if문을 추가해서 조건에 따라서 이동되고, 조건에 부적합하면 이동되지 않도록 구성
        - scrollTop, scrollHeight, clientHeight 내용을 조건부에서 사용하는데 이 내용을 객체 디스트럭처링을 사용해서 구성
        - if문 조건을 여러 내용으로 테스트해봤으나, 생각하는 작동의 조건이 구성되지 않아서 추가 변경이 필요함
    - 테스트 결과, 새로운 메시지 버튼을 클릭했을 때 최하단으로 바로 스크롤이 이동하면서 새로운 메시지 버튼이 다시 보이지않는 것을 확인했고, 새로운 메시지가 추가되었을 때 바로 스크롤이 이동하면서 새로운 메시지 버튼이 보여지지 않을 것도 확인을 했다. 하지만 이 두 가지를 연결해서 조건부로 구성하는 부분에서 아직 제대로 구현이 되지 않아서, 따로 테스트를 해야 했는데 이 두 가지를 하나의 조건부에 뭉쳐서 작동되도록 추가 수정이 필요하다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/202552a494b917af20e19a2c35ac048f3d556f25)

<br />

- 추가 및 해결 해야 할 내용
  - 채팅과 관련된 내용 구성
    - 출력되는 메시지 UI 수정 필요
      - 본인이 작성한 메시지는 오른쪽, 상대방 메시지는 왼쪽에 보이도록 구성해야 함
    - 사용자-관리자 사이의 방 번호를 설정해서 서로 채팅이 보이도록 구현해야 함
    - 스크롤 작동에서 추가 작업을 해봐야 함
      - 스크롤을 위로 올렸을 때 아래로 가는 버튼이 등장해서 클릭 시 이동되도록 구현 필요
      - 본인이 채팅을 입력하면 바로 맨 아래로 이동되도록 구성
      - 새로운 메시지가 뜨면, 아래로 가는 버튼이 사라지고, 새로운 메시지 버튼만 보이도록 해야 함
    - 채팅창에서 사용되는 함수 이름 변경도 생각을 해봐야 하는데, 좀 더 명확하게 표현할 필요성을 느낌
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - ul 요소 안의 자식이 li가 아닌, div나 프래그먼트로 사용되는 부분을 수정해야 함

# 오늘 느낀 점

- 스크롤 이동한 상태에서 새로운 메시지가 추가되고, 새로운 메시지 버튼이 출력되면서 해당 버튼을 클릭했을 때 이동되며, 스크롤이 제일 밑이 아닌 곳에서 위치할 때 내가 메시지를 입력하고 전송하면 바로 최하단으로 내려오는 그런 동작을 생각했는데, if문 로직을 수정해도 해결되지 않아서 확인해보니 콘솔에서 clientHeight와 scrollHeight의 이름을 반대로 설정해서 얻은 값을 제대로 이해하지 못하고 if문 조건을 구성해서 원하는 동작을 만들어내지 못했다. 이제 어떤 부분이 문제였는지 알았기 때문에 내용을 다시 구성해서 테스트해보고 생각한 동작을 다시 구현해봐야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
