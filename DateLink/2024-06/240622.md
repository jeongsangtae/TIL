# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - input에 내용을 입력했을 때 제출 버튼이 활성화 되도록 변경 및 Chats, Chat 컴포넌트 다크 모드 내용 추가
    - 기존의 방법인 빈 메시지 상태에서 내용을 제출했을 때, 채팅창 테두리와 input placeholer를 빨간색으로 만들어서 알 수 있게 구성했는데 이 내용을 변경해서 메시지를 입력하지 않았을 때는 전송 버튼이 활성화되지 않도록 변경해주고 Chats, Chat 컴포넌트에 다크 모드를 추가해서 모드 변경에 따라서 채팅창 배경이나 말풍선 등 색이 변경되도록 구성해주었다.
    - 프론트엔드 구성
      - Chats
        - useContext, AuthContext 추가
        - error useState 삭제하고, emptyInput useState 추가
          - 초기 값은 true로 구성
        - 메시지 보내는 함수에서 빈 문자열인 것을 확인하면 emptyInput이 true가 되게 구성해주고, 메시지를 보낸 후에 다시 emptyInput이 true가 되게 구성
        - input의 onChange에서 사용되는 함수 구성에서 입력한 내용을 확인하고, 해당 값을 message에 저장하면서 빈 문자열인지 확인해서 빈 문자열일 경우 true, 내용이 입력되어 있다면 false를 emptyInput에 전달되도록 구성
        - 채팅창 컨테이너, input 컨테이너 className에 테마모드 className 추가
        - 버튼 className에서 emptyInput을 확인하고 true일 때는 opacity className이 추가되고, false일 때는 아무 내용도 추가되지 않도록 구성
      - Chat
        - useContext, AuthContext 추가
        - 말풍선과 메시지 부분에 테마모드 className 추가
    - CSS 구성
      - Chats
        - error와 관련된 빨간색 처리했던 CSS 내용 삭제
        - 채팅창 컨테이너 라이트 모드에서는 흰색, 다크 모드는 기존의 색인 검은색 계열로 구성
        - 새로운 메시지 버튼의 색은 회색 계열로 구성하고 투명도를 추가, 글씨색은 흰색으로 구성
        - input 컨테이너의 위쪽에 테두리 선을 추가하고, input 오른쪽에 버튼과 연결되는 곳에도 테두리 선을 추가
        - input의 다크 모드에서 배경색은 회색 계열로 구성하고 텍스트는 흰색으로 구성
        - input의 placeholder 색은 흰색과 회색 사이의 색으로 구성
        - 라이트 모드의 버튼에서 전송 버튼 텍스트는 검은색 계열으로 구성하고, 배경은 투명하게 구성해서 input 컨테이너 색이 적용되도록 구성하고, 버튼이 hover 되었을 때는 회색 계열로 변하도록 구성
        - 다크 모드의 버튼 텍스트는 흰색으로 구성하고, hover는 배경보다 조금 더 어두운 검은색 계열로 보이도록 구성
        - opacity 내용에는 불투명도를 추가하고 커서 이벤트가 작동하지 않도록 구성
      - Chat
        - 라이트 모드의 말풍선은 푸른 계열로 구성하고, 다크 모드의 말풍선은 회색계열로 구성
        - 라이트 모드의 메시지는 검은색보다 조금 옅은 색으로 구성하고, 다크 모드의 메시지는 흰색으로 구성
    - 테스트 결과, 채팅창 UI가 이전보다 훨씬 보기 편해졌고 모드 변경에 따라서 채팅창 UI 색도 변경되도록 해주었으며, input에서 빈 내용일 때 전송 버튼을 클릭할 수 없게 해주고 내용을 입력해야 버튼이 활성화되면서 채팅을 입력할 수 있게 해주었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/21f428742afba9259513d65dcfc1f54068923411)

<br />

- 추가 및 해결 해야 할 내용
  - 채팅과 관련된 내용 구성
    - 출력되는 메시지 UI 수정 필요
      - 본인이 작성한 메시지는 오른쪽, 상대방 메시지는 왼쪽에 보이도록 구성해야 함
    - 사용자-관리자 사이의 방 번호를 설정해서 서로 채팅이 보이도록 구현해야 함
    - 스크롤 작동에서 추가 작업을 해봐야 함
      - 스크롤을 이동했을 때는 최신 메시지 버튼이 화면에 보여지고, 해당 버튼 클릭하거나 최신 메시지 쪽으로 이동해서 메시지가 보이도록 해주고, 스크롤을 이동하지 않았을 때는 기존의 방식처럼 항상 최신 메시지로 이동되는 쪽으로 구성을 해봐야 함
      - 추가로, 스크롤 이동했을 때 새로운 메시지가 생기고 그 쪽으로 이동했다면 최신 메시지 버튼이 사라지도록 해줘야 함
    - 채팅창에서 사용되는 함수 이름 변경도 생각을 해봐야 하는데, 좀 더 명확하게 표현할 필요성을 느낌
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함
  - ul 요소 안의 자식이 li가 아닌, div나 프래그먼트로 사용되는 부분을 수정해야 함

# 오늘 느낀 점

- 사용자 채팅창의 UI 구성이 90%정도 마무리 되었기 때문에 이 내용을 바로 관리자 채팅창에 적용시켜도 괜찮지만, 아직 사용자와 관리자 간의 채팅을 연결해서 상대방 채팅이 보이게 하는 부분을 구현하지 못했기 때문에 이 부분까지 구현을 한 뒤에 UI 구성을 해서 한 번에 관리자 채팅창에 적용을 시켜야할 것 같다. 그리고 스크롤 부분도 아직 완벽하게 해결이 되지않았기 때문에 이 부분 추가 구성을 해줘야 하는데, 머릿속으로는 어떤식으로 작동되어야 하는지 정리가 됐는데 코드로 구현하는 부분에서 좀 어려움을 겪고 있기 때문에 조금씩 내용을 추가해서 테스트해보면서 구현해봐야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
