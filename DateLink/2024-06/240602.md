# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 관리자 챗 컴포넌트 추가 및 관리자 메인헤더, 관리자 사용자 컴포넌트 수정 및 백엔드의 관리자 사용자 get router 수정
    - 관리자 전용 채팅 컴포넌트를 추가하고, 관리자 메인헤더에서 관리자 채팅 컴포넌트를 사용하도록 변경, 관리자 사용자 컴포넌트에서 filter를 사용해서 관리자 계정을 걸러내는 코드를 추가하고, 백엔드의 관리자 사용자 get router에서도 관리자 계정을 걸러내는 코드를 추가
    - 백엔드 구성
      - users 컬렉션의 email 내용에 "$ne"를 사용해서, 관리자 email을 제외하고 데이터를 전송하도록 구성
    - 프론트엔드 구성
      - AdminChat
        - Chat 컴포넌트 내용을 가져와서 구성
        - 주석 처리된 내용은 삭제
      - AdminMainHeader
        - Chat 컴포넌트가 아닌, AdminChat 컴포넌트를 사용하도록 변경
      - AdminUsers
        - useLoaderData를 통해서 가져온 데이터를 fliter로 관리자 계정을 걸러내고 걸러낸 내용에서 map 함수를 사용해서 보여주도록 구성
    - CSS 구성
      - Chat CSS 내용을 가져와서 구성
    - 프론트엔드와 백엔드 두 곳에서 각각 관리자 계정을 제외해서 보여주도록 필터링하고 테스트해본 결과, 둘 다 문제없이 작동하는 것을 확인할 수 있었다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/a4fc3a61ad6894ff6c84cb218554d8140a1d701c)

  <br />

  - 관리자 계정 필터링을 프론트엔드, 백엔드 어디에서 필터링하는 것이 좋은가?
    - 프론트엔드
      - 실시간 반응성
        - 클라이언트에서 데이터를 필터링하면 사용자는 즉각적인 반응을 볼 수 있음
        - 사용자가 필터를 적용하거나 변경할 때마다 페이지를 새로 고치지 않아도 필터링된 결과를 실시간 확인 가능
      - 서버 부하 감소
        - 백엔드에서 데이터를 필터링하는 대신 프론트엔드에서 필터링을 수행하면 서버에 더 적은 부하가 가해짐
        - 서버는 필터링된 데이터를 클라이언트로 전송하기만 하면 되므로 데이터 처리 및 네트워크 부하가 줄어듬
    - 백엔드
      - 보안 강화
        - 민감한 데이터는 클라이언트로 전송되기 전에 서버에서 필터링되어 노출되지 않음
        - 사용자가 클라이언트 측에서 데이터를 조작할 수 없기 때문에 더 안전
      - 데이터 전송량 감소
        - 필터링된 데이터만 전송되므로 네트워크 대역폭이 절약
        - 클라이언트에서 처리해야 할 데이터가 줄어들어 성능이 향상
      - 서버 측 로직 일관성
        - 서버 측에서 데이터 필터링 로직을 중앙에서 관리할 수 있어 유지 보수 용이
        - 다양한 클라이언트에서 동일한 데이터를 일관되게 제공받을 수 있음
    - 백엔드에서 데이터를 필터링하는 것이 보안, 성능, 유지 보수 측면에서 대부분의 경우 더 나은 선택이 될 수 있다.
      - 클라이언트 측에서 더 유연한 필터링이 필요하다면, 클라이언트에서도 일부 필터링 로직을 처리할 수 있음
      - 프론트엔드에서 필터링하는 것은 타당한 접근 방법이지만, 백엔드에서 처리하는 것이 더 효율이 좋아보임

<br />

- 추가 및 해결 해야 할 내용
  - 커스텀 Hook에 대한 고려
    - Context API를 사용하는 것은 좋지만, 이 내용을 사용하려는 파일에서 하나하나 추가해서 사용하기 때문에 커스텀 Hook을 구성해서 재사용할 수 있도록 해줄 필요가 있음
  - 백엔드의 user-router.js에서 accessToken, login/success, profile router에서 모두 accessToken 함수 내용을 재사용하고 있는데, 굳이 3개의 router로 나눌 필요가 있는 지 확인해보고 필요가 없다면 하나로 줄여줘야 함
    - 명확하게 하기 위해서 일단은 하나로 합치지 않고, 그대로 나눠서 사용하도록 유지
    - 내용이 엄청 많은 코드로 구성된 것이 아니기 때문에 현재로서는 크게 문제 없다고 생각되어 그대로 유지
  - 코드 예외 처리 더 필요한 부분이 있는 지 체크해야 함

# 오늘 느낀 점

- 관리자 페이지에 관리자를 위한 챗 컴포넌트를 추가하고, 관리자 페이지의 사용자 페이지에서 관리자 계정을 걸러내서 보여주기 위해서 프론트엔드와 백엔드에서 각각 필터링 관련 내용을 추가하고 출력한 결과, 둘 다 문제없이 관리자 계정을 제외한 사용자 계정이 보여지는 것을 확인했다. 두 방법 중에서 어떤 방법으로 사용하는 것이 좋은지 내용을 찾아보고 각각의 장점을 정리해봤는데 결과적으로 백엔드에서 구성하는 것이 보안, 성능, 유지 보수 측면에서 더 나은 선택이 될 수 있기 때문에 백엔드에서 필터링해서 전달하는 것으로 진행을 해야 할 것 같다. 이제 관리자 계정을 제외하고 전달할 수 있게 되었기 때문에, 보여지는 사용자 계정을 삭제할 수 있도록 코드를 구성해야 하고 사용자 계정이 삭제될 때 그 사용자가 작성한 모든 게시글, 댓글, 답글도 함께 삭제가 되도록 구성을 해줘야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
