# 오늘 한 일

### React 공부

- React 공부

  - React에서 중급~고급 기능들
    - Side Effects
      - useEffect Hook
    - Reducer
      - Reducer가 있는 컴포넌트에서 복잡한 state를 관리하는 방법을 배우게 될 것
      - useReducer Hook
    - Context
      - 앱 수준 또는 컴포넌트 수준에서의 state를 알아보게 될 것
      - 즉, 여러 개의 컴포넌트에 영향을 주는 state에 대해 배우게 될 것
      - React에 내장된 것
      - 컴포넌트 간의 state 공유 및 state 업데이트를 쉽게 해준다.
      - useContext Hook
    - 이 기능들을 활용하면 더 복잡한 React 애플리케이션을 만들 수 있다.
  - Effect (Side Effect) & useEffect Hook
    - Effect (Side Effect)
      - 애플리케이션에서 일어나는 다른 모든 것을 뜻한다.
      - API 호출, 이벤트 리스닝, 타이머 설정 및 제거, DOM 조작, 구독과 해제 등
      - 예로 http 리퀘스트를 보내는 것, 브라우저 저장소에 무언가를 저장하는 것 (로컬 저장소에 저장하는 것을 말함), 코드에서 타이머나 간격을 설정할 수도 있다.
      - 리퀘스트를 보내는 것 자체나 잠재적 오류를 처리하는 것 등 이러한 것들은 React를 필요로 하지 않는데 이 부분은 React가 신경쓰는 부분이 아니다. 이러한 일을 하려고 React가 있는 것이 아니며 이러한 작업들은 화면에 직접 무언가를 그리는 작업이나 그와 비슷한 작업들과 관련되어 있지 않다.
        - 위와 같은 작업은 일반적으로 컴포넌트 평가의 밖에서 일어나야 하는 일
        - 즉, 일반적인 컴포넌트 함수 밖에서 실행되어야 함
      - 예로 http 리퀘스트를 컴포넌트 함수 내에서 작업해서 직접 보내면 함수가 다시 실행될 때마다 리퀘스트를 다시 보내게 된다. state가 변경될 때마다 보내게 되는데 이렇게 하는게 필요할 때도 있지만 항상 그런 건 절대 아니다. 이렇게 구성하면 무한 루프에 빠질 수도 있는데 이러한 문제를 방지하기 위해서 Side Effect는 **직접적**으로 컴포넌트 함수 내부에 들어가서는 안된다. 버그나 무한 루프가 발생할 가능성이 높기 때문이다. 또는 http 리퀘스트가 너무 많이 보내질 수도 있다. 그래서 Side Effect를 컴포넌트 함수 내부에서 사용할 때 필요한게 useEffect Hook
    - Side Effect를 처리하는 좋은 도구인 **useEffect Hook**
      - useEffect Hook은 그냥 내장 Hook
      - 컴포넌트 함수 내부에서 실행할 수 있는 또 다른 함수
      - 두 개의 매개변수, 두 개의 인수와 같이 호출된다.
        - `useEffect(() => { ... }, [ dependencies ])`
        - 첫 번째 인수는 함수
          - `() => { ... }`
          - 지정된 의존성이 변경된 경우에 모든 컴포넌트 평가 후에 실행되어야 하는 함수
        - 두 번째 인수는 지정된 의존성
          - 의존성으로 구성된 배열
        - 의존성이 변경될 때마다 첫 번재 함수가 다시 실행된다.
        - 첫 번째 함수에 어떤 Side Effect 코드라도 넣을 수 있다.
          - 그 코드는 내가 지정한 의존성이 변경된 경우에만 실행된다.
          - 컴포넌트가 다시 렌더링될 때는 실행되지 않는다. 처음 렌더링 될 때는 실행
          - 의존성이 변경된 경우에만 실행된다.
    - Side Effect와 useEffect 정리
      - Side Effect는 일반적으로 컴포넌트 함수 밖에서 실행되어야 하는 작업이다. 이런 Side Effect를 컴포넌트 함수 내부에서 처리하려면 useEffect Hook을 사용해서 처리해줘야한다.
      - useEffect를 사용하면 Side Effect가 처음 렌더링 될 때와 의존성 배열에 지정된 값들이 변경될 때마다 실행되도록 할 수 있다.
      - Side Effect가 컴포넌트 함수 내부에서 useEffect없이 사용하면 상태 변경이나 렌더링이 될 때마다 매번 Side Effect가 실행되어 무한 루프와 같은 문제가 발생할 수 있는데 useEffect를 통해 무한 루프와 같은 문제를 방지해줄 수 있다.
        - useEffect를 사용하면 조건적으로 실행하도록 설정하거나, 의존성 배열을 통해 특정 값이 변경될 때만 실행하도록 제어할 수 있기 때문이다.
  - useEffect Hook 실습
    - 현재는 따로 백엔드와 서버를 사용하지않아서 브라우저에서 사용할 수 있는 저장소로 실습을 진행
    - 브라우저에서 사용할 수 있는 저장소가 여러 개 존재하는데 가장 일반적인 저장소는 cookie와 local storage
      - 이 두 개에서 local storage를 사용
    - useState처럼 useEffect 또한 import해서 사용한다.
    - 로그인 이벤트 핸들러에 로그인 시 localstorage에 데이터가 저장되도록 해준다.
    - localstorage에 저장된 데이터를 가져오는 변수를 생성하고 조건문을 통해 해당 변수의 조건이 저장된 데이터와 일치하면 useState를 true로 업데이트한다.
    - useEffect를 추가 하지않은 상태에서 로그인 데이터를 localstorage에 저장하고 가져오게 되면 무한 루프가 생겨 오류가 발생한다.
    - useEffect 추가해 안에 무한 루프가 되는 코드를 넣으면 이제 그 함수는 React에 의해 실행되기 때문에 모든 컴포넌트 재평가 후에 실행된다.
      - 여기서 재평가 후에 실행된다는 것이 매우 중요하다.
    - 현재는 의존성 배열에 값이 없는 상태이기 때문에 실제로 앱이 시작될 때 한 번만 실행된다.
      - 의존성 배열에 값이 없기 때문에 의존성은 절대 변경되지 않는다. 그래서 변경될 의존성이 없기 때문에 한 번만 실행 되는 것
    - 데이터 가져오기는 Side Effect, UI와 직접적인 관련이 없다. 하지만 결과는 관련이 있다. 데이터 저장소 접근 자체는 관련이 없다.
    - 새로고침을 해도 로그인했을 때의 창이 보여지고, 로그인 데이터는 localstorage에 정상적으로 저장이 되어있게 된다.
    - 로그아웃 이벤트 핸들러에 로그아웃 버튼을 클릭 시 localstorage의 데이터가 삭제되도록 해주고 useState를 false로 업데이트 해주면 로그아웃이 되면서 다시 로그인 창이 자동으로 보여지게 된다.

<br />

# 오늘 느낀 점

- React의 중급~고급 기술에 해당되는 effect, reducer, context에 대한 간단한 개념에 대해 배우고 이제 막 effect를 조금 만져봤는데 대충 어떤식으로 사용하는지는 알 거 같은데 세부적인건 좀 더 진행을 해봐야지 알 거 같다는 생각이 든다. 아직 reducer와 context는 실습과 개념 정리는 못했는데 effect에 대해 여러가지 실습을 진행하고 그 다음으로 reducer, context가 진행이 될 거 같다. effect 개념은 알겠는데 이게 결국 렌더링할 때 보여지는 것 외의 작업을 처리하는 역할을 하는건데 컴포넌트 함수 내에서 사용되면 무한 루프가 발생해서 useEffect를 사용해 컴포넌트 함수 내부에서 사용하는 거 같은데 현재는 처음 앱이 렌더링 되었을 때만 작동하고 그 뒤에 의존성 배열이 빈 값으로 되어있어서 그 뒤의 추가 작동은 없는 상태이다. 현재 배운건 여기까지인데 이 useEffect에 이제 의존성 배열도 추가하고 추가 작업을 진행할 거 같은데 실습을 계속해보면서 개념정리도 해서 완벽하게 익히는게 중요하다고 생각이 된다. useEffect는 컴포넌트의 생명주기와 관련해 작업하기 때문에 애플리케이션의 동작과 상태를 더욱 효과적으로 제어할 수 있게 도와주기 때문에 꼭 제대로 학습하고 넘어가야한다고 생각이 된다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

- React Hook나 React 내용 따로 정리

<br />

# 앞으로 해야 할 일

- Advanced-js(고급 JS)에 대해 공부하며 이해하기 (JS 공부)

- React, NextJS 공부

- React 프로젝트 제작 (영화 추천 사이트)

- 거래 명세서 프로젝트 제작 (React, Python, MySQL)

- Python으로 웹 스크래퍼 만들어보기 (조금 뒤로 밀림)

- Python, PHP 공부할 거 찾아보기 (조금 뒤로 밀림)

- Python 셀레니움, 브라우저 드라이버에 대해 한번 찾아보기 (조금 뒤로 밀림)

- Python 데이터 분석도 한번 봐보기 (조금 뒤로 밀림)
