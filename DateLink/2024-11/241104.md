# 오늘 한 일

### React 프로젝트 제작 (React, NodeJS, MongoDB로 만드는 미니 커뮤니티 플랫폼)

- 구성한 내용

  - 에러 핸들러 커스텀 훅 삭제 및 댓글 수정, 답글 Form 컴포넌트 조건부 수정 및 답글 컴포넌트 변수, 함수 이름 수정
    - 댓글 수정 컴포넌트 내용을 작성하던 중에, textarea 내용이 조건부로 적용되어서 비로그인일 때 다르게 보여지는 내용이 불필요하다고 생각되어 조건부 내용을 수정해주었으며, 마찬가지로 답글 form 컴포넌트에서도 비슷하게 내용이 구성되어 있어서 조건부 내용을 수정해주었다. 추가로 답글 추가와 수정은 하나의 컴포넌트에서 실행되기 때문에 관련 변수, 함수 같은 이름을 수정해주고, 사용하지 않는 에러 핸들러 커스텀 훅을 삭제해주었다.
    - 프론트엔드
      - useErrorHandling 커스텀 훅 삭제
      - EditComment, ReplyForm
        - 댓글, 답글을 입력하는 textarea 내용의 조건부를 삭제하고, false 내용에 구성된 readOnly 내용의 textarea 내용을 삭제
      - Reply
        - replyEditToggle 내용에서 replyFormToggle로 수정
        - 답글 추가와 수정 관련된 내용은 하나의 컴포넌트로 재사용되기 때문에 변수와 함수 이름에 Edit이 아닌, Form 내용이 들어가도록 수정
    - 댓글, 답글을 입력하는 textarea 내용에서 로그인 유무를 확인하고 일치하면 내용을 입력할 수 있고, 불일치하면 로그인이 필요하다는 내용이 보여지도록 구성되었으나 이미 부모 컴포넌트에서 이메일을 확인하고 일치할 때만 수정 또는 추가 버튼이 보여지기 때문에, 내용을 입력하는 컴포넌트에서 조건부로 코드를 늘릴 필요가 없다고 생각되어서 조건부 내용을 삭제해주었다.
    - 조건부 내용을 삭제해주면서 이전보다 훨씬 코드가 간결해졌고, 답글 컴포넌트에서 변수와 함수 이름도 수정해주면서 답글 추가와 수정이 하나의 컴포넌트로 재사용된다는 것을 알 수 있게 된 것 같다.
    - [코드 내용](https://github.com/jeongsangtae/mini-community-platform/commit/142fdaf9021122c71dd750de4e6b08ff4d8ddc79)

  <br />

  - 미니 커뮤니티 플랫폼 결과 내용의 프론트엔드 컴포넌트 내용 작성
    - 사용자 페이지 컴포넌트
      - 댓글
        - 댓글 목록, 댓글, 댓글 추가, 댓글 수정
      - 답글
        - 답글 목록, 답글, 답글 form
      - 채팅 컴포넌트
        - 채팅 목록, 채팅, 채팅 입력
    - 컴포넌트에서 핵심이 되는 코드만 세부적으로 설명을 하고, 단순한 기능을 담당하는 코드는 간략하게 설명해서 전체적인 흐름이 정리되도록 내용 추가
    - [코드 내용](https://github.com/jeongsangtae/TIL/commit/6645eb02e0d1c009bab2a1fffa8f404cc6ac033d)

<br />

- 추가 및 해결 해야 할 내용
  - 마지막 기능 추가로, 관리자 권한을 부여하는 내용을 생각하고 있음
    - 가입할 때는 일반 사용자로 가입을 할 수 있고, admin 관리자 계정으로 관리자 페이지에서 관리자 권한을 부여하는 내용을 생각 중
  - 새롭게 발견한 문제
    - 관리자 채팅의 사용자 리스트에서 사용자와 나눈 마지막 메시지 내용을 가져오는데, 이 때 새로고침을 하지 않으면 당장 채팅을 나눠도 실시간으로 마지막 메시지가 갱신되지 않아서 새로운 메시지가 있는 지 확인할 수 없기 때문에 추가하는 것도 고려해야 함
    - 한편으로는, 관리자 채팅이라서 사용자가 겪는 불편함이 아니기 때문에 그냥 놔두는 것도 고려 중
  - 배포하는 과정에서 오류가 생겼던 부분과 해결한 오류에 관한 내용을 정리해줘야 함
    - CORS 오류, Rewrite 관련 내용 등
    - 로컬 스토리지 초기화 오류 해결한 방법에 대한 정리가 필요
  - 설계, 결과 이 부분에 대한 내용을 정리해줘야 하고, 발생했던 에러에 대해 최대한 정리해주는 것도 필요함
    - 설계는 완료
    - 결과 진행중
      - 백엔드, DB 완료
      - 프론트엔드 내용의 컴포넌트 내용을 처리해줘야 함
  - 댓글 수정 컴포넌트, 답글 form 컴포넌트에서 구성된 버튼 className에 대해 다시 살펴봐야 함
    - className이 조건부로 다르게 적용되도록 구성했지만, 굳이 저렇게 다르게 적용될 필요가 없다고 생각되어서 확인을 해봐야 함

# 오늘 느낀 점

- 결과 내용을 정리하면서 코드를 다시 보는데, 역시나 다시 보는 과정에서 정리가 필요한 코드가 있었고 바로 정리를 해주었다. 정리를 해주고 보니 좀 더 추가 정리가 가능할 것 같다는 생각이 들어서, 일단 확인만 해놓은 상태인데, 이 내용에 대해서는 테스트를 해보고 다시 정리를 해주는 방향으로 진행을 해야 할 것 같다. 댓글, 답글, 채팅 관련 컴포넌트 내용을 다 정리해주었기 때문에 사용자 페이지 컴포넌트 내용은 모두 정리가 끝났고, 관리자 페이지 컴포넌트를 정리해줘야 하는데 이 내용은 사용자 페이지 컴포넌트 내용과 거의 유사한 코드라서 정리한 내용을 참고로 빠르게 정리해주면 될 것 같고, 조금 다른 내용이나 추가된 내용만 잘 정리해주면 될 것 같다. 그리고 재사용되는 컴포넌트 내용에서 커스텀 훅 2가지와 Context API 내용이 남았는데, 이 내용은 정리를 조금 신경써서 해줘야 할 것 같다.

<br />

# 내일 할 일

- React 공부 및 React 프로젝트 조금씩 진행하기

<br />

# 앞으로 해야 할 일

- React, NextJS 공부

- React 프로젝트 제작
