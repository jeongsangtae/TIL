# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 그룹 채팅방 패널 내용에 주석 추가 및 다이렉트 채팅방 인증 관련 내용 테스트 및 존재하지 않는 페이지에 대한 처리 수정
  - 그룹 채팅방 패널 내에 온라인/오프라인 목록 정렬 관련 내용에 설명을 위한 주석을 추가하고, 비로그인 상태에서 다이렉트 채팅방 또는 그룹 채팅방에 접속했을 때 출력되는 메시지 관련 내용, 존재하지 않는 페이지에 접속했을 때 에러 페이지로 이동하지 않는 문제를 해결하기 위해 라우터 구조와 다이렉트 채팅방 메인 콘텐츠에 조건부 수정
  - 프론트엔드
    - router
      - 다이렉트 채팅방 관련 경로 수정
        - errorElement로 구성된 내용 주석 처리
          - 제대로 적용되지 않는 내용으로 주석 처리
        - DirectChatPage 페이지 컴포넌트 테스트를 위한 Authentication 인증 컴포넌트 추가
          - Authentication 인증 컴포넌트를 래퍼로 감싸도록 구성
          - 테스트하고 주석 처리
      - 그룹 채팅방 관련 경로 수정
        - errorElement로 구성된 내용 주석 처리
          - 제대로 적용되지 않는 내용으로 주석 처리
        - GroupChatPage 페이지 컴포넌트 테스트를 위한 Authentication 인증 컴포넌트 추가
          - Authentication 인증 컴포넌트를 래퍼로 감싸도록 구성
          - 해당 내용은 추가해야 생각한대로 동작하기 때문에 그대로 유지
      - 전역적으로 사용되는 에러 관련 경로 추가
        - 다이렉트 채팅방과 그룹 채팅방 관련 경로에서 errorElement 대신 사용되는 내용으로, 존재하지 않는 페이지에 접근했을 때 실행되는 내용
        - 경로를 "\*"로 설정
        - element는 NotFound 컴포넌트로 구성
    - DirectChatPage
      - 테스트를 위한 NoAccess 컴포넌트 및 useAuthStore Zustand 내용 추가
      - isLoggedIn 상태를 useAuthStore Zustand에서 불러오도록 구성
        - 해당 내용은 주석 처리
      - isLoggedIn 상태를 조건부로 사용하는 내용 추가
        - !isLoggedIn를 확인해 true일 경우, NoAccess 컴포넌트에 title과 description props를 통해 로그인이 필요하다는 메시지를 전달하도록 구성
        - 테스트하고 주석 처리
    - DirectChatMainContent
      - 테스트를 위한 NoAccess 컴포넌트 추가
      - JSX 코드 내용 수정
        - isLoggedIn 상태를 조건부로 사용해 삼항 연산자로 구성
          - isLoggedIn 상태가 true일 때, 다이렉트 채팅방 내용 또는 친구 관련 내용이 보여지도록 구성
          - isLoggedIn 상태가 false일 때, NoAccess 컴포넌트에 title과 description props를 통해 로그인이 필요하다는 메시지를 전달하도록 구성
    - GroupChatAnnouncementForm
      - 주석 처리했던 내용들 모두 삭제
    - GroupChatPanel
      - prioritizeHost 함수, sortedOnlineUsers, sortedOfflineUsers에 설명을 위한 주석 추가
      - 주석 처리한 내용 삭제
  - 그룹 채팅방 패널 내에 구성된 온라인/오프라인 목록에서 호스트 닉네임 위주로 정렬하는 내용에 로직을 설명하는 주석을 추가하고, 존재하지 않는 페이지에 접근했을 때 에러 페이지로 이동될 수 있도록 전역적 에러 관련 경로를 추가해주었고, 비로그인 상태에서 다이렉트 채팅방 또는 그룹 채팅방에 접근했을 때 로그인이 필요하다는 안내 메시지가 보여지도록 내용을 구성하고 확인한 결과, 추가된 주석으로 인해 어떤 역할을 하는 코드인지 명확하게 알 수 있게 되었고, 유효하지 않은 URL을 입력해 접근하면 에러 페이지로 이동해 리소스를 찾을 수 없다는 메시지와 함께 홈으로 이동하는 버튼이 정상적으로 보여지고, 비로그인 상태에서 다이렉트 채팅방 또는 그룹 채팅방에 접근할 경우 로그인이 필요하다는 메시지가 출력되는 것을 확인할 수 있었다.
    - 비로그인 상태로 그룹 채팅방이나 다이렉트 채팅방 접속했을 때, 홈으로 이동하거나 로그인, 회원가입 페이지로 이동할 수 있는 버튼 필요
    - 비로그인 상태로 다이렉트 채팅방 접근했을 때 추가 처리 필요
    - 라우터 구조를 최대한 수정하지 않고, 다이렉트 채팅방과 그룹 채팅방에 비정상적인 접근 또는 비로그인 상태로 접근했을 때 레이아웃없이 내용만 보여지도록 수정해봐야 함
    - 그룹 채팅방 패널 내의 사용자 목록에서 호스트 닉네임이 길면 아이콘이 보여지지 않는 문제가 발생하기 때문에 이에 대한 수정 필요
    - 그룹 채팅방 공지사항 내용 입력과 출력에 대해 좀 더 다듬어야 함
    - 정리해야 할 내용은 정리하고 채팅 목록과 관련된 스크롤 관련 기능을 수정해봐야 함
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/71ade13b44a8c12495d013bd00aecfa15b20b3f7)

# 오늘 느낀 점

- 그룹 채팅방 패널 내의 온라인/오프라인 목록 정렬 관련 로직에 주석을 추가해 설명을 돕도록 해주었고, 라우터 구조에 전역적으로 사용되는 에러 처리 관련 경로를 추가해 존재하지 않는 페이지에 대한 처리가 확실하게 이루어지도록 구성해주었고, 다이렉트 채팅방 관련 내용을 수정하며 테스트해 비로그인 상태에서 다이렉트 채팅방에 접속했을 때 로그인이 필요하다는 메시지가 보여지도록 구성해주었다. 일단 존재하지 않는 페이지에 대한 처리가 이제는 문제없이 진행되고 있기 때문에 이 내용에 대해서는 더 수정이 필요할 것 같지 않고, 다이렉트 채팅방이나 그룹 채팅방을 비로그인 상태로 접근하면 로그인이 필요하다는 메시지가 보여지고 있는데 여기에 버튼을 추가해 로그인 페이지 또는 홈으로 이동하도록 구성해봐야 하고, 로그인이 필요하다는 메시지가 보여지는 것은 좋긴하지만 레이아웃 내용이 함께 보여져 뭔가 UI가 적절하지 않다는 생각이 들어서 이 레이아웃이 보여지지 않도록 하는 방법이 있는지 찾아봐야 한다. 그리고 그룹 채팅방 패널 내의 사용자 목록에서 호스트 닉네임이 길면 호스트임을 알려주는 아이콘이 잘려서 보이지 않기 때문에 이에 대한 추가 수정도 해줄 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 출력되는 채팅 메시지 목록에 스크롤 관련 내용을 추가 수정해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
