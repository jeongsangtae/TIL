# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 공지사항 글자 수 관련 내용 수정
  - 그룹 채팅방 공지사항 모달 내의 입력 관련 내용에서 50자로 제한해놓은 조건에 딱 맞춰 더이상 내용이 입력되지 않도록 조건부를 수정하고, 그룹 채팅방 공지사항 모달을 열었을 때 50자일 경우 최대 글자 수에 도달해 더이상 입력하지 못한다는 메시지 내용을 보여주며 추가로 내용을 입력하지 못하도록 내용 수정
  - 프론트엔드
    - GroupChatAnnouncementForm
      - useEffect 추가
        - 50자일 때 확인하는 조건문 추가
          - announcement useState 길이를 확인해 50일 경우, 최대 글자 수에 도달했다는 텍스트가 setErrorMessage를 통해 업데이트하도록 구성
          - announcement useState 길이가 50이하일 경우, 빈 문자열을 setErrorMessage를 통해 업데이트하도록 구성
        - 의존성 배열로 announcement를 추가해, announcement 내용이 바뀔때 작동되도록 구성
      - inputChangeHandler 함수 수정
        - 50자 넘는 내용 관련 조건문 추가
          - 입력한 내용을 확인해 50자가 넘을 경우 return을 통해 바로 종료하며 반영하지 않도록 구성
        - 50자일 때 확인하는 조건문 추가
          - 입력한 내용을 확인해 50자가 되었을 경우, 최대 글자 수에 도달했다는 메시지가 띄워지도록 구성
          - 50자가 안되었을 경우에는 빈 문자열로 메시지가 띄워지지 않도록 구성
        - 이전에 사용하던 조건문 주석 처리
      - JSX 코드 내용 수정
        - textarea 내에 구성된 maxLength 내용을 주석 처리
  - 그룹 채팅방 공지사항 모달 내에 구성된 입력 관련 함수를 수정해 50자를 넘어가면 멈춰서 더이상 입력되지 않도록 구성하고, 공지사항 수정 버튼 클릭 시에 50자 모두 차있는 상태라면 바로 안내 메시지가 보여지도록 구성하고 확인한 결과, 이전에 50자 다 채운 상태로 한 글자 더 입력되고 자동으로 삭제되는 구조 대신 50자에서 더이상 입력되지 않는 것을 확인했고, 공지사항 수정 버튼 클릭 시에 50자가 꽉 채워진 상태라면 안내 메시지가 바로 보여지며 더이상 내용 입력이 불가능한 것을 확인할 수 있었다.
    - 글자 수 관련 카운트를 단순 텍스트가 아닌, 프로그레스바 같은 걸 추가해 좀 더 UX를 향상시켜봐야 함
    - 글자 수가 제한되기 전에, 보여주는 내용이 조금 허전해서 이와 관련해 추가 수정을 해봐야 함
    - 그룹 채팅방 패널 내의 사용자 목록에서 호스트 사용자 정보가 먼저 보여주도록 구성해야 함
    - 그룹 채팅방 공지사항 내용 입력과 출력에 대해 좀 더 다듬어야 함
    - 정리해야 할 내용은 정리하고 채팅 목록과 관련된 스크롤 관련 기능을 수정해봐야 함
    - 비로그인 상태로 그룹 채팅방이나 다이렉트 채팅방 접속했을 때, 홈으로 이동하거나 로그인, 회원가입 페이지로 이동할 수 있는 버튼 필요
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/e5e2bad0013ef1ca861a3b0ff4b2078bd1ca58c7)

<br />

- 공지사항 글자 수 카운트 관련 프로그레스 바 추가
  - 그룹 채팅방 공지사항 모달 내에 글자 수 카운트하는 텍스트만으로는 UX가 부족하다고 생각되어, 글자 수 카운트 관련 프로그레스 바를 추가해 글자 수에 따라 오른쪽으로 점점 게이지가 채워지거나 반대로 왼쪽으로 게이지가 내려가는 방식으로 보여지는 프로그레스 바 관련 내용 추가
  - 프론트엔드
    - GroupChatAnnouncementForm
      - JSX 코드 내용 수정
        - 프로그레스바 컨테이너 div 추가
          - progress-container className 추가
        - 프로그레스바 div 추가
          - progress-bar className 추가
          - style 항목을 추가해 width 내용이 "{(announcement.length / 50) \* 100}%"로 계산되도록 구성
        - 카운트 텍스트 관련 span 수정
          - "announcement.length >= 50"을 조건부로 구성해 true일 때는 progress-count-max className이 사용
          - false일 때는 progress-count className이 사용되도록 구성
          - "announcement.length / 50"으로 구성해 "XX/50" 같은 내용으로 공지사항 글자 수가 보여지도록 구성
        - 안내 메시지 관련 내용 수정
          - span 대신 div로 수정
          - "announcement.length >= 50"으로 확인하는 조건부 내용 삭제
  - CSS
    - GroupChatAnnouncementForm
      - group-chat-announcement-count-wrapper
        - 정렬을 위해 display, align-items 추가
        - width를 95%로 구성
        - gap을 0.5rem으로 구성
        - margin-left를 0.5rem으로 구성
      - progress-container
        - flex를 1로 구성
        - height를 0.35rem으로 구성
        - 배경색을 어두운 색으로 구성
        - overflow를 hidden으로 구성
      - progress-bar
        - height를 100%로 구성
        - background를 초록색 계열로 구성
        - transition을 width 0.2s ease로 구성
      - progress-count-max
        - 내용은 바뀐 거 없이 class 이름 수정
      - progress-count
        - 내용은 바뀐 거 없이 class 이름 수정
      - count-warning-message
        - text-align을 center로 구성
        - height, line-height는 0.75rem으로 구성
        - opacity를 1로 설정
      - count-warning-message:empty
        - opacity를 0으로 설정
      - submit-button
        - margin-top을 0.4rem으로 구성
  - 그룹 채팅방 공지사항 모달 내에서 글자 수 카운트에 따라 게이지가 채워지고 줄어드는 프로그레스 바를 추가하고 확인한 결과, 단순히 텍스트로만 카운트할 때보다 프로그레스 바를 포함한 내용이 훨씬 UX가 향상되어 보여지는 것을 확인할 수 있었다.
    - 글자 수 관련 카운트하는 텍스트와 프로그레스 바 색을 50자 또는 50자 아닐 때만이 아닌, 중간에 한 번 더 인지시켜주는 색 변화가 필요
    - 글자 수가 50자일 때, 프로그레스 바 색이 변하지 않고 있기 때문에 이와 관련해서도 수정 필요
    - 그룹 채팅방 패널 내의 사용자 목록에서 호스트 사용자 정보가 먼저 보여주도록 구성해야 함
    - 그룹 채팅방 공지사항 내용 입력과 출력에 대해 좀 더 다듬어야 함
    - 정리해야 할 내용은 정리하고 채팅 목록과 관련된 스크롤 관련 기능을 수정해봐야 함
    - 비로그인 상태로 그룹 채팅방이나 다이렉트 채팅방 접속했을 때, 홈으로 이동하거나 로그인, 회원가입 페이지로 이동할 수 있는 버튼 필요
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/2e0a409b6471fb11e30150da99887368540c4d22)

# 오늘 느낀 점

- 그룹 채팅방 공지사항 내의 글자 수 관련 텍스트 표기하는 내용에 대해 수정하고 프로그레스 바를 추가해 글자 수 텍스트와 함께 보여져 UX를 향상 시켜주었는데, 추가하고 확인해보니 조금 부족한 부분이 있어서 추가로 수정할 생각이다. 우선, 초기에 프로그레스 바와 글자 수 텍스트가 초록색으로 보인 상태에서 30 또는 40 글자를 넘어가면 노란색으로 변경되어 경고를 하고 50글자가 되었을 때 빨간색으로 보여져 최대 글자에 도달했다는 것을 알려주려고 생각중인데, 현재 프로그레스 바가 뭔가 조금 부족한 느낌이 들어서 그냥 게이지 형태로 차오르는 것이 아닌 5글자당 1칸으로 해서 10칸으로 구성하고 여기서 한 칸씩 채워지는 구조는 어떤지 구성해보고 확인을 해볼 생각이다. 최종적으로 글자 수에 따라서 프로그레스 바와 텍스트 색 변화가 총 3단계로 이루어지고, 프로그레스 바도 이전에 구성한 프로그레스 바가 아닌 좀 다른 방식으로 구성된 내용을 확인해 테스트해볼 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 출력되는 채팅 메시지 목록에 스크롤 관련 내용을 추가 수정해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
