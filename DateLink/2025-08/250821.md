# 오늘 한 일

### React + TypeScript 프로젝트 제작 (React, TypeScript, ExpressJS, MongoDB로 만드는 실시간 통신 애플리케이션)

- 그룹 채팅방 패널에 호스트 아이콘 추가 및 그룹 채팅방 공지사항에 텍스트 카운트 관련 내용, CSS 추가
  - 그룹 채팅방 패널 내의 사용자 목록에서 호스트와 일반 사용자를 구분하기 위해 호스트 옆에 아이콘을 추가해 보여지도록 구성하고, 그룹 채팅방 공지사항 입력창에서 사용자가 글자 수 제한 관련 정보를 알 수 있는 방법이 없기 때문에 글자 수 카운트 관련 내용과 제한되었을 때 안내 메시지를 보여주도록 내용 추가 및 CSS를 추가해 확실하게 구분되도록 구성
  - 프론트엔드
    - package
      - lucide react icon을 사용하기 위해 lucide react 관련 라이브러리 추가
    - GroupChatPanel
      - Crown 아이콘을 lucide-react에서 불러오도록 구성
      - JSX 코드 내용 수정
        - 사용자 목록에서 보여지는 닉네임 내용을 감싸는 span 추가
          - 별도의 className은 추가하지 않음
        - 사용자 목록에서 보여지는 닉네임 내용 뒤에 호스트를 구분하는 조건부 추가
          - 호스트 닉네임과 보여지는 닉네임이 일치하는지 비교
          - 비교해 일치할 경우 Crown 아이콘이 보여지도록 구성
            - group-chat-host-user-icon className을 추가
    - GroupChatAnnouncementForm
      - announcementValid 변수 수정
        - trimmedAnnouncement.length가 1 이상이며, 50이하일 때 true가 되도록 수정
      - inputChangeHandler 함수 수정
        - if문 조건부 내용에서 value.trim().length 내용이 50을 초과하면 에러 메시지가 보여지도록 수정
        - 에러 메시지는 30자 이하로 입력하라는 내용 대신, 최대 글자 수에 도달했다는 메시지가 보여지도록 수정
      - JSX 코드 내용 수정
        - 에러 메시지 영역 전체를 감싸는 div 추가
          - group-chat-announcement-count-wrapper className 추가
        - 공지사항 글자 수를 확인하는 span 추가
          - announcement.length를 확인해 50자 이상이면 count-max className이 적용되고, 50자 이하일 경우 count className이 적용되도록 구성
          - announcement.length/50 으로 구성해 글자 수가 실시간으로 보여지도록 구성
        - 글자 수를 초과했을 때 보여주는 안내 메시지 관련 조건부 추가
          - announcement.length 내용이 50자 이상이면 해당 내용이 보여지도록 구성
          - span으로 메시지 내용을 감싸도록 구성
            - count-warning-message className 추가
            - errorMessage useState 내용을 출력하도록 구성
        - 이전에 구성한 errorMessage useState 내용은 주석 처리
  - CSS
    - GroupChatPanel
      - group-chat-user-nickname
        - 정렬을 위해 display, align-items를 추가
        - gap을 0.25rem으로 구성
      - group-chat-host-user-icon
        - width와 height를 0.9rem으로 구성
        - 아이콘 색은 노란색으로 구성
        - position을 relative, top은 -1px로 구성
    - GroupChatAnnouncementForm
      - group-chat-announcement-count-wrapper
        - margin-left를 0.45rem으로 구성
        - opacity를 1로 구성
          - 해당 내용은 확인 후 삭제 필요
      - count-max
        - 폰트 크기를 0.85rem으로 구성
        - 색을 빨간색 계열로 구성
        - 폰트 두께를 bold로 구성
      - count
        - 폰트 크기를 0.85rem으로 구성
        - 색을 초록색 계열로 구성
      - count-warning-message
        - margin-left를 0.2rem으로 구성
        - 색을 빨간색 계열로 구성
        - 폰트 크기를 0.85rem으로 구성
      - submit-button
        - margin-top을 0.5rem으로 수정
  - 그룹 채팅방 패널 내의 사용자 목록에서 호스트 사용자는 일반 사용자와 다르게 구분될 수 있도록 호스트 관련 아이콘을 추가하고, 그룹 채팅방 공지사항 모달 내의 입력창에서 호스트가 공지사항 내용을 입력할 때 글자 수 제한에 대한 정보가 없는 상태에서 입력하면 무한대로 내용을 입력할 수 있기 때문에 이와 관련해 글자 수를 카운트하는 내용과 제한되었을 때 안내문을 보여주도록 구성하고 확인한 결과, 그룹 채팅방 패널 내의 사용자 목록에서 호스트 옆에 아이콘이 보여져 역할 구분하기 쉬워진 것을 확인했고, 그룹 채팅방 공지사항 모달에서 입력한 글자 수가 카운트되어 50글자가 되면 더이상 입력하지 못한다는 메시지와 함께 빨간색으로 강조 효과를 통해 호스트 사용자에게 제한된 글자 수를 보여주는 것을 확인할 수 있었다.
    - 제한된 글자 수 관련된 로직을 좀 더 다듬어 50글자 딱 맞춰서 더이상 입력되지 않도록 추가 수정 필요
    - trim 관련 내용도 추가로 확인해 필요없다고 생각되면 빼야 함
    - 글자 수가 제한되기 전에, 보여주는 내용이 조금 허전해서 이와 관련해 추가 수정을 해봐야 함
    - 그룹 채팅방 패널 내의 사용자 목록에서 호스트 사용자 정보가 먼저 보여주도록 구성해야 함
    - 그룹 채팅방 공지사항 내용 입력과 출력에 대해 좀 더 다듬어야 함
    - 정리해야 할 내용은 정리하고 채팅 목록과 관련된 스크롤 관련 기능을 수정해봐야 함
    - 비로그인 상태로 그룹 채팅방이나 다이렉트 채팅방 접속했을 때, 홈으로 이동하거나 로그인, 회원가입 페이지로 이동할 수 있는 버튼 필요
  - [코드 내용](https://github.com/jeongsangtae/float-chat/commit/279d4b79195a98979d968a222572ed14b7c7204e)

# 오늘 느낀 점

- 그룹 채팅방 패널 내의 사용자 목록에서 호스트 사용자는 다른 사용자들과 다르게 호스트 관련 아이콘을 추가해 구분할 수 있도록 구성해주었고, 그룹 채팅방 공지사항 모달 내의 입력창에서 호스트가 내용을 입력하면 글자 수가 카운트되어 보여지고, 50자를 넘어가면 카운트되는 내용이 빨간색으로 바뀌며 경고문이 함께 보여져 호스트에게 공지사항 입력은 50자 제한이라는 것을 알려주도록 구성해주었다. 50자 제한한 내용이 어떤 상황에서는 문제없이 적용되고 어떤 상황에서는 50자 넘게 입력할 수 있게 되는 오류가 발생하기 떄문에 추가로 수정해야 하고, 50자 딱 입력되었을 때 경고문이 보여지긴 하지만 추가로 1글자 더 입력이 가능하고 그 뒤에 다시 삭제되는 구조로 작동하기 떄문에 이와 관련해 추가 수정을 해줄 생각이다. 그리고 50자 관련 경고문이 뜨기전에 입력한 글자 수 카운트 하는 내용이 조금 허전하다는 생각이 들어서 여기에 내용을 추가할 생각이고, 그룹 채팅방 패널 내의 사용자 목록에서 온라인 목록에 호스트가 포함되어 있으면 호스트 닉네임이 최상단에 보여져야 하며, 만약 호스트가 온라인에 포함되어 있지 않을 경우에는 오프라인에서 최상단에 호스트 닉네임이 위치하도록 내용을 수정할 생각이다. 마지막으로 비로그인 상태에서 그룹 채팅방이나 다이렉트 채팅방에 접속했을 때, 로그인 페이지로 이동하는 버튼이 없어서 UX가 떨어지기 때문에 이와 관련된 내용도 추가해볼 생각이다.

<br />

# 내일 할 일

- 실시간 통신 애플리케이션 (Float Chat) 프로젝트 진행

- Zustand 내용 구성

- 닉네임 수정과 그룹 채팅방 제목 수정 내용에서 사용하지 않거나 필요없는 정보를 삭제해 코드 정리를 해야 함 (중복된 데이터 전송이나 사용하지 않는 데이터 전송 관련 내용 등)

- 그룹 채팅방에서 다른 사용자를 클릭할 수 있고, 클릭 시에 다이렉트 채팅방이 생성되어 채팅을 나눌 수 있도록 구성하는 것을 고려중 (이 방법 대신, 다른 사용자 클릭 시에 프로필이 보여지도록 구성하고 그 내용을 통해 다이렉트 메시지를 보내거나 프로필 내용을 보는 그런 방식으로 구성해야 함)

- 출력되는 채팅 메시지 목록에 스크롤 관련 내용을 추가 수정해야 함

- 채팅 입력창에 적용된 스크롤 기능 추가 수정 필요

- 다이렉트 채팅방 목록이 정렬될 때 부드럽게 위로 올라가고 내려가는 CSS 적용 필요

- 친구 관련된 내용에서 코드 정리 필요 (코드를 깔끔하게 보이도록 수정 필요)

- 여러 Zustand에 구성된 실시간 반영 로직들이 재사용될 수 있도록 커스텀 훅에 옮겨서 구성하는 것을 고려해야 함

<br />

# 앞으로 해야 할 일

- React, TypeScript 공부

- React 상태 관리 도구인 Zustand 공부

- 실시간 통신 애플리케이션 프로젝트 제작
